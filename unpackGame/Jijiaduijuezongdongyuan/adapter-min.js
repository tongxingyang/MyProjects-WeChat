var _typeof2=require("@babel/runtime/helpers/typeof");!function r(n,t,i){function r(u,e){if(!t[u]){if(!n[u]){var o="function"==typeof require&&require;if(!e&&o)return o(u,!0);if(f)return f(u,!0);throw(o=new Error("Cannot find module '"+u+"'")).code="MODULE_NOT_FOUND",o;}o=t[u]={exports:{}};n[u][0].call(o.exports,function(t){return r(n[u][1][t]||t)},o,o.exports,r,n,t,i)}return t[u].exports}for(var f="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(){},{}],2:[function(n,t){"use strict";var i=window.fsUtils,p=i.getUserDataPath,w=i.readJsonSync,e=i.makeDirSync,l=i.writeFileSync,b=i.copyFile,k=i.downloadFile,d=i.writeFile,a=i.deleteFile,f=i.rmdirSync,g=i.unzip,v=i.isOutOfStorage,u=!1,o=null,s=!1,h=[],r=[],c=!1,y=0,nt=/^https?:\/\/.*/,i={cacheDir:"gamecaches",cachedFileName:"cacheList.json",cacheEnabled:!0,autoClear:!0,cacheInterval:500,deleteInterval:500,writeFileInterval:2e3,outOfStorage:!1,tempFiles:null,cachedFiles:null,cacheQueue:{},version:"1.0",getCache:function(n){return this.cachedFiles.has(n)?this.cachedFiles.get(n).url:""},getTemp:function(n){return this.tempFiles.has(n)?this.tempFiles.get(n):""},init:function(){this.cacheDir=p()+"/"+this.cacheDir;var t=this.cacheDir+"/"+this.cachedFileName,n=w(t);n instanceof Error||!n.version?(n instanceof Error||f(this.cacheDir,!0),this.cachedFiles=new cc.AssetManager.Cache,e(this.cacheDir,!0),l(t,JSON.stringify({files:this.cachedFiles._map,version:this.version}),"utf8")):this.cachedFiles=new cc.AssetManager.Cache(n.files);this.tempFiles=new cc.AssetManager.Cache},updateLastTime:function(n){this.cachedFiles.has(n)&&(this.cachedFiles.get(n).lastTime=Date.now())},_write:function(){s=!(o=null);d(this.cacheDir+"/"+this.cachedFileName,JSON.stringify({files:this.cachedFiles._map,version:this.version}),"utf8",function(){s=!1;for(var n=0,t=r.length;n<t;n++)r[n]();r.length=0;r.push.apply(r,h);h.length=0})},writeCacheFile:function(n){o?n&&r.push(n):(o=setTimeout(this._write.bind(this),this.writeFileInterval),!0===s?n&&h.push(n):n&&r.push(n))},_cache:function(){var t,n=this;for(t in this.cacheQueue){var e=function(i){if(u=!1,i){if(v(i.message))return n.outOfStorage=!0,void(n.autoClear&&n.clearLRU())}else n.cachedFiles.add(t,{bundle:r,url:f,lastTime:s}),delete n.cacheQueue[t],n.writeCacheFile();cc.js.isEmptyObject(n.cacheQueue)||(u=!0,setTimeout(n._cache.bind(n),n.cacheInterval))},i=this.cacheQueue[t],o=i.srcUrl,h=i.isCopy,r=i.cacheBundleRoot,s=Date.now().toString(),f="",f=(r?"".concat(this.cacheDir,"/").concat(r,"/"):"".concat(this.cacheDir,"/")).concat(s).concat(y++).concat(cc.path.extname(t));return void(h?b(o,f,e):k(o,f,null,e))}u=!1},cacheFile:function(n,t,i,r,f){(i=void 0!==i?i:this.cacheEnabled)&&!this.cacheQueue[n]&&!this.cachedFiles.has(n)&&(this.cacheQueue[n]={srcUrl:t,cacheBundleRoot:r,isCopy:f},u||(u=!0,this.outOfStorage?u=!1:setTimeout(this._cache.bind(this),this.cacheInterval)))},clearCache:function(){var t=this,n;f(this.cacheDir,!0);this.cachedFiles=new cc.AssetManager.Cache;e(this.cacheDir,!0);n=this.cacheDir+"/"+this.cachedFileName;this.outOfStorage=!1;l(n,JSON.stringify({files:this.cachedFiles._map,version:this.version}),"utf8");cc.assetManager.bundles.forEach(function(n){nt.test(n.base)&&t.makeBundleFolder(n.name)})},clearLRU:function(){var n,t,i,r;if(!c&&(c=!0,n=[],t=this,this.cachedFiles.forEach(function(i,r){"internal"!==i.bundle&&(t._isZipFile(r)&&cc.assetManager.bundles.find(function(n){return-1!==n.base.indexOf(i.url)})||n.push({originUrl:r,url:i.url,lastTime:i.lastTime}))}),n.sort(function(n,t){return n.lastTime-t.lastTime}),n.length=Math.floor(this.cachedFiles.count/3),0!==n.length)){for(i=0,r=n.length;i<r;i++)this.cachedFiles.remove(n[i].originUrl);this.writeCacheFile(function(){setTimeout(function i(){var r=n.pop();t._isZipFile(r.originUrl)?(f(r.url,!0),t._deleteFileCB()):a(r.url,t._deleteFileCB.bind(t));0<n.length?setTimeout(i,t.deleteInterval):c=!1},t.deleteInterval)})}},removeCache:function(n){var t,i;this.cachedFiles.has(n)&&(i=(t=this).cachedFiles.remove(n).url,this.writeCacheFile(function(){t._isZipFile(n)?(f(i,!0),t._deleteFileCB()):a(i,t._deleteFileCB.bind(t))}))},_deleteFileCB:function(n){n||(this.outOfStorage=!1)},makeBundleFolder:function(n){e(this.cacheDir+"/"+n,!0)},unzipAndCacheBundle:function(n,t,i,r){var s=Date.now().toString(),u="".concat(this.cacheDir,"/").concat(i,"/").concat(s).concat(y++),o=this;e(u,!0);g(t,u,function(t){return t?(f(u,!0),v(t.message)&&(o.outOfStorage=!0,o.autoClear&&o.clearLRU()),void(r&&r(t))):(o.cachedFiles.add(n,{bundle:i,url:u,lastTime:s}),o.writeCacheFile(),void(r&&r(null,u)))})},_isZipFile:function(n){return".zip"===n.slice(-4)}};cc.assetManager.cacheManager=t.exports=i},{}],3:[function(n){"use strict";function ut(n,t,i){"function"==typeof t&&(i=t,t=null);h.test(n)?i&&i(new Error("Can not load remote scripts")):(__cocos_require__(n),i&&i(null))}function l(n,t,i){"function"==typeof t&&(i=t,t=null);t=document.createElement("audio");t.src=n;i&&i(null,t)}function nt(n,t,i,u,f){var e=w(n,i);e.inLocal?t(e.url,i,f):e.inCache?(r.updateLastTime(n),t(e.url,i,function(t,i){t&&r.removeCache(n);f(t,i)})):tt(n,null,i.header,u,function(u,e){u?f(u,null):t(e,i,function(t,u){t||(r.tempFiles.add(n,e),r.cacheFile(n,e,i.cacheEnabled,i.__cacheBundleRoot__,!0));f(t,u)})})}function v(n,t,i){k(n,i)}function e(n,t,i){it(n,i)}function ft(n,t,i){ot(n,i)}function ht(n,t,i){i(null,n)}function t(n,t,i){nt(n,ht,t,t.onFileProgress,i)}var b,a,r=n("../cache-manager"),f=window.fsUtils,et=f.fs,tt=f.downloadFile,it=f.readText,k=f.readArrayBuffer,ot=f.readJson,st=f.loadSubpackage,rt=f.getUserDataPath,h=/^https?:\/\/.*/,i=cc.assetManager.downloader,c=cc.assetManager.parser,u=cc.assetManager.presets,s=__globalAdapter.isSubContext,d,g,y,o,p,w;i.maxConcurrency=8;i.maxRequestsPerFrame=64;u.scene.maxConcurrency=10;u.scene.maxRequestsPerFrame=64;d={};g={};y=s?function(n,t,i){n=(n=w(n,t).url).slice(b.length+1);n=__cocos_require__(cc.path.changeExtname(n,".js"));i&&i(null,n)}:function(n,t,i){nt(n,ft,t,t.onFileProgress,i)};o=s?function(n,t,i){i(null,"Arial")}:function(n,t,i){i(null,__globalAdapter.loadFont(n)||"Arial")};var ct=c.parsePVRTex,n=function(n,t,i){k(n,function(n,r){return n?i(n):void ct(r,t,i)})},lt=c.parsePKMTex,f=function(n,t,i){k(n,function(n,r){return n?i(n):void lt(r,t,i)})};u=s?function(n,t,i){i(null,n=w(n,t).url)}:t;i.downloadDomAudio=l;i.downloadScript=ut;c.parsePVRTex=n;c.parsePKMTex=f;i.register({".js":ut,".mp3":t,".ogg":t,".wav":t,".m4a":t,".png":u,".jpg":u,".bmp":u,".jpeg":u,".gif":u,".ico":u,".tiff":u,".image":u,".webp":u,".pvr":t,".pkm":t,".font":t,".eot":t,".ttf":t,".woff":t,".svg":t,".ttc":t,".txt":t,".xml":t,".vsh":t,".fsh":t,".atlas":t,".tmx":t,".tsx":t,".plist":t,".fnt":t,".json":y,".ExportJson":t,".binary":t,".bin":t,".dbbin":t,".skel":t,".mp4":t,".avi":t,".mov":t,".mpg":t,".mpeg":t,".rm":t,".rmvb":t,bundle:function(n,t,i){var e,f,o,u=cc.path.basename(n),c=t.version||cc.assetManager.downloader.bundleVers[u];d[u]?(o="subpackages/".concat(u,"/config.").concat(c?c+".":"","json"),st(u,t.onFileProgress,function(n){n?i(n,null):y(o,t,function(n,t){t&&(t.base="subpackages/".concat(u,"/"));i(n,t)})})):(h.test(n)||!s&&n.startsWith(rt())?(f=n,e="src/scripts/".concat(u,"/index.js"),r.makeBundleFolder(u)):g[u]?(f="".concat(a,"remote/").concat(u),e="src/scripts/".concat(u,"/index.js"),r.makeBundleFolder(u)):(f="assets/".concat(u),e="assets/".concat(u,"/index.js")),__cocos_require__(e),t.__cacheBundleRoot__=u,o="".concat(f,"/config.").concat(c?c+".":"","json"),y(o,t,function(n,u){var e,s,o;n?i&&i(n):u.isZip?(n=u.zipVersion,n="".concat(f,"/res.").concat(n?n+".":"","zip"),e=n,s=t,o=function(n,t){n?i&&i(n):(u.base=t+"/res/",(n=cc.sys).platform===n.ALIPAY_GAME&&n.os===n.OS_ANDROID&&(t=t+"res/",et.accessSync({path:t})&&(u.base=t)),i&&i(null,u))},(n=r.cachedFiles.get(e))?(r.updateLastTime(e),o&&o(null,n.url)):h.test(e)?tt(e,null,s.header,s.onFileProgress,function(n,t){n?o&&o(n):r.unzipAndCacheBundle(e,t,s.__cacheBundleRoot__,o)}):r.unzipAndCacheBundle(e,e,s.__cacheBundleRoot__,o)):(u.base=f+"/",i&&i(null,u))}))},"default":function(n,t,i){nt(n,e,t,t.onFileProgress,i)}});c.register({".png":i.downloadDomImage,".jpg":i.downloadDomImage,".bmp":i.downloadDomImage,".jpeg":i.downloadDomImage,".gif":i.downloadDomImage,".ico":i.downloadDomImage,".tiff":i.downloadDomImage,".image":i.downloadDomImage,".webp":i.downloadDomImage,".pvr":n,".pkm":f,".font":o,".eot":o,".ttf":o,".woff":o,".svg":o,".ttc":o,".mp3":l,".ogg":l,".wav":l,".m4a":l,".txt":e,".xml":e,".vsh":e,".fsh":e,".atlas":e,".tmx":e,".tsx":e,".fnt":e,".plist":function(n,t,i){it(n,function(n,t){var r=null;n||(r=cc.plistParser.parse(t))||(n=new Error("parse failed"));i&&i(n,r)})},".binary":v,".bin":v,".dbbin":v,".skel":v,".ExportJson":ft});w=s?function(n){return{url:n=h.test(n)?n:b+"/"+n}}:function(n,t){var i=!1,u=!1;return!n.startsWith(rt())&&h.test(n)?t.reload||((t=r.cachedFiles.get(n))?(u=!0,n=t.url):(t=r.tempFiles.get(n))&&(i=!0,n=t)):i=!0,{url:n,inLocal:i,inCache:u}};s?(p=cc.assetManager.init,cc.assetManager.init=function(n){p.call(cc.assetManager,n);b=n.subContextRoot||""}):(cc.assetManager.transformPipeline.append(function(n){for(var t,i,u=n.output=n.input,r=0,f=u.length;r<f;r++)t=u[r],i=t.options,t.config?i.__cacheBundleRoot__=t.config.name:"bundle"!==t.ext&&(i.cacheEnabled=void 0!==i.cacheEnabled&&i.cacheEnabled)}),p=cc.assetManager.init,cc.assetManager.init=function(n){p.call(cc.assetManager,n);n.subpackages&&n.subpackages.forEach(function(n){return d[n]="subpackages/"+n});n.remoteBundles&&n.remoteBundles.forEach(function(n){return g[n]=!0});(a=n.server||"")&&!a.endsWith("/")&&(a+="/");r.init()})},{"../cache-manager":2}],4:[function(){"use strict";var t,n=cc._Audio;n&&(t=n.prototype.getDuration,Object.assign(n.prototype,{_createElement:function(){var n=this._src._nativeAsset;this._element||(this._element=__globalAdapter.createInnerAudioContext());this._element.src=n.src},destroy:function(){this._element&&(this._element.destroy(),this._element=null)},setCurrentTime:function(n){var t=this;this._src&&this._src._ensureLoaded(function(){t._element.seek(n)})},stop:function(){var t=this;this._src&&this._src._ensureLoaded(function(){t._element.seek(0);t._element.stop();t._unbindEnded();t.emit("stop");t._state=n.State.STOPPED})},_bindEnded:function(){var n=this._element;n&&n.onEnded&&!this._onended._binded&&(this._onended._binded=!0,n.onEnded(this._onended))},_unbindEnded:function(){var n=this._element;n&&n.offEnded&&this._onended._binded&&(this._onended._binded=!1,n.offEnded&&n.offEnded(this._onended))},getDuration:function(){return t.call(this)||(this._element?this._element.duration:0)},_touchToPlay:function(){},_forceUpdatingState:function(){}}))},{}],5:[function(){"use strict";cc&&cc.audioEngine&&(cc.audioEngine._maxAudioInstance=10)},{}],6:[function(){"use strict";var t=cc.internal.inputManager,n=window.__globalAdapter;Object.assign(t,{setAccelerometerEnabled:function(n){var t=cc.director.getScheduler();t.enableForTarget(this);n?(this._registerAccelerometerEvent(),t.scheduleUpdate(this)):(this._unregisterAccelerometerEvent(),t.unscheduleUpdate(this))},_registerAccelerometerEvent:function(){this._accelCurTime=0;var t=this;this._acceleration=new cc.Acceleration;n.startAccelerometer(function(n){t._acceleration.x=n.x;t._acceleration.y=n.y;t._acceleration.z=n.y})},_unregisterAccelerometerEvent:function(){this._accelCurTime=0;n.stopAccelerometer()}})},{}],7:[function(){"use strict";function u(){f.call(this);this._eventListeners={onKeyboardInput:null,onKeyboardConfirm:null,onKeyboardComplete:null}}var r,e,n,i,t,f;cc&&cc.EditBox&&(r=cc.EditBox,e=cc.js,n=r.KeyboardReturnType,t=i=null,f=r._ImplClass,e.extend(u,f),r._ImplClass=u,Object.assign(u.prototype,{init:function(n){n?this._delegate=n:cc.error("EditBox init failed")},beginEditing:function(){var n=this;this._editing||this._ensureKeyboardHide(function(){var i=n._delegate;n._showKeyboard();n._registerKeyboardEvent();n._editing=!0;t=n;i.editBoxEditingDidBegan()})},endEditing:function(){this._hideKeyboard();var n=this._eventListeners;n.onKeyboardComplete&&n.onKeyboardComplete()},_registerKeyboardEvent:function(){var r=this,i=this._delegate,n=this._eventListeners;n.onKeyboardInput=function(n){i._string!==n.value&&i.editBoxTextChanged(n.value)};n.onKeyboardConfirm=function(){i.editBoxEditingReturn();var n=r._eventListeners;n.onKeyboardComplete&&n.onKeyboardComplete()};n.onKeyboardComplete=function(){r._editing=!1;t=null;r._unregisterKeyboardEvent();i.editBoxEditingDidEnded()};__globalAdapter.onKeyboardInput(n.onKeyboardInput);__globalAdapter.onKeyboardConfirm(n.onKeyboardConfirm);__globalAdapter.onKeyboardComplete(n.onKeyboardComplete)},_unregisterKeyboardEvent:function(){var n=this._eventListeners;n.onKeyboardInput&&(__globalAdapter.offKeyboardInput(n.onKeyboardInput),n.onKeyboardInput=null);n.onKeyboardConfirm&&(__globalAdapter.offKeyboardConfirm(n.onKeyboardConfirm),n.onKeyboardConfirm=null);n.onKeyboardComplete&&(__globalAdapter.offKeyboardComplete(n.onKeyboardComplete),n.onKeyboardComplete=null)},_otherEditing:function(){return!!t&&t!==this&&t._editing},_ensureKeyboardHide:function(n){var r=this._otherEditing();if(!r&&!i)return n();i&&clearTimeout(i);r&&t.endEditing();i=setTimeout(function(){i=null;n()},600)},_showKeyboard:function(){var t=this._delegate,i=t.inputMode===r.InputMode.ANY,u=t.maxLength<0?65535:t.maxLength;__globalAdapter.showKeyboard({defaultValue:t._string,maxLength:u,multiple:i,confirmHold:!1,confirmType:function(t){switch(t){case n.DEFAULT:case n.DONE:return"done";case n.SEND:return"send";case n.SEARCH:return"search";case n.GO:return"go";case n.NEXT:return"next"}return"done"}(t.returnType),success:function(){},fail:function(n){cc.warn(n.errMsg)}})},_hideKeyboard:function(){__globalAdapter.hideKeyboard({success:function(){},fail:function(n){cc.warn(n.errMsg)}})}}))},{}],8:[function(){"use strict";var r=cc.internal.inputManager,t=cc.renderer,n=cc.game,i=cc.dynamicAtlasManager,u=n.run;Object.assign(n,{_banRunningMainLoop:__globalAdapter.isSubContext,_firstSceneLaunched:!1,run:function(){var n=this;cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){n._firstSceneLaunched=!0});u.apply(this,arguments)},setFrameRate:function(n){this.config.frameRate=n;__globalAdapter.setPreferredFramesPerSecond?__globalAdapter.setPreferredFramesPerSecond(n):(this._intervalId&&window.cancelAnimFrame(this._intervalId),this._intervalId=0,this._paused=!0,this._setAnimFrame(),this._runMainLoop())},_runMainLoop:function(){var n,t,i,u,r,f;this._banRunningMainLoop||(i=(n=this).config,u=cc.director,r=!0,f=i.frameRate,cc.debug.setDisplayStats(i.showFPS),t=function(){n._paused||(n._intervalId=window.requestAnimFrame(t),30===f&&!__globalAdapter.setPreferredFramesPerSecond&&(r=!r)||u.mainLoop())},n._intervalId=window.requestAnimFrame(t),n._paused=!1)},_initRenderer:function(){var n,r;this._rendererInitialized||(this.frame=this.container=document.createElement("DIV"),n=__globalAdapter.isSubContext?window.sharedCanvas||__globalAdapter.getSharedCanvas():canvas,this.canvas=n,this._determineRenderType(),this.renderType===this.RENDER_TYPE_WEBGL&&(r={stencil:!0,antialias:cc.macro.ENABLE_WEBGL_ANTIALIAS,alpha:cc.macro.ENABLE_TRANSPARENT_CANVAS,preserveDrawingBuffer:!1},t.initWebGL(n,r),this._renderContext=t.device._gl,!cc.macro.CLEANUP_IMAGE_CACHE&&i&&(i.enabled=!0)),this._renderContext||(this.renderType=this.RENDER_TYPE_CANVAS,t.initCanvas(n),this._renderContext=t.device._ctx),this._rendererInitialized=!0)},_initEvents:function(){this.config.registerSystemEvent&&r.registerSystemEvent(this.canvas);var t=!1;__globalAdapter.onAudioInterruptionEnd&&__globalAdapter.onAudioInterruptionEnd(function(){cc.audioEngine&&cc.audioEngine._restore()});__globalAdapter.onAudioInterruptionBegin&&__globalAdapter.onAudioInterruptionBegin(function(){cc.audioEngine&&cc.audioEngine._break()});__globalAdapter.onShow&&__globalAdapter.onShow(function(i){t&&(t=!1,n.renderType===n.RENDER_TYPE_WEBGL&&n._renderContext.finish(),n.emit(n.EVENT_SHOW,i))});__globalAdapter.onHide&&__globalAdapter.onHide(function(){t||(t=!0,n.emit(n.EVENT_HIDE))});this.on(n.EVENT_HIDE,function(){n.pause()});this.on(n.EVENT_SHOW,function(){n.resume()})},end:function(){}})},{}],9:[function(){"use strict";var n=cc.internal.inputManager,t={left:0,top:0,width:window.innerWidth,height:window.innerHeight};n&&Object.assign(n,{_updateCanvasBoundingRect:function(){},registerSystemEvent:function(){if(!this._isRegisterEvent){this._glView=cc.view;var n,i=this,r={onTouchStart:this.handleTouchesBegin,onTouchMove:this.handleTouchesMove,onTouchEnd:this.handleTouchesEnd,onTouchCancel:this.handleTouchesCancel};for(n in r)!function(){var u=r[n];__globalAdapter[n](function(n){n.changedTouches&&u.call(i,i.getTouchesByEvent(n,t))})}();this._isRegisterEvent=!0}}})},{}],10:[function(){"use strict";Object.assign(cc.screen,{autoFullScreen:function(){}})},{}],11:[function(){"use strict";var n=cc.Texture2D;n&&Object.assign(n.prototype,{initWithElement:function(n){n&&(this._image=n,this.handleLoadedTexture())}})},{}],12:[function(n,t){"use strict";t.exports=function(n,t){var r,i,u;t=t||__globalAdapter.getSystemInfoSync();n.isNative=!1;n.isBrowser=!1;n.isMobile=!0;n.language=t.language.substr(0,2);n.languageCode=t.language.toLowerCase();i=t.system.toLowerCase();r=t.platform;"android"===(r=r.toLowerCase())?n.os=n.OS_ANDROID:"ios"===r&&(n.os=n.OS_IOS);r=/[\d\.]+/.exec(i="android p"===i?"android p 9.0":i);n.osVersion=r?r[0]:i;n.osMainVersion=parseInt(n.osVersion);n.browserType=null;n.browserVersion=null;r=t.windowWidth;i=t.windowHeight;t=t.pixelRatio||1;n.windowPixelResolution={width:t*r,height:t*i};n.localStorage=window.localStorage;i=!__globalAdapter.isSubContext;u=!1;try{u=document.createElement("canvas").toDataURL("image/webp").startsWith("data:image/webp")}catch(n){}n.capabilities={canvas:!0,opengl:!!i,webp:u};n.__audioSupport={ONLY_ONE:!1,WEB_AUDIO:!1,DELAY_CREATE_CTX:!1,format:[".mp3"]}}},{}],13:[function(n,t){"use strict";t.exports=function(n){n._setupContainer=function(n,t,i){var r=n._devicePixelRatio=1;n.isRetinaEnabled()&&(r=n._devicePixelRatio=Math.min(n._maxPixelRatio,window.devicePixelRatio||1));__globalAdapter.isSubContext||(t*=r,i*=r,(r=cc.game.canvas).width===t&&r.height===i||(r.width=t,r.height=i))}}},{}],14:[function(n,t){"use strict";t.exports=function(n){Object.assign(n,{_adjustViewportMeta:function(){},setRealPixelResolution:function(n,t,i){this.setDesignResolutionSize(n,t,i)},enableAutoFullScreen:function(){cc.warn("cc.view.enableAutoFullScreen() is not supported on minigame platform.")},isAutoFullScreenEnabled:function(){return!1},setCanvasSize:function(){cc.warn("cc.view.setCanvasSize() is not supported on minigame platform.")},setFrameSize:function(){cc.warn("frame size is readonly on minigame platform.")},_initFrameSize:function(){var t,n=this._frameSize;__globalAdapter.isSubContext?(t=window.sharedCanvas||__globalAdapter.getSharedCanvas(),n.width=t.width,n.height=t.height):(n.width=window.innerWidth,n.height=window.innerHeight)}})}},{}],15:[function(n){"use strict";var t=window.__globalAdapter;Object.assign(t,{adaptSys:n("./BaseSystemInfo"),adaptView:n("./View"),adaptContainerStrategy:n("./ContainerStrategy")})},{"./BaseSystemInfo":12,"./ContainerStrategy":13,"./View":14}],16:[function(n){"use strict";n("./Audio");n("./AudioEngine");n("./DeviceMotionEvent");n("./Editbox");n("./Game");n("./InputManager");n("./AssetManager");n("./Screen");n("./Texture2D");n("./misc")},{"./AssetManager":3,"./Audio":4,"./AudioEngine":5,"./DeviceMotionEvent":6,"./Editbox":7,"./Game":8,"./InputManager":9,"./Screen":10,"./Texture2D":11,"./misc":17}],17:[function(){"use strict";cc.macro.DOWNLOAD_MAX_CONCURRENT=10},{}],18:[function(n,t){"use strict";t.exports={cloneMethod:function(n,t,i,r){t[i]&&(n[r=r||i]=t[i].bind(t))}}},{}],19:[function(n,t,i){"use strict";function o(n){this.options=n||{locator:{}}}function u(){this.cdata=!1}function r(n,t){t.lineNumber=n.lineNumber;t.columnNumber=n.columnNumber}function f(n){if(n)return"\n@"+(n.systemId||"")+"#[line:"+n.lineNumber+",col:"+n.columnNumber+"]"}function s(n,t,i){return"string"==typeof n?n.substr(t,i):n.length>=t+i||t?new java.lang.String(n,t,i)+"":n}function e(n,t){(n.currentElement||n.doc).appendChild(t)}o.prototype.parseFromString=function(n,t){var i=this.options,r=new c,e=i.domBuilder||new u,a=i.errorHandler,s=i.locator,o=i.xmlns||{},l=/\/x?html?$/.test(t),t=l?h.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return s&&e.setDocumentLocator(s),r.errorHandler=function(n,t,i){function r(t){var r=n[t];!r&&o&&(r=2==n.length?function(i){n(t,i)}:n);e[t]=r?function(n){r("[xmldom "+t+"]\t"+n+f(i))}:function(){}}if(!n){if(t instanceof u)return t;n=t}var e={},o=n instanceof Function;return i=i||{},r("warning"),r("error"),r("fatalError"),e}(a,e,s),r.domBuilder=i.domBuilder||e,l&&(o[""]="http://www.w3.org/1999/xhtml"),o.xml=o.xml||"http://www.w3.org/XML/1998/namespace",n?r.parse(n,o,t):r.errorHandler.error("invalid doc source"),e.doc};u.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null);this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(n,t,i,u){var h=this.doc,o=h.createElementNS(n,i||t),c=u.length,f;for(e(this,o),this.currentElement=o,this.locator&&r(this.locator,o),f=0;f<c;f++){var n=u.getURI(f),l=u.getValue(f),i=u.getQName(f),s=h.createAttributeNS(n,i);this.locator&&r(u.getLocator(f),s);s.value=s.nodeValue=l;o.setAttributeNode(s)}},endElement:function(){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(n,t){t=this.doc.createProcessingInstruction(n,t);this.locator&&r(this.locator,t);e(this,t)},ignorableWhitespace:function(){},characters:function(n){var t;(n=s.apply(this,arguments))&&(t=this.cdata?this.doc.createCDATASection(n):this.doc.createTextNode(n),this.currentElement?this.currentElement.appendChild(t):/^\s*$/.test(n)&&this.doc.appendChild(t),this.locator&&r(this.locator,t))},skippedEntity:function(){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(n){(this.locator=n)&&(n.lineNumber=0)},comment:function(n){n=s.apply(this,arguments);n=this.doc.createComment(n);this.locator&&r(this.locator,n);e(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(n,t,i){var u=this.doc.implementation;u&&u.createDocumentType&&(i=u.createDocumentType(n,t,i),this.locator&&r(this.locator,i),e(this,i))},warning:function(n){console.warn("[xmldom warning]\t"+n,f(this.locator))},error:function(n){console.error("[xmldom error]\t"+n,f(this.locator))},fatalError:function(n){throw console.error("[xmldom fatalError]\t"+n,f(this.locator)),n;}};"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(n){u.prototype[n]=function(){return null}});var h=n("./entities"),c=n("./sax").XMLReader,l=i.DOMImplementation=n("./dom").DOMImplementation;i.XMLSerializer=n("./dom").XMLSerializer;i.DOMParser=o},{"./dom":20,"./entities":21,"./sax":22}],20:[function(n,t,i){"use strict";function lt(n){return(lt="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function it(n,t){for(var i in n)t[i]=n[i]}function e(n,t){var i=n.prototype,u,r;if(!(i instanceof t)){r=function(){};for(u in r.prototype=t.prototype,r=new r,i)r[u]=i[u];n.prototype=i=r}i.constructor!=n&&("function"!=typeof n&&console.error("unknow Class:"+n),i.constructor=n)}function a(n,t){var i;return t instanceof Error?i=t:(i=this,Error.call(this,r[n]),this.message=r[n],Error.captureStackTrace&&Error.captureStackTrace(this,a)),i.code=n,t&&(this.message=this.message+": "+t),i}function c(){}function y(n,t){this._node=n;this._refresh=t;rt(this)}function rt(n){var r=n._node._inc||n._node.ownerDocument._inc,i,t;if(n._inc!=r){t=n._refresh(n._node);for(i in li(n,"length",t.length),t)n[i]=t[i];n._inc=r}}function d(){}function dt(n,t){for(var i=n.length;i--;)if(n[i]===t)return i}function gt(n,t,i,r){r?t[dt(t,r)]=i:t[t.length++]=i;n&&(t=(i.ownerElement=n).ownerDocument)&&(r&&ri(t,n,r),n=n,i=i,(t=t)&&t._inc++,"http://www.w3.org/2000/xmlns/"==i.namespaceURI&&(n._nsMap[i.prefix?i.localName:""]=i.value))}function ni(n,t,i){var r=dt(t,i),f,u;if(!(0<=r))throw a(8,new Error(n.tagName+"@"+i));for(u=t.length-1;r<u;)t[r]=t[++r];t.length=u;n&&(f=n.ownerDocument)&&(ri(f,n,i),i.ownerElement=null)}function ti(n){if(this._features={},n)for(var t in n)this._features=n[t]}function f(){}function ii(n){return("<"==n?"&lt;":">"==n&&"&gt;")||"&"==n&&"&amp;"||'"'==n&&"&quot;"||"&#"+n.charCodeAt()+";"}function g(n,t){if(t(n))return 1;if(n=n.firstChild)do if(g(n,t))return 1;while(n=n.nextSibling)}function p(){}function ri(n,t,i){n&&n._inc++;"http://www.w3.org/2000/xmlns/"==i.namespaceURI&&delete t._nsMap[i.prefix?i.localName:""]}function ut(n,t,i){var r,u,f;if(n&&n._inc)if(n._inc++,r=t.childNodes,i)r[r.length++]=i;else{for(u=t.firstChild,f=0;u;)u=(r[f++]=u).nextSibling;r.length=f}}function ui(n,t){var i=t.previousSibling,r=t.nextSibling;return i?i.nextSibling=r:n.firstChild=r,r?r.previousSibling=i:n.lastChild=i,ut(n.ownerDocument,n),t}function fi(n,t,i){var u=t.parentNode,r,f;if(u&&u.removeChild(t),t.nodeType===h){if(r=t.firstChild,null==r)return t;f=t.lastChild}else r=f=t;for(u=i?i.previousSibling:n.lastChild,r.previousSibling=u,f.nextSibling=i,u?u.nextSibling=r:n.firstChild=r,null==i?n.lastChild=f:i.previousSibling=f;r.parentNode=n,r!==f&&(r=r.nextSibling););return ut(n.ownerDocument||n,n),t.nodeType==h&&(t.firstChild=t.lastChild=null),t}function w(){this._nsMap={}}function nt(){}function b(){}function ft(){}function et(){}function ot(){}function st(){}function ei(){}function oi(){}function ht(){}function tt(){}function ct(){}function si(){}function hi(n,t){var u,f=[],i=9==this.nodeType&&this.documentElement||this,e=i.prefix,r=i.namespaceURI;return v(this,f,n,t,u=r&&null==e&&null==(e=i.lookupPrefix(r))?[{namespace:r,prefix:null}]:u),f.join("")}function ci(n,t,i){var u=n.prefix||"",r=n.namespaceURI,f,e;if((u||r)&&("xml"!==u||"http://www.w3.org/XML/1998/namespace"!==r)&&"http://www.w3.org/2000/xmlns/"!=r){for(f=i.length;f--;)if(e=i[f],e.prefix==u)return e.namespace!=r;return 1}}function v(n,t,i,r,u){var o,a,y,p,c,b,e;if(r){if(!(n=r(n)))return;if("string"==typeof n)return void t.push(n)}switch(n.nodeType){case s:u=u||[];var w=n.attributes,d=w.length,f=n.firstChild,e=n.tagName;for(i=ai===n.namespaceURI||i,t.push("<",e),c=0;c<d;c++)"xmlns"==(o=w.item(c)).prefix?u.push({prefix:o.localName,namespace:o.value}):"xmlns"==o.nodeName&&u.push({prefix:"",namespace:o.value});for(c=0;c<d;c++)ci(o=w.item(c),0,u)&&(a=o.prefix||"",y=o.namespaceURI,p=a?" xmlns:"+a:" xmlns",t.push(p,'="',y,'"'),u.push({prefix:a,namespace:y})),v(o,t,i,r,u);if(ci(n,0,u)&&(a=n.prefix||"",y=n.namespaceURI,p=a?" xmlns:"+a:" xmlns",t.push(p,'="',y,'"'),u.push({prefix:a,namespace:y})),f||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(e)){if(t.push(">"),i&&/^script$/i.test(e))for(;f;)f.data?t.push(f.data):v(f,t,i,r,u),f=f.nextSibling;else for(;f;)v(f,t,i,r,u),f=f.nextSibling;t.push("<\/",e,">")}else t.push("/>");return;case bt:case h:for(f=n.firstChild;f;)v(f,t,i,r,u),f=f.nextSibling;return;case l:return t.push(" ",n.name,'="',n.value.replace(/[<&"]/g,ii),'"');case k:return t.push(n.data.replace(/[<&]/g,ii));case vt:return t.push("<![CDATA[",n.data,"]\]>");case wt:return t.push("<!--",n.data,"-->");case kt:return b=n.publicId,e=n.systemId,t.push("<!DOCTYPE ",n.name),void(b?(t.push(' PUBLIC "',b),e&&"."!=e&&t.push('" "',e),t.push('">')):e&&"."!=e?t.push(' SYSTEM "',e,'">'):((e=n.internalSubset)&&t.push(" [",e,"]"),t.push(">")));case pt:return t.push("<?",n.target," ",n.data,"?>");case yt:return t.push("&",n.nodeName,";");default:t.push("??",n.nodeName)}}function li(n,t,i){n[t]=i}var at,ai="http://www.w3.org/1999/xhtml",o={},s=o.ELEMENT_NODE=1,l=o.ATTRIBUTE_NODE=2,k=o.TEXT_NODE=3,vt=o.CDATA_SECTION_NODE=4,yt=o.ENTITY_REFERENCE_NODE=5,pt=(o.ENTITY_NODE=6,o.PROCESSING_INSTRUCTION_NODE=7),wt=o.COMMENT_NODE=8,bt=o.DOCUMENT_NODE=9,kt=o.DOCUMENT_TYPE_NODE=10,h=o.DOCUMENT_FRAGMENT_NODE=11,u=(o.NOTATION_NODE=12,{}),r={};u.INDEX_SIZE_ERR=(r[1]="Index size error",1);u.DOMSTRING_SIZE_ERR=(r[2]="DOMString size error",2);u.HIERARCHY_REQUEST_ERR=(r[3]="Hierarchy request error",3);u.WRONG_DOCUMENT_ERR=(r[4]="Wrong document",4);u.INVALID_CHARACTER_ERR=(r[5]="Invalid character",5);u.NO_DATA_ALLOWED_ERR=(r[6]="No data allowed",6);u.NO_MODIFICATION_ALLOWED_ERR=(r[7]="No modification allowed",7);u.NOT_FOUND_ERR=(r[8]="Not found",8);u.NOT_SUPPORTED_ERR=(r[9]="Not supported",9);u.INUSE_ATTRIBUTE_ERR=(r[10]="Attribute in use",10);u.INVALID_STATE_ERR=(r[11]="Invalid state",11);u.SYNTAX_ERR=(r[12]="Syntax error",12);u.INVALID_MODIFICATION_ERR=(r[13]="Invalid modification",13);u.NAMESPACE_ERR=(r[14]="Invalid namespace",14);u.INVALID_ACCESS_ERR=(r[15]="Invalid access",15);a.prototype=Error.prototype;it(u,a);c.prototype={length:0,item:function(n){return this[n]||null},toString:function(n,t){for(var r=[],i=0;i<this.length;i++)v(this[i],r,n,t);return r.join("")}};y.prototype.item=function(n){return rt(this),this[n]};e(y,c);d.prototype={length:0,item:c.prototype.item,getNamedItem:function(n){for(var i,t=this.length;t--;)if(i=this[t],i.nodeName==n)return i},setNamedItem:function(n){var t=n.ownerElement;if(t&&t!=this._ownerElement)throw new a(10);return t=this.getNamedItem(n.nodeName),gt(this._ownerElement,this,n,t),t},setNamedItemNS:function(n){var t=n.ownerElement;if(t&&t!=this._ownerElement)throw new a(10);return t=this.getNamedItemNS(n.namespaceURI,n.localName),gt(this._ownerElement,this,n,t),t},removeNamedItem:function(n){return n=this.getNamedItem(n),ni(this._ownerElement,this,n),n},removeNamedItemNS:function(n,t){return t=this.getNamedItemNS(n,t),ni(this._ownerElement,this,t),t},getNamedItemNS:function(n,t){for(var i,r=this.length;r--;)if(i=this[r],i.localName==t&&i.namespaceURI==n)return i;return null}};ti.prototype={hasFeature:function(n,t){return n=this._features[n.toLowerCase()],!(!n||t&&!(t in n))},createDocument:function(n,t,i){var r=new p;return r.implementation=this,r.childNodes=new c,(r.doctype=i)&&r.appendChild(i),t&&(t=r.createElementNS(n,t),r.appendChild(t)),r},createDocumentType:function(n,t,i){var r=new st;return r.name=n,r.nodeName=n,r.publicId=t,r.systemId=i,r}};f.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(n,t){return fi(this,n,t)},replaceChild:function(n,t){this.insertBefore(n,t);t&&this.removeChild(t)},removeChild:function(n){return ui(this,n)},appendChild:function(n){return this.insertBefore(n,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(n){return function n(t,i,r){var u=new i.constructor,e,o,h,f;for(e in i)o=i[e],"object"!=lt(o)&&o!=u[e]&&(u[e]=o);i.childNodes&&(u.childNodes=new c);u.ownerDocument=t;switch(u.nodeType){case s:var a=i.attributes,v=u.attributes=new d,y=a.length;for(v._ownerElement=u,h=0;h<y;h++)u.setAttributeNode(n(t,a.item(h),!0));break;case l:r=!0}if(r)for(f=i.firstChild;f;)u.appendChild(n(t,f,r)),f=f.nextSibling;return u}(this.ownerDocument||this,this,n)},normalize:function(){for(var t,n=this.firstChild;n;)t=n.nextSibling,t&&t.nodeType==k&&n.nodeType==k?(this.removeChild(t),n.appendData(t.data)):(n.normalize(),n=t)},isSupported:function(n,t){return this.ownerDocument.implementation.hasFeature(n,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(n){for(var i,r,t=this;t;){if(i=t._nsMap,i)for(r in i)if(i[r]==n)return r;t=t.nodeType==l?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(n){for(var i,t=this;t;){if(i=t._nsMap,i&&n in i)return i[n];t=t.nodeType==l?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(n){return null==this.lookupPrefix(n)}};it(o,f);it(o,f.prototype);p.prototype={nodeName:"#document",nodeType:bt,doctype:null,documentElement:null,_inc:1,insertBefore:function(n,t){var i,r;if(n.nodeType!=h)return null==this.documentElement&&n.nodeType==s&&(this.documentElement=n),fi(this,n,t),n.ownerDocument=this,n;for(i=n.firstChild;i;)r=i.nextSibling,this.insertBefore(i,t),i=r;return n},removeChild:function(n){return this.documentElement==n&&(this.documentElement=null),ui(this,n)},importNode:function(n,t){return function n(t,i,r){var u,f;switch(i.nodeType){case s:(u=i.cloneNode(!1)).ownerDocument=t;break;case l:r=!0}if(u=u||i.cloneNode(!1),u.ownerDocument=t,u.parentNode=null,r)for(f=i.firstChild;f;)u.appendChild(n(t,f,r)),f=f.nextSibling;return u}(this,n,t)},getElementById:function(n){var t=null;return g(this.documentElement,function(i){if(i.nodeType==s&&i.getAttribute("id")==n)return t=i,!0}),t},createElement:function(n){var t=new w;return t.ownerDocument=this,t.nodeName=n,t.tagName=n,t.childNodes=new c,(t.attributes=new d)._ownerElement=t},createDocumentFragment:function(){var n=new tt;return n.ownerDocument=this,n.childNodes=new c,n},createTextNode:function(n){var t=new ft;return t.ownerDocument=this,t.appendData(n),t},createComment:function(n){var t=new et;return t.ownerDocument=this,t.appendData(n),t},createCDATASection:function(n){var t=new ot;return t.ownerDocument=this,t.appendData(n),t},createProcessingInstruction:function(n,t){var i=new ct;return i.ownerDocument=this,i.tagName=i.target=n,i.nodeValue=i.data=t,i},createAttribute:function(n){var t=new nt;return t.ownerDocument=this,t.name=n,t.nodeName=n,t.localName=n,t.specified=!0,t},createEntityReference:function(n){var t=new ht;return t.ownerDocument=this,t.nodeName=n,t},createElementNS:function(n,t){var i=new w,r=t.split(":"),u=i.attributes=new d;return i.childNodes=new c,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=n,2==r.length?(i.prefix=r[0],i.localName=r[1]):i.localName=t,u._ownerElement=i},createAttributeNS:function(n,t){var i=new nt,r=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=n,i.specified=!0,2==r.length?(i.prefix=r[0],i.localName=r[1]):i.localName=t,i}};e(p,f);p.prototype.getElementsByTagName=(w.prototype={nodeType:s,hasAttribute:function(n){return null!=this.getAttributeNode(n)},getAttribute:function(n){return n=this.getAttributeNode(n),n&&n.value||""},getAttributeNode:function(n){return this.attributes.getNamedItem(n)},setAttribute:function(n,t){n=this.ownerDocument.createAttribute(n);n.value=n.nodeValue=""+t;this.setAttributeNode(n)},removeAttribute:function(n){n=this.getAttributeNode(n);n&&this.removeAttributeNode(n)},appendChild:function(n){return n.nodeType===h?this.insertBefore(n,null):function(n,t){var r=t.parentNode,i;return r&&(i=n.lastChild,r.removeChild(t),i=n.lastChild),i=n.lastChild,t.parentNode=n,t.previousSibling=i,t.nextSibling=null,i?i.nextSibling=t:n.firstChild=t,n.lastChild=t,ut(n.ownerDocument,n,t),t}(this,n)},setAttributeNode:function(n){return this.attributes.setNamedItem(n)},setAttributeNodeNS:function(n){return this.attributes.setNamedItemNS(n)},removeAttributeNode:function(n){return this.attributes.removeNamedItem(n.nodeName)},removeAttributeNS:function(n,t){t=this.getAttributeNodeNS(n,t);t&&this.removeAttributeNode(t)},hasAttributeNS:function(n,t){return null!=this.getAttributeNodeNS(n,t)},getAttributeNS:function(n,t){return t=this.getAttributeNodeNS(n,t),t&&t.value||""},setAttributeNS:function(n,t,i){t=this.ownerDocument.createAttributeNS(n,t);t.value=t.nodeValue=""+i;this.setAttributeNode(t)},getAttributeNodeNS:function(n,t){return this.attributes.getNamedItemNS(n,t)},getElementsByTagName:function(n){return new y(this,function(t){var i=[];return g(t,function(r){r===t||r.nodeType!=s||"*"!==n&&r.tagName!=n||i.push(r)}),i})},getElementsByTagNameNS:function(n,t){return new y(this,function(i){var r=[];return g(i,function(u){u===i||u.nodeType!==s||"*"!==n&&u.namespaceURI!==n||"*"!==t&&u.localName!=t||r.push(u)}),r})}}).getElementsByTagName;p.prototype.getElementsByTagNameNS=w.prototype.getElementsByTagNameNS;e(w,f);nt.prototype.nodeType=l;e(nt,f);b.prototype={data:"",substringData:function(n,t){return this.data.substring(n,n+t)},appendData:function(n){n=this.data+n;this.nodeValue=this.data=n;this.length=n.length},insertData:function(n,t){this.replaceData(n,0,t)},appendChild:function(){throw new Error(r[3]);},deleteData:function(n,t){this.replaceData(n,t,"")},replaceData:function(n,t,i){i=this.data.substring(0,n)+i+this.data.substring(n+t);this.nodeValue=this.data=i;this.length=i.length}};e(b,f);ft.prototype={nodeName:"#text",nodeType:k,splitText:function(n){var t=(i=this.data).substring(n),i=i.substring(0,n);return this.data=this.nodeValue=i,this.length=i.length,t=this.ownerDocument.createTextNode(t),this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling),t}};e(ft,b);et.prototype={nodeName:"#comment",nodeType:wt};e(et,b);ot.prototype={nodeName:"#cdata-section",nodeType:vt};e(ot,b);st.prototype.nodeType=kt;e(st,f);ei.prototype.nodeType=12;e(ei,f);oi.prototype.nodeType=6;e(oi,f);ht.prototype.nodeType=yt;e(ht,f);tt.prototype.nodeName="#document-fragment";tt.prototype.nodeType=h;e(tt,f);ct.prototype.nodeType=pt;e(ct,f);si.prototype.serializeToString=function(n,t,i){return hi.call(n,t,i)};f.prototype.toString=hi;try{Object.defineProperty&&(at=function n(t){switch(t.nodeType){case s:case h:var i=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&i.push(n(t)),t=t.nextSibling;return i.join("");default:return t.nodeValue}},Object.defineProperty(y.prototype,"length",{get:function(){return rt(this),this.$$length}}),Object.defineProperty(f.prototype,"textContent",{get:function(){return at(this)},set:function(n){switch(this.nodeType){case s:case h:for(;this.firstChild;)this.removeChild(this.firstChild);(n||String(n))&&this.appendChild(this.ownerDocument.createTextNode(n));break;default:this.data=n;this.value=n;this.nodeValue=n}}}),li=function(n,t,i){n["$$"+t]=i})}catch(n){}i.DOMImplementation=ti;i.XMLSerializer=si},{}],21:[function(n,t,i){"use strict";i.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},{}],22:[function(n,t,i){"use strict";function y(){}function p(n,t){return t.lineNumber=n.lineNumber,t.columnNumber=n.columnNumber,t}function w(n,t,i){for(var r,h,e,l,o=n.tagName,s=null,c=n.length;c--;){var u=n[c],f=u.qName,a=u.value,f=0<(h=f.indexOf(":"))?(r=u.prefix=f.slice(0,h),e=f.slice(h+1),"xmlns"===r&&e):(r=null,"xmlns"===(e=f)&&"");u.localName=e;!1!==f&&(null==s&&(s={},b(i,i={})),i[f]=s[f]=a,u.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,a))}for(c=n.length;c--;)(r=(u=n[c]).prefix)&&("xml"===r&&(u.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==r&&(u.uri=i[r||""]));if(e=0<(h=o.indexOf(":"))?(r=n.prefix=o.slice(0,h),n.localName=o.slice(h+1)):(r=null,n.localName=o),l=n.uri=i[r||""],t.startElement(l,e,o,n),!n.closed)return n.currentNSMap=i,n.localNSMap=s,1;if(t.endElement(l,e,o),s)for(r in s)t.endPrefixMapping(r)}function b(n,t){for(var i in n)t[i]=n[i]}function k(){}var l=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+l.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),v=new RegExp("^"+l.source+a.source+"*(?::"+l.source+a.source+"*)?$"),o=0,r=1,u=2,s=3,f=4,e=5,h=6,c=7;y.prototype={parse:function(n,t,i){var l=this.domBuilder;l.startDocument();b(t,t={}),function(n,i,l,a){function et(n){var t=n.slice(1,-1);return t in i?i[t]:"#"===t.charAt(0)?function(n){if(65535<n){var t=55296+((n-=65536)>>10),i=56320+(1023&n);return String.fromCharCode(t,i)}return String.fromCharCode(n)}(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+n),n)}function ut(t){var i;g<t&&(i=n.substring(g,t).replace(/&#?\w+;/g,et),tt&&rt(g),l.characters(i,0,t-g),g=t)}function rt(t,i){for(;vt<=t&&(i=wt.exec(n));)ot=i.index,vt=ot+i[0].length,tt.lineNumber++;tt.columnNumber=t-ot+1}for(var st,ht,v,ct,lt,yt,nt,ft,at,ot=0,vt=0,wt=/.*(?:\r\n?|\n)|.*$/g,tt=l.locator,it=[{currentNSMap:t}],bt={},g=0;;){try{if(v=n.indexOf("<",g),v<0)return n.substr(g).match(/^\s*$/)||(st=l.doc,ht=st.createTextNode(n.substr(g)),st.appendChild(ht),l.currentElement=ht);switch(g<v&&ut(v),n.charAt(v+1)){case"/":var b=n.indexOf(">",v+3),y=n.substring(v+2,b),nt=it.pop();if(b<0?(y=n.substring(v+2).replace(/[\s<].*/,""),a.error("end tag name: "+y+" is not complete:"+nt.tagName),b=v+1+y.length):y.match(/\s</)&&(y=y.replace(/[\s<].*/,""),a.error("end tag name: "+y+" maybe not complete"),b=v+1+y.length),ct=nt.localNSMap,lt=nt.tagName==y,lt||nt.tagName&&nt.tagName.toLowerCase()==y.toLowerCase()){if(l.endElement(nt.uri,nt.localName,y),ct)for(yt in ct)l.endPrefixMapping(yt);lt||a.fatalError("end tag name: "+y+" is not match the current start tagName:"+nt.tagName)}else it.push(nt);b++;break;case"?":tt&&rt(v);b=function(n,t,i){var r=n.indexOf("?>",t);return r?(t=n.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/),t)?(t[0].length,i.processingInstruction(t[1],t[2]),r+2):-1:-1}(n,v,l);break;case"!":tt&&rt(v);b=function(n,t,i,r){var u,f,r;return"-"===n.charAt(t+2)?"-"!==n.charAt(t+3)?-1:(u=n.indexOf("-->",t+4),t<u?(i.comment(n,t+4,u-t-4),u+3):(r.error("Unclosed comment"),-1)):"CDATA["==n.substr(t+3,6)?(u=n.indexOf("]\]>",t+9),i.startCDATA(),i.characters(n,t+9,u-t-9),i.endCDATA(),u+3):(f=function(n,t){var i,u=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=t,r.exec(n);i=r.exec(n);)if(u.push(i),i[1])return u}(n,t),r=f.length,1<r&&/!doctype/i.test(f[0][0]))?(u=f[1][0],n=3<r&&/^public$/i.test(f[2][0])&&f[3][0],t=4<r&&f[4][0],r=f[r-1],i.startDTD(u,n&&n.replace(/^(['"])(.*?)\1$/,"$2"),t&&t.replace(/^(['"])(.*?)\1$/,"$2")),i.endDTD(),r.index+r[0].length):-1}(n,v,l,a);break;default:tt&&rt(v);var d=new k,y=it[it.length-1].currentNSMap,b=function(n,t,i,l,a,v){for(var b,p=++t,y=o,k,w;;){k=n.charAt(p);switch(k){case"=":if(y===r)b=n.slice(t,p),y=s;else{if(y!==u)throw new Error("attribute equal must after attrName");y=s}break;case"'":case'"':if(y===s||y===r){if(y===r&&(v.warning('attribute value must after "="'),b=n.slice(t,p)),t=p+1,!(0<(p=n.indexOf(k,t))))throw new Error("attribute value no end '"+k+"' match");w=n.slice(t,p).replace(/&#?\w+;/g,a);i.add(b,w,t-1);y=e}else{if(y!=f)throw new Error('attribute value must after "="');w=n.slice(t,p).replace(/&#?\w+;/g,a);i.add(b,w,t);v.warning('attribute "'+b+'" missed start quot('+k+")!!");t=p+1;y=e}break;case"/":switch(y){case o:i.setTagName(n.slice(t,p));case e:case h:case c:y=c;i.closed=!0;case f:case r:case u:break;default:throw new Error("attribute invalid close char('/')");}break;case"":return v.error("unexpected end of input"),y==o&&i.setTagName(n.slice(t,p)),p;case">":switch(y){case o:i.setTagName(n.slice(t,p));break;case f:case r:"/"===(w=n.slice(t,p)).slice(-1)&&(i.closed=!0,w=w.slice(0,-1));case u:y===u&&(w=b);y==f?(v.warning('attribute "'+w+'" missed quot(")!!'),i.add(b,w.replace(/&#?\w+;/g,a),t)):("http://www.w3.org/1999/xhtml"===l[""]&&w.match(/^(?:disabled|checked|selected)$/i)||v.warning('attribute "'+w+'" missed value!! "'+w+'" instead!!'),i.add(w,w,t));break;case s:throw new Error("attribute value missed!!");}return p;case"":k=" ";default:if(k<=" ")switch(y){case o:i.setTagName(n.slice(t,p));y=h;break;case r:b=n.slice(t,p);y=u;break;case f:w=n.slice(t,p).replace(/&#?\w+;/g,a);v.warning('attribute "'+w+'" missed quot(")!!');i.add(b,w,t);case e:y=h}else switch(y){case u:i.tagName;"http://www.w3.org/1999/xhtml"===l[""]&&b.match(/^(?:disabled|checked|selected)$/i)||v.warning('attribute "'+b+'" missed value!! "'+b+'" instead2!!');i.add(b,b,t);t=p;y=r;break;case e:v.warning('attribute space is required"'+b+'"!!');case h:y=r;t=p;break;case s:y=f;t=p;break;case c:throw new Error("elements closed character '/' and '>' must be connected to");}}p++}}(n,v,d,y,et,a),pt=d.length;if(!d.closed&&function(n,t,i,r){var u=r[i];return null==u&&((u=n.lastIndexOf("<\/"+i+">"))<t&&(u=n.lastIndexOf("<\/"+i)),r[i]=u),u<t}(n,b,d.tagName,bt)&&(d.closed=!0,i.nbsp||a.warning("unclosed xml attribute")),tt&&pt){for(nt=p(tt,{}),ft=0;ft<pt;ft++)at=d[ft],rt(at.offset),at.locator=p(tt,{});l.locator=nt;w(d,l,y)&&it.push(d);l.locator=tt}else w(d,l,y)&&it.push(d);"http://www.w3.org/1999/xhtml"!==d.uri||d.closed?b++:b=function(n,t,i,r,u){if(/^(?:script|textarea)$/i.test(i)){var f=n.indexOf("<\/"+i+">",t),n=n.substring(t+1,f);if(/[&<]/.test(n))return/^script$/i.test(i)||(n=n.replace(/&#?\w+;/g,r)),u.characters(n,0,n.length),f}return t+1}(n,b,d.tagName,et,l)}}catch(ut){ut=null;a.error("element parse error: "+ut);b=-1}g<b?g=b:ut(Math.max(v,g)+1)}}(n,i,l,this.errorHandler);l.endDocument()}};k.prototype={setTagName:function(n){if(!v.test(n))throw new Error("invalid tagName:"+n);this.tagName=n},add:function(n,t,i){if(!v.test(n))throw new Error("invalid attribute:"+n);this[this.length++]={qName:n,value:t,offset:i}},length:0,getLocalName:function(n){return this[n].localName},getLocator:function(n){return this[n].locator},getQName:function(n){return this[n].qName},getURI:function(n){return this[n].uri},getValue:function(n){return this[n].value}};i.XMLReader=y},{}],23:[function(n){"use strict";var t=GameGlobal,i=t.__globalAdapter={};Object.assign(i,{init:function(){n("./wrapper/builtin");t.DOMParser=n("../../common/xmldom/dom-parser").DOMParser;n("./wrapper/unify");n("./wrapper/fs-utils");n("../../common/engine/globalAdapter");n("./wrapper/systemInfo")},adaptEngine:function(){n("./wrapper/error-reporter");n("../../common/engine");n("./wrapper/engine");n("./wrapper/sub-context-adapter")}})},{"../../common/engine":16,"../../common/engine/globalAdapter":15,"../../common/xmldom/dom-parser":19,"./wrapper/builtin":46,"./wrapper/engine":53,"./wrapper/error-reporter":55,"./wrapper/fs-utils":56,"./wrapper/sub-context-adapter":1,"./wrapper/systemInfo":57,"./wrapper/unify":58}],24:[function(n,t,i){"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function s(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function h(n,t,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,i){return n=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=u(n)););return n}(n,t),n?(t=Object.getOwnPropertyDescriptor(n,t),t.get?t.get.call(i):t.value):void 0})(n,t,i||n)}function c(n,t){return(c=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function v(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return n=null,!1}}();return function(){var i,r=u(n);return i=t?(i=u(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments),r=this,!(i=i)||"object"!==e(i)&&"function"!=typeof i?function(n){if(void 0!==n)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}(r):i}}function u(n){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var f,o;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;o=(f=n("./HTMLAudioElement"))&&f.__esModule?f:{"default":f};var l=0,y=1,p=2,w=3,a=4,b=1,r={},k=function(){function n(t){var i,u;return!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this),(i=e.call(this))._$sn=b++,i.HAVE_NOTHING=l,i.HAVE_METADATA=y,i.HAVE_CURRENT_DATA=p,i.HAVE_FUTURE_DATA=w,i.HAVE_ENOUGH_DATA=a,i.readyState=l,u=wx.createInnerAudioContext(),r[i._$sn]=u,i._canplayEvents=["load","loadend","canplay","canplaythrough","loadedmetadata"],u.onCanplay(function(){i._loaded=!0;i.readyState=i.HAVE_CURRENT_DATA;i._canplayEvents.forEach(function(n){i.dispatchEvent({type:n})})}),u.onPlay(function(){i._paused=r[i._$sn].paused;i.dispatchEvent({type:"play"})}),u.onPause(function(){i._paused=r[i._$sn].paused;i.dispatchEvent({type:"pause"})}),u.onEnded(function(){i._paused=r[i._$sn].paused;!1===r[i._$sn].loop&&i.dispatchEvent({type:"ended"});i.readyState=a}),u.onError(function(){i._paused=r[i._$sn].paused;i.dispatchEvent({type:"error"})}),t?i.src=t:i._src="",i._loop=u.loop,i._autoplay=u.autoplay,i._paused=u.paused,i._volume=u.volume,i._muted=!1,i}!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&c(n,t)}(n,o["default"]);var t,i,f,e=v(n);return t=n,(i=[{key:"addEventListener",value:function(t,i){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};h(u(n.prototype),"addEventListener",this).call(this,t,i,r);t=String(t).toLowerCase();this._loaded&&-1!==this._canplayEvents.indexOf(t)&&this.dispatchEvent({type:t})}},{key:"load",value:function(){}},{key:"play",value:function(){r[this._$sn].play()}},{key:"resume",value:function(){r[this._$sn].resume()}},{key:"pause",value:function(){r[this._$sn].pause()}},{key:"stop",value:function(){r[this._$sn].stop()}},{key:"destroy",value:function(){r[this._$sn].destroy()}},{key:"canPlayType",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return"string"==typeof n&&(-1<n.indexOf("audio/mpeg")||n.indexOf("audio/mp4"))?"probably":""}},{key:"cloneNode",value:function(){var t=new n;return t.loop=this.loop,t.autoplay=this.autoplay,t.src=this.src,t}},{key:"currentTime",get:function(){return r[this._$sn].currentTime},set:function(n){r[this._$sn].seek(n)}},{key:"duration",get:function(){return r[this._$sn].duration}},{key:"src",get:function(){return this._src},set:function(n){this._src=n;this._loaded=!1;this.readyState=this.HAVE_NOTHING;r[this._$sn].src=n}},{key:"loop",get:function(){return this._loop},set:function(n){this._loop=n;r[this._$sn].loop=n}},{key:"autoplay",get:function(){return this.autoplay},set:function(n){this._autoplay=n;r[this._$sn].autoplay=n}},{key:"paused",get:function(){return this._paused}},{key:"volume",get:function(){return this._volume},set:function(n){this._volume=n;this._muted||(r[this._$sn].volume=n)}},{key:"muted",get:function(){return this._muted},set:function(n){this._muted=n;r[this._$sn].volume=n?0:this._volume}}])&&s(t.prototype,i),f&&s(t,f),n}();i.default=k;t.exports=i.default},{"./HTMLAudioElement":32}],25:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=function(){var n=wx.createCanvas();return n.type="canvas",n.getContext,n.getBoundingClientRect=function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},n.style={top:"0px",left:"0px",width:r.innerWidth+"px",height:r.innerHeight+"px"},n.addEventListener=function(n,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};document.addEventListener(n,t,i)},n.removeEventListener=function(n,t){document.removeEventListener(n,t)},n.dispatchEvent=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};console.log("canvas.dispatchEvent",n.type,n)},Object.defineProperty(n,"clientWidth",{enumerable:!0,get:function(){return r.innerWidth}}),Object.defineProperty(n,"clientHeight",{enumerable:!0,get:function(){return r.innerHeight}}),n};var r=n("./WindowProperties");t.exports=i.default},{"./WindowProperties":43}],26:[function(n,t,i){"use strict";function f(n){return(f="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function o(n,t){return(o=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function h(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return n=null,!1}}();return function(){var i,r=u(n);return i=t?(i=u(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments),r=this,!(i=i)||"object"!==f(i)&&"function"!=typeof i?function(n){if(void 0!==n)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}(r):i}}function u(n){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var r,e,s;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;e=(r=n("./Node"))&&r.__esModule?r:{"default":r};s=function(){function n(){var i;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this),(i=t.call(this)).className="",i.children=[],i}!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&o(n,t)}(n,e["default"]);var t=h(n);return n}();i.default=s;t.exports=i.default},{"./Node":40}],27:[function(n,t,i){"use strict";function r(){!function(n){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");}(this)}Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;i.default=r;t.exports=i.default},{}],28:[function(n,t,i){"use strict";function u(n){!function(n){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function");}(this);this.touches=[];this.targetTouches=[];this.changedTouches=[];this.preventDefault=f.noop;this.stopPropagation=f.noop;this.type=n;this.target=window.canvas;this.currentTarget=window.canvas}function r(n){return function(t){var i=new u(n);i.touches=t.touches;i.targetTouches=Array.prototype.slice.call(t.touches);i.changedTouches=t.changedTouches;i.timeStamp=t.timeStamp;document.dispatchEvent(i)}}Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;var f=n("../util/index.js");i.default=u;wx.onTouchStart(r("touchstart"));wx.onTouchMove(r("touchmove"));wx.onTouchEnd(r("touchend"));wx.onTouchCancel(r("touchcancel"));t.exports=i.default},{"../util/index.js":50}],29:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});Object.defineProperty(i,"TouchEvent",{enumerable:!0,get:function(){return u.default}});Object.defineProperty(i,"MouseEvent",{enumerable:!0,get:function(){return f.default}});var u=r(n("./TouchEvent")),f=r(n("./MouseEvent"))},{"./MouseEvent":27,"./TouchEvent":28}],30:[function(n,t,i){"use strict";function u(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;var r=new WeakMap,f=function(){function n(){!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this);r.set(this,{})}var t,i,f;return t=n,(i=[{key:"addEventListener",value:function(n,t){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=r.get(this);i||(i={},r.set(this,i));i[n]||(i[n]=[]);i[n].push(t);u.capture;u.once;u.passive}},{key:"removeEventListener",value:function(n,t){var f=r.get(this),i,u;if(f&&(i=f[n],i&&0<i.length))for(u=i.length;u--;)if(i[u]===t){i.splice(u,1);break}}},{key:"dispatchEvent",value:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=r.get(this)[i.type],n;if(t)for(n=0;n<t.length;n++)t[n](i)}}])&&u(t.prototype,i),f&&u(t,f),n}();i.default=f;t.exports=i.default},{}],31:[function(n,t,i){"use strict";function r(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;var u=function(){function n(){!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this)}var t,i,u;return t=n,(i=[{key:"construct",value:function(){}}])&&r(t.prototype,i),u&&r(t,u),n}();i.default=u;t.exports=i.default},{}],32:[function(n,t,i){"use strict";function f(n){return(f="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function o(n,t){return(o=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function h(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return n=null,!1}}();return function(){var i,r=u(n);return i=t?(i=u(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments),r=this,!(i=i)||"object"!==f(i)&&"function"!=typeof i?function(n){if(void 0!==n)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}(r):i}}function u(n){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var r,e,s;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;e=(r=n("./HTMLMediaElement"))&&r.__esModule?r:{"default":r};s=function(){function n(){return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this),t.call(this,"audio")}!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&o(n,t)}(n,e["default"]);var t=h(n);return n}();i.default=s;t.exports=i.default},{"./HTMLMediaElement":36}],33:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;var r=u(n("./Canvas"));u(n("./HTMLElement"));GameGlobal.screencanvas=GameGlobal.screencanvas||new r.default;r=GameGlobal.screencanvas.constructor;i.default=r;t.exports=i.default},{"./Canvas":25,"./HTMLElement":34}],34:[function(n,t,i){"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function o(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function s(n,t){return(s=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function a(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return n=null,!1}}();return function(){var i,r=f(n);return i=t?(i=f(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments),r=this,!(i=i)||"object"!==e(i)&&"function"!=typeof i?function(n){if(void 0!==n)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}(r):i}}function f(n){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var h;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;var r,c=(r=n("./Element"))&&r.__esModule?r:{"default":r},l=n("./util/index.js"),u=n("./WindowProperties");h=function(){function n(){var t,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this),(t=f.call(this)).className="",t.childern=[],t.style={width:"".concat(u.innerWidth,"px"),height:"".concat(u.innerHeight,"px")},t.insertBefore=l.noop,t.innerHTML="",t.tagName=i.toUpperCase(),t}!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&s(n,t)}(n,c["default"]);var t,i,r,f=a(n);return t=n,(i=[{key:"setAttribute",value:function(n,t){this[n]=t}},{key:"getAttribute",value:function(n){return this[n]}},{key:"getBoundingClientRect",value:function(){return{top:0,left:0,width:u.innerWidth,height:u.innerHeight}}},{key:"focus",value:function(){}},{key:"clientWidth",get:function(){var n=parseInt(this.style.fontSize,10)*this.innerHTML.length;return Number.isNaN(n)?0:n}},{key:"clientHeight",get:function(){var n=parseInt(this.style.fontSize,10);return Number.isNaN(n)?0:n}}])&&o(t.prototype,i),r&&o(t,r),n}();i.default=h;t.exports=i.default},{"./Element":26,"./WindowProperties":43,"./util/index.js":50}],35:[function(n,t,i){"use strict";var r,u;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;(r=n("./HTMLElement"))&&r.__esModule;u=wx.createImage().constructor;i.default=u;t.exports=i.default},{"./HTMLElement":34}],36:[function(n,t,i){"use strict";function f(n){return(f="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function o(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function s(n,t){return(s=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function c(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return n=null,!1}}();return function(){var i,r=u(n);return i=t?(i=u(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments),r=this,!(i=i)||"object"!==f(i)&&"function"!=typeof i?function(n){if(void 0!==n)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}(r):i}}function u(n){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var r,e,h;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;e=(r=n("./HTMLElement"))&&r.__esModule?r:{"default":r};h=function(){function n(t){return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this),u.call(this,t)}!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&s(n,t)}(n,e["default"]);var t,i,r,u=c(n);return t=n,(i=[{key:"addTextTrack",value:function(){}},{key:"captureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}}])&&o(t.prototype,i),r&&o(t,r),n}();i.default=h;t.exports=i.default},{"./HTMLElement":34}],37:[function(n,t,i){"use strict";function f(n){return(f="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function o(n,t){return(o=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function h(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return n=null,!1}}();return function(){var i,r=u(n);return i=t?(i=u(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments),r=this,!(i=i)||"object"!==f(i)&&"function"!=typeof i?function(n){if(void 0!==n)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}(r):i}}function u(n){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var r,e,s;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;e=(r=n("./HTMLMediaElement"))&&r.__esModule?r:{"default":r};s=function(){function n(){return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this),t.call(this,"video")}!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&o(n,t)}(n,e["default"]);var t=h(n);return n}();i.default=s;t.exports=i.default},{"./HTMLMediaElement":36}],38:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=function(){return wx.createImage()};var r;(r=n("./HTMLImageElement"))&&r.__esModule;t.exports=i.default},{"./HTMLImageElement":35}],39:[function(n,t,i){"use strict";function r(){!function(n){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");}(this)}Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;i.default=r;t.exports=i.default},{}],40:[function(n,t,i){"use strict";function f(n){return(f="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function o(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function s(n,t){return(s=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function c(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return n=null,!1}}();return function(){var i,r=u(n);return i=t?(i=u(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments),r=this,!(i=i)||"object"!==f(i)&&"function"!=typeof i?function(n){if(void 0!==n)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}(r):i}}function u(n){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}var r,e,h;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;e=(r=n("./EventTarget.js"))&&r.__esModule?r:{"default":r};h=function(){function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this),(t=u.call(this)).childNodes=[],t}!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&s(n,t)}(n,e["default"]);var t,i,r,u=c(n);return t=n,(i=[{key:"appendChild",value:function(n){this.childNodes.push(n)}},{key:"cloneNode",value:function(){var n=Object.create(this);return Object.assign(n,this),n}},{key:"removeChild",value:function(n){var t=this.childNodes.findIndex(function(t){return t===n});return-1<t?this.childNodes.splice(t,1):null}}])&&o(t.prototype,i),r&&o(t,r),n}();i.default=h;t.exports=i.default},{"./EventTarget.js":30}],41:[function(n,t,i){"use strict";function r(){!function(n){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");}(this)}Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;i.default=r;t.exports=i.default},{}],42:[function(n,t,i){"use strict";function f(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;var u=new WeakMap,r=function(){function n(t){var i=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(!function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this),this.binaryType="",this.bufferedAmount=0,this.extensions="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.protocol="",this.readyState=3,"string"!=typeof t||!/(^ws:\/\/)|(^wss:\/\/)/.test(t))throw new TypeError("Failed to construct 'WebSocket': The URL '".concat(t,"' is invalid"));return this.url=t,this.readyState=n.CONNECTING,r=wx.connectSocket({url:t,protocols:Array.isArray(r)?r:[r],tcpNoDelay:!0}),u.set(this,r),r.onClose(function(t){i.readyState=n.CLOSED;"function"==typeof i.onclose&&i.onclose(t)}),r.onMessage(function(n){"function"==typeof i.onmessage&&i.onmessage(n)}),r.onOpen(function(){i.readyState=n.OPEN;"function"==typeof i.onopen&&i.onopen()}),r.onError(function(n){"function"==typeof i.onerror&&i.onerror(new Error(n.errMsg))}),this}var t,i,r;return t=n,(i=[{key:"close",value:function(t,i){this.readyState=n.CLOSING;u.get(this).close({code:t,reason:i})}},{key:"send",value:function(n){if(!("string"==typeof n||n instanceof ArrayBuffer||ArrayBuffer.isView(n)))throw new TypeError("Failed to send message: The data ".concat(n," is invalid"));u.get(this).send({data:n})}}])&&f(t.prototype,i),r&&f(t,r),n}();(i.default=r).CONNECTING=0;r.OPEN=1;r.CLOSING=2;r.CLOSED=3;t.exports=i.default},{}],43:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.ontouchend=i.ontouchmove=i.ontouchstart=i.performance=i.screen=i.devicePixelRatio=i.innerHeight=i.innerWidth=void 0;var u=wx.getSystemInfoSync(),f=u.screenWidth,e=u.screenHeight,r=u.devicePixelRatio;i.devicePixelRatio=r;u=f;r=e;r={width:f,height:e,availWidth:i.innerWidth=u,availHeight:i.innerHeight=r,availLeft:0,availTop:0};i.screen=r;r={now:Date.now};i.performance=r;i.ontouchstart=null;i.ontouchmove=null;i.ontouchend=null},{}],44:[function(n,t,i){"use strict";function l(n){return(l="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function v(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function y(n,t){return(y=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function k(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return n=null,!1}}();return function(){var i,r=c(n);return i=t?(i=c(this).constructor,Reflect.construct(r,arguments,i)):r.apply(this,arguments),r=this,!(i=i)||"object"!==l(i)&&"function"!=typeof i?h(r):i}}function h(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function c(n){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function r(n){if("function"==typeof this["on".concat(n)]){for(var i=arguments.length,r=new Array(1<i?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];this["on".concat(n)].apply(this,r)}}function s(n){this.readyState=n;r.call(this,"readystatechange")}var f,a,u;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;a=(f=n("./EventTarget.js"))&&f.__esModule?f:{"default":f};var p=new WeakMap,w=new WeakMap,e=new WeakMap,o=new WeakMap,b=new WeakMap;u=function(){function n(){var t;return function(t){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");}(this),(t=f.call(this)).timeout=0,t.onabort=null,t.onerror=null,t.onload=null,t.onloadstart=null,t.onprogress=null,t.ontimeout=null,t.onloadend=null,t.onreadystatechange=null,t.readyState=0,t.response=null,t.responseText=null,t.responseType="",t.responseXML=null,t.status=0,t.statusText="",t.upload={},t.withCredentials=!1,e.set(h(t),{"content-type":"application/x-www-form-urlencoded"}),o.set(h(t),{}),t}!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&y(n,t)}(n,a["default"]);var t,i,u,f=k(n);return t=n,(i=[{key:"abort",value:function(){var n=b.get(this);n&&n.abort()}},{key:"getAllResponseHeaders",value:function(){var n=o.get(this);return Object.keys(n).map(function(t){return"".concat(t,": ").concat(n[t])}).join("\n")}},{key:"getResponseHeader",value:function(n){return o.get(this)[n]}},{key:"open",value:function(t,i){w.set(this,t);p.set(this,i);s.call(this,n.OPENED)}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(this.readyState!==n.OPENED)throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");i=wx.request({data:i,url:p.get(this),method:w.get(this),header:e.get(this),dataType:"other",responseType:"arraybuffer"===this.responseType?"arraybuffer":"text",timeout:this.timeout||void 0,success:function(i){var u=i.data,h=i.statusCode,i=i.header;switch(t.status=h,o.set(t,i),r.call(t,"loadstart"),s.call(t,n.HEADERS_RECEIVED),s.call(t,n.LOADING),t.responseType){case"json":t.responseText=u;try{t.response=JSON.parse(u)}catch(i){i=null;t.response=null}break;case"":case"text":t.responseText=t.response=u;break;case"arraybuffer":t.response=u;t.responseText="";for(var e=new Uint8Array(u),c=e.byteLength,f=0;f<c;f++)t.responseText+=String.fromCharCode(e[f]);break;default:t.response=null}s.call(t,n.DONE);r.call(t,"load");r.call(t,"loadend")},fail:function(n){n=n.errMsg;-1!==n.indexOf("abort")?r.call(t,"abort"):-1!==n.indexOf("timeout")?r.call(t,"timeout"):r.call(t,"error",n);r.call(t,"loadend")}});b.set(this,i)}},{key:"setRequestHeader",value:function(n,t){var i=e.get(this);i[n]=t;e.set(this,i)}},{key:"addEventListener",value:function(n,t){var i;"function"==typeof t&&(i=this,this["on"+n]=function(n){t.call(i,n)})}}])&&v(t.prototype,i),u&&v(t,u),n}();(i.default=u).UNSEND=0;u.OPENED=1;u.HEADERS_RECEIVED=2;u.LOADING=3;u.DONE=4;t.exports=i.default},{"./EventTarget.js":30}],45:[function(n,t,i){"use strict";function s(n){return(s="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function e(n){return n&&n.__esModule?n:{"default":n}}function h(){if("function"!=typeof WeakMap)return null;var n=new WeakMap;return h=function(){return n},n}var f,r;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;var u=function(n){var t,i,r,f,u;if(n&&n.__esModule)return n;if(null===n||"object"!==s(n)&&"function"!=typeof n)return{"default":n};if(t=h(),t&&t.has(n))return t.get(n);r={};f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&((u=f?Object.getOwnPropertyDescriptor(n,i):null)&&(u.get||u.set)?Object.defineProperty(r,i,u):r[i]=n[i]);return r.default=n,t&&t.set(n,r),r}(n("./window")),o=e(n("./HTMLElement")),c=e(n("./HTMLVideoElement")),l=e(n("./Image")),a=e(n("./Audio")),v=e(n("./Canvas"));n("./EventIniter/index.js");f={};r={readyState:"complete",visibilityState:"visible",documentElement:u,hidden:!1,style:{},location:u.location,ontouchstart:null,ontouchmove:null,ontouchend:null,head:new o.default("head"),body:new o.default("body"),createElement:function(n){return"canvas"===n?new v.default:"audio"===n?new a.default:"img"===n?new l.default:"video"===n?new c.default:new o.default(n)},createElementNS:function(n,t){return this.createElement(t)},getElementById:function(n){return n===u.canvas.id?u.canvas:null},getElementsByTagName:function(n){return"head"===n?[r.head]:"body"===n?[r.body]:"canvas"===n?[u.canvas]:[]},getElementsByName:function(n){return"head"===n?[r.head]:"body"===n?[r.body]:"canvas"===n?[u.canvas]:[]},querySelector:function(n){return"head"===n?r.head:"body"===n?r.body:"canvas"===n||n==="#".concat(u.canvas.id)?u.canvas:null},querySelectorAll:function(n){return"head"===n?[r.head]:"body"===n?[r.body]:"canvas"===n?[u.canvas]:[]},addEventListener:function(n,t){f[n]||(f[n]=[]);f[n].push(t)},removeEventListener:function(n,t){var i=f[n],r;if(i&&0<i.length)for(r=i.length;r--;)if(i[r]===t){i.splice(r,1);break}},dispatchEvent:function(n){var i=f[n.type],t;if(i)for(t=0;t<i.length;t++)i[t](n)}};i.default=r;t.exports=i.default},{"./Audio":24,"./Canvas":25,"./EventIniter/index.js":29,"./HTMLElement":34,"./HTMLVideoElement":37,"./Image":38,"./window":51}],46:[function(n){"use strict";function r(n){return(r="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function u(n){return n&&n.__esModule?n:{"default":n}}function f(){if("function"!=typeof WeakMap)return null;var n=new WeakMap;return f=function(){return n},n}var t=function(n){var t,i,u,o,e;if(n&&n.__esModule)return n;if(null===n||"object"!==r(n)&&"function"!=typeof n)return{"default":n};if(t=f(),t&&t.has(n))return t.get(n);u={};o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&((e=o?Object.getOwnPropertyDescriptor(n,i):null)&&(e.get||e.set)?Object.defineProperty(u,i,e):u[i]=n[i]);return u.default=n,t&&t.set(n,u),u}(n("./window")),e=u(n("./document")),i;u(n("./HTMLElement"));i=GameGlobal;GameGlobal.__isAdapterInjected||(GameGlobal.__isAdapterInjected=!0,function(){var s,n,u,r,f,o;if(t.document=e.default,t.addEventListener=function(n,i){t.document.addEventListener(n,i)},t.removeEventListener=function(n,i){t.document.removeEventListener(n,i)},t.dispatchEvent=t.document.dispatchEvent,s=wx.getSystemInfoSync().platform,"undefined"==typeof __devtoolssubcontext&&"devtools"===s){for(n in t)u=Object.getOwnPropertyDescriptor(i,n),u&&!0!==u.configurable||Object.defineProperty(window,n,{value:t[n]});for(r in t.document)f=Object.getOwnPropertyDescriptor(i.document,r),f&&!0!==f.configurable||Object.defineProperty(i.document,r,{value:t.document[r]});window.parent=window}else{for(o in t)i[o]=t[o];i.window=t;window=i;window.top=window.parent=window}}())},{"./HTMLElement":34,"./document":45,"./window":51}],47:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;var r={get length(){return wx.getStorageInfoSync().keys.length},key:function(n){return wx.getStorageInfoSync().keys[n]},getItem:function(n){return wx.getStorageSync(n)},setItem:function(n,t){return wx.setStorageSync(n,t)},removeItem:function(n){wx.removeStorageSync(n)},clear:function(){wx.clearStorageSync()}};i.default=r;t.exports=i.default},{}],48:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;var r={href:"game.js",reload:function(){}};i.default=r;t.exports=i.default},{}],49:[function(n,t,i){"use strict";var f,r;Object.defineProperty(i,"__esModule",{value:!0});i.default=void 0;f=n("./util/index.js");r=wx.getSystemInfoSync();console.log(r);var u=r.system,o=r.platform,n=r.language,r=r.version,u=-1!==u.toLowerCase().indexOf("android")?"Android; CPU ".concat(u):"iPhone; CPU iPhone OS ".concat(u," like Mac OS X"),r="Mozilla/5.0 (".concat(u,") AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/").concat(r," MiniGame NetType/WIFI Language/").concat(n),e={platform:o,language:n,appVersion:"5.0 (".concat(u,") AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"),userAgent:r,onLine:!0,geolocation:{getCurrentPosition:f.noop,watchPosition:f.noop,clearWatch:f.noop}};wx.onNetworkStatusChange&&wx.onNetworkStatusChange(function(n){e.onLine=n.isConnected});i.default=e;t.exports=i.default},{"./util/index.js":50}],50:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.noop=function(){}},{}],51:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var s,o;Object.defineProperty(i,"__esModule",{value:!0});s={canvas:!0,setTimeout:!0,setInterval:!0,clearTimeout:!0,clearInterval:!0,requestAnimationFrame:!0,cancelAnimationFrame:!0,navigator:!0,XMLHttpRequest:!0,WebSocket:!0,Image:!0,ImageBitmap:!0,Audio:!0,FileReader:!0,HTMLElement:!0,HTMLImageElement:!0,HTMLCanvasElement:!0,HTMLMediaElement:!0,HTMLAudioElement:!0,HTMLVideoElement:!0,WebGLRenderingContext:!0,TouchEvent:!0,MouseEvent:!0,DeviceMotionEvent:!0,localStorage:!0,location:!0};Object.defineProperty(i,"navigator",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(i,"XMLHttpRequest",{enumerable:!0,get:function(){return l.default}});Object.defineProperty(i,"WebSocket",{enumerable:!0,get:function(){return a.default}});Object.defineProperty(i,"Image",{enumerable:!0,get:function(){return v.default}});Object.defineProperty(i,"ImageBitmap",{enumerable:!0,get:function(){return y.default}});Object.defineProperty(i,"Audio",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(i,"FileReader",{enumerable:!0,get:function(){return w.default}});Object.defineProperty(i,"HTMLElement",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(i,"HTMLImageElement",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(i,"HTMLCanvasElement",{enumerable:!0,get:function(){return d.default}});Object.defineProperty(i,"HTMLMediaElement",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(i,"HTMLAudioElement",{enumerable:!0,get:function(){return nt.default}});Object.defineProperty(i,"HTMLVideoElement",{enumerable:!0,get:function(){return tt.default}});Object.defineProperty(i,"WebGLRenderingContext",{enumerable:!0,get:function(){return it.default}});Object.defineProperty(i,"TouchEvent",{enumerable:!0,get:function(){return f.TouchEvent}});Object.defineProperty(i,"MouseEvent",{enumerable:!0,get:function(){return f.MouseEvent}});Object.defineProperty(i,"DeviceMotionEvent",{enumerable:!0,get:function(){return f.DeviceMotionEvent}});Object.defineProperty(i,"localStorage",{enumerable:!0,get:function(){return rt.default}});Object.defineProperty(i,"location",{enumerable:!0,get:function(){return ut.default}});i.cancelAnimationFrame=i.requestAnimationFrame=i.clearInterval=i.clearTimeout=i.setInterval=i.setTimeout=i.canvas=void 0;var h=r(n("./Canvas")),c=r(n("./navigator")),l=r(n("./XMLHttpRequest")),a=r(n("./WebSocket")),v=r(n("./Image")),y=r(n("./ImageBitmap")),p=r(n("./Audio")),w=r(n("./FileReader")),b=r(n("./HTMLElement")),k=r(n("./HTMLImageElement")),d=r(n("./HTMLCanvasElement")),g=r(n("./HTMLMediaElement")),nt=r(n("./HTMLAudioElement")),tt=r(n("./HTMLVideoElement")),it=r(n("./WebGLRenderingContext")),f=n("./EventIniter/index.js"),rt=r(n("./localStorage")),ut=r(n("./location")),e=n("./WindowProperties");Object.keys(e).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(s,n)||n in i&&i[n]===e[n]||Object.defineProperty(i,n,{enumerable:!0,get:function(){return e[n]}}))});GameGlobal.screencanvas=GameGlobal.screencanvas||new h.default;o=GameGlobal.screencanvas;i.canvas=o;var u=GameGlobal,ft=u.setTimeout,et=u.setInterval,n=u.clearTimeout,h=u.clearInterval,o=u.requestAnimationFrame,u=u.cancelAnimationFrame;i.cancelAnimationFrame=u;i.requestAnimationFrame=o;i.clearInterval=h;i.clearTimeout=n;i.setInterval=et;i.setTimeout=ft},{"./Audio":24,"./Canvas":25,"./EventIniter/index.js":29,"./FileReader":31,"./HTMLAudioElement":32,"./HTMLCanvasElement":33,"./HTMLElement":34,"./HTMLImageElement":35,"./HTMLMediaElement":36,"./HTMLVideoElement":37,"./Image":38,"./ImageBitmap":39,"./WebGLRenderingContext":41,"./WebSocket":42,"./WindowProperties":43,"./XMLHttpRequest":44,"./localStorage":47,"./location":48,"./navigator":49}],52:[function(){"use strict";cc.Texture2D&&(cc.Texture2D.prototype._checkPackable=function(){var t,i,n=cc.dynamicAtlasManager;n&&(this._isCompressed()?this._packable=!1:(t=this.width,i=this.height,!this._image||t>n.maxFrameSize||i>n.maxFrameSize||this._getHash()!==n.Atlas.DEFAULT_HASH?this._packable=!1:this._image&&this._image.getContext&&(this._packable=!0)))})},{}],53:[function(n){"use strict";n("./VideoPlayer");n("./pc-adapter");n("./Texture2D")},{"./Texture2D":52,"./VideoPlayer":1,"./pc-adapter":54}],54:[function(){"use strict";function u(n){var t=n.key.toLowerCase(),n=n.code;return/^\d$/.test(t)||"delete"===t?o[n]:e[t]||0}var f=wx.getSystemInfoSync(),n=cc.internal.inputManager,i=cc.internal.eventManager,r=cc.Event.EventKeyboard,t=cc.Event.EventMouse,e={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,"*":106,"+":107,"-":109,"/":111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,";":186,"=":187,",":188,".":190,"`":192,"[":219,"\\":220,"]":221,"'":222},o={Delete:46,Digit0:48,Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,Numpad0:96,Numpad1:97,Numpad2:98,Numpad3:99,Numpad4:100,Numpad5:101,Numpad6:102,Numpad7:103,Numpad8:104,Numpad9:105,NumpadDecimal:110};__globalAdapter.isSubContext||"windows"!==f.platform||(n.registerSystemEvent=function(){function e(t,r,u){wx[t](function(t){var e=n.getMouseEvent(t,f,r);e.setButton(t.button||0);u(t,e);i.dispatchEvent(e)})}var f;this._isRegisterEvent||(this._glView=cc.view,wx.onKeyDown(function(n){return i.dispatchEvent(new r(u(n),!0))}),wx.onKeyUp(function(n){return i.dispatchEvent(new r(u(n),!1))}),f={top:0,left:0,width:window.innerWidth,height:window.innerHeight},e("onMouseDown",t.DOWN,function(t){n._mousePressed=!0;n.handleTouchesBegin([n.getTouchByXY(t.x,t.y,f)])}),e("onMouseUp",t.UP,function(t){n._mousePressed=!1;n.handleTouchesEnd([n.getTouchByXY(t.x,t.y,f)])}),e("onMouseMove",t.MOVE,function(t,i){n.handleTouchesMove([n.getTouchByXY(t.x,t.y,f)]);n._mousePressed||i.setButton(null)}),e("onWheel",t.SCROLL,function(n,t){t.setScrollData(0,-n.deltaY)}),this._isRegisterEvent=!0)})},{}],55:[function(n){"use strict";wx.onError&&wx.onError(function n(t){wx.offError&&wx.offError(n);var u,f,i,r=Math.random()<.01;!__globalAdapter.isSubContext&&r&&(!(u=wx.getSystemInfoSync())||(f=cc.Canvas.instance.node)&&((i=new cc.Node).color=cc.Color.BLACK,r=i.addComponent(cc.Label),i.height=f.height-60,i.width=f.width-60,r.overflow=cc.Label.Overflow.SHRINK,r.horizontalAlign=cc.Label.HorizontalAlign.LEFT,r.verticalAlign=cc.Label.VerticalAlign.TOP,r.fontSize=24,r.string="出错了，请截屏发送给游戏开发者（Please send this screenshot to the game developer）\nPlatform: WeChat "+u.version+"\nEngine: Cocos Creator v"+window.CocosEngine+"\nDevice: "+u.brand+" "+u.model+" System: "+u.system+"\nError:\n"+t.message,cc.LabelOutline&&(i.addComponent(cc.LabelOutline).color=cc.Color.WHITE),i.once("touchend",function(){i.destroy();setTimeout(function(){cc.director.resume()},1e3)}),i.parent=f,cc.director.pause()))})},{}],56:[function(n,t){"use strict";var i=wx.getFileSystemManager?wx.getFileSystemManager():null,u=/the maximum size of the file storage/,r={fs:i,isOutOfStorage:function(n){return u.test(n)},getUserDataPath:function(){return wx.env.USER_DATA_PATH},checkFsValid:function(){return!!i||(console.warn("can not get the file system!"),!1)},deleteFile:function(n,t){i.unlink({filePath:n,success:function(){t&&t(null)},fail:function(i){console.warn("Delete file failed: path: ".concat(n," message: ").concat(i.errMsg));t&&t(new Error(i.errMsg))}})},downloadFile:function(n,t,i,u,f){var e={url:n,success:function(t){200===t.statusCode?f&&f(null,t.tempFilePath||t.filePath):(t.filePath&&r.deleteFile(t.filePath),console.warn("Download file failed: path: ".concat(n," message: ").concat(t.statusCode)),f&&f(new Error(t.statusCode),null))},fail:function(t){console.warn("Download file failed: path: ".concat(n," message: ").concat(t.errMsg));f&&f(new Error(t.errMsg),null)}};t&&(e.filePath=t);i&&(e.header=i);e=wx.downloadFile(e);u&&e.onProgressUpdate(u)},saveFile:function(n,t,i){wx.saveFile({tempFilePath:n,filePath:t,success:function(){i&&i(null)},fail:function(t){console.warn("Save file failed: path: ".concat(n," message: ").concat(t.errMsg));i&&i(new Error(t.errMsg))}})},copyFile:function(n,t,r){i.copyFile({srcPath:n,destPath:t,success:function(){r&&r(null)},fail:function(t){console.warn("Copy file failed: path: ".concat(n," message: ").concat(t.errMsg));r&&r(new Error(t.errMsg))}})},writeFile:function(n,t,r,u){i.writeFile({filePath:n,encoding:r,data:t,success:function(){u&&u(null)},fail:function(t){console.warn("Write file failed: path: ".concat(n," message: ").concat(t.errMsg));u&&u(new Error(t.errMsg))}})},writeFileSync:function(n,t,r){try{return i.writeFileSync(n,t,r),null}catch(t){return t={},console.warn("Write file failed: path: ".concat(n," message: ").concat(t.message)),new Error(t.message)}},readFile:function(n,t,r){i.readFile({filePath:n,encoding:t,success:function(n){r&&r(null,n.data)},fail:function(t){console.warn("Read file failed: path: ".concat(n," message: ").concat(t.errMsg));r&&r(new Error(t.errMsg),null)}})},readDir:function(n,t){i.readdir({dirPath:n,success:function(n){t&&t(null,n.files)},fail:function(i){console.warn("Read directory failed: path: ".concat(n," message: ").concat(i.errMsg));t&&t(new Error(i.errMsg),null)}})},readText:function(n,t){r.readFile(n,"utf8",t)},readArrayBuffer:function(n,t){r.readFile(n,"",t)},readJson:function(n,t){r.readFile(n,"utf8",function(i,r){var u=null;if(!i)try{u=JSON.parse(r)}catch(r){r={};console.warn("Read json failed: path: ".concat(n," message: ").concat(r.message));i=new Error(r.message)}t&&t(i,u)})},readJsonSync:function(n){try{var t=i.readFileSync(n,"utf8");return JSON.parse(t)}catch(t){return t={},console.warn("Read json failed: path: ".concat(n," message: ").concat(t.message)),new Error(t.message)}},makeDirSync:function(n,t){try{return i.mkdirSync(n,t),null}catch(t){return t={},console.warn("Make directory failed: path: ".concat(n," message: ").concat(t.message)),new Error(t.message)}},rmdirSync:function(n,t){try{i.rmdirSync(n,t)}catch(t){return t={},console.warn("rm directory failed: path: ".concat(n," message: ").concat(t.message)),new Error(t.message)}},exists:function(n,t){i.access({path:n,success:function(){t&&t(!0)},fail:function(){t&&t(!1)}})},loadSubpackage:function(n,t,i){var r=wx.loadSubpackage({name:n,success:function(){i&&i()},fail:function(t){console.warn("Load Subpackage failed: path: ".concat(n," message: ").concat(t.errMsg));i&&i(new Error("Failed to load subpackage ".concat(n,": ").concat(t.errMsg)))}});return t&&r.onProgressUpdate(t),r},unzip:function(n,t,r){i.unzip({zipFilePath:n,targetPath:t,success:function(){r&&r(null)},fail:function(t){console.warn("unzip failed: path: ".concat(n," message: ").concat(t.errMsg));r&&r(new Error("unzip failed: "+t.errMsg))}})}};window.fsUtils=t.exports=r},{}],57:[function(){"use strict";var n=window.__globalAdapter,t=wx.getSystemInfoSync(),i=n.adaptSys;Object.assign(n,{adaptSys:function(r){var u;i.call(this,r);"windows"===t.platform?(r.isMobile=!1,r.os=r.OS_WINDOWS):n.isDevTool&&(-1<(u=t.system.toLowerCase()).indexOf("android")?r.os=r.OS_ANDROID:-1<u.indexOf("ios")&&(r.os=r.OS_IOS));r.platform=wx.getOpenDataContext?r.WECHAT_GAME:r.WECHAT_GAME_SUB;r.getSafeAreaRect=function(){var r=cc.view,t=n.getSafeArea(),u=r.getFrameSize(),i=new cc.Vec2(t.left,t.bottom),t=new cc.Vec2(t.right,t.top),u={left:0,top:0,width:u.width,height:u.height};return r.convertToLocationInView(i.x,i.y,u,i),r.convertToLocationInView(t.x,t.y,u,t),r._convertPointWithScale(i),r._convertPointWithScale(t),cc.rect(i.x,i.y,t.x-i.x,t.y-i.y)}}})},{}],58:[function(n){"use strict";var t,r,f,e,o,u,i=n("../../../common/utils");window.__globalAdapter&&(t=window.__globalAdapter,n=(r=wx.getSystemInfoSync()).windowWidth,f=r.windowHeight,e=f<n,t.isSubContext=void 0===wx.getOpenDataContext,t.isDevTool="devtools"===r.platform,i.cloneMethod(t,wx,"getSystemInfoSync"),i.cloneMethod(t,wx,"onTouchStart"),i.cloneMethod(t,wx,"onTouchMove"),i.cloneMethod(t,wx,"onTouchEnd"),i.cloneMethod(t,wx,"onTouchCancel"),i.cloneMethod(t,wx,"createInnerAudioContext"),i.cloneMethod(t,wx,"onAudioInterruptionEnd"),i.cloneMethod(t,wx,"onAudioInterruptionBegin"),i.cloneMethod(t,wx,"createVideo"),i.cloneMethod(t,wx,"setPreferredFramesPerSecond"),i.cloneMethod(t,wx,"showKeyboard"),i.cloneMethod(t,wx,"hideKeyboard"),i.cloneMethod(t,wx,"updateKeyboard"),i.cloneMethod(t,wx,"onKeyboardInput"),i.cloneMethod(t,wx,"onKeyboardConfirm"),i.cloneMethod(t,wx,"onKeyboardComplete"),i.cloneMethod(t,wx,"offKeyboardInput"),i.cloneMethod(t,wx,"offKeyboardConfirm"),i.cloneMethod(t,wx,"offKeyboardComplete"),i.cloneMethod(t,wx,"getOpenDataContext"),i.cloneMethod(t,wx,"onMessage"),i.cloneMethod(t,wx,"getSharedCanvas"),i.cloneMethod(t,wx,"loadFont"),i.cloneMethod(t,wx,"onShow"),i.cloneMethod(t,wx,"onHide"),i.cloneMethod(t,wx,"onError"),i.cloneMethod(t,wx,"offError"),o=!1,u=1,wx.onDeviceOrientationChange&&wx.onDeviceOrientationChange(function(n){"landscape"===n.value?u=1:"landscapeReverse"===n.value&&(u=-1)}),Object.assign(t,{startAccelerometer:function(n){o?wx.startAccelerometer&&wx.startAccelerometer({fail:function(n){console.error("start accelerometer failed",n)}}):(o=!0,wx.onAccelerometerChange&&wx.onAccelerometerChange(function(t){var o,i={},r=t.x,f=t.y;e&&(o=r,r=-f,f=o);i.x=r*u;i.y=f*u;i.z=t.z;n&&n(i)}))},stopAccelerometer:function(){wx.stopAccelerometer&&wx.stopAccelerometer({fail:function(n){console.error("stop accelerometer failed",n)}})}}),t.getSafeArea=function(){var n=r.safeArea,i=n.top,u=n.left,o=n.bottom,s=n.right,h=n.width,c=n.height;return"ios"===r.platform&&!t.isDevTool&&e&&(i=f-(n=[s,i,u,o,h,c])[0],u=n[1],o=f-n[2],s=n[3],c=n[4],h=n[5]),{top:i,left:u,bottom:o,right:s,width:h,height:c}})},{"../../../common/utils":18}]},{},[23])