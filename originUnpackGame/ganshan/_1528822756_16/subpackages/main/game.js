var global = (function () {
  return this
})();
if (!global && typeof GameGlobal !== 'undefined') global = GameGlobal;
var pluginInfoMap = {};;
global.requirePlugin = global.requirePlugin || function (path) {
  var position = path.indexOf('/');
  var alias = '';
  var pagePath = '';
  if (position !== -1) {
      alias = path.substr(0, position);
      pagePath = path.substr(position + 1, path.length);
  } else {
      alias = path;
  }
  if (pluginInfoMap.hasOwnProperty(alias)) {
      var realPath = '';
      if (pagePath.length === 0) {
          realPath = '__plugin__/' + pluginInfoMap[alias].appid;
          return require(realPath);
      } else {
          realPath = '__plugin__/' + pluginInfoMap[alias].appid + '/' + pagePath;
          return require(realPath);
      }
  } else {
      console.error('not found alias: ', alias);
      throw new Error('Plugin ' + alias + ' is not defined.')
  }
};
define("subpackages/main/game.js", function (require, module, exports) {
  System.register("chunks:///_virtual/addOne.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./entityUtil.ts"], (function (t) {
      "use strict";
      var n, i, o, e, r;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              i = t.cclegacy, o = t._decorator, e = t.Component
          }, function (t) {
              r = t.entityUtil
          }]
          , execute: function () {
              var s;
              i._RF.push({}, "5d8d3mLfMhHUYVju+8liG1P", "addOne", void 0);
              var c = o.ccclass;
              o.property, t("addOne", c("addOne")(s = function (t) {
                  function i() {
                      return t.apply(this, arguments) || this
                  }
                  return n(i, t), i.prototype.init = function (t) {
                      var n = this;
                      this.node.worldPosition = t, this.node.qtWorldPositionY(this.node.worldPosition.y + 100, .5)
                          .call((function () {
                              r.hideEntity(n.node)
                          }))
                          .start()
                  }, i
              }(e)) || s);
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/AdHorizontal.ts", ["cc"], (function (t) {
      "use strict";
      var o;
      return {
          setters: [function (t) {
              o = t.cclegacy
          }]
          , execute: function () {
              var n;
              t("AdHorizontal", void 0), o._RF.push({}, "84390KVhwtIs56/oH5I5TVn", "AdHorizontal", void 0)
                  , function (t) {
                      t[t.NONE = 0] = "NONE", t[t.LEFT = 1] = "LEFT", t[t.RIGHT = 2] = "RIGHT", t[t.CENTER = 8] = "CENTER", t[t.CUSTOM = 16] = "CUSTOM"
                  }(n || (n = t("AdHorizontal", {}))), o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/AdVertical.ts", ["cc"], (function (t) {
      "use strict";
      var c;
      return {
          setters: [function (t) {
              c = t.cclegacy
          }]
          , execute: function () {
              var e;
              t("AdVertical", void 0), c._RF.push({}, "47a8dGw0aZHHLHnsdyPBglo", "AdVertical", void 0)
                  , function (t) {
                      t[t.NONE = 32] = "NONE", t[t.TOP = 64] = "TOP", t[t.CENTER = 128] = "CENTER", t[t.BOTTOM = 256] = "BOTTOM", t[t.CUSTOM = 512] = "CUSTOM"
                  }(e || (e = t("AdVertical", {}))), c._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/advertiseForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./dataUtil.ts", "./eventUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./baseAdForm.ts", "./platformUtil.ts", "./BubbleCfg.ts", "./CustomDefine.ts"], (function (t) {
      "use strict";
      var e, i, n, o, r, s, a, l, u, c, f, h, d, m, b, p, v, E, g;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, s = t._decorator, a = t.Label, l = t.Node
          }, function (t) {
              u = t.VIDEO_STATUS, c = t.VIDEO_MSG
          }, function (t) {
              f = t.default
          }, function (t) {
              h = t.default
          }, function (t) {
              d = t.httpUtil
          }, function (t) {
              m = t.memoryConfig
          }, function (t) {
              b = t.uiManager
          }, function (t) {
              p = t.baseAdForm
          }, function (t) {
              v = t.platformUtil
          }, function (t) {
              E = t.BubbleCfg
          }, function (t) {
              g = t.eventDefine
          }]
          , execute: function () {
              var C, T, F, y, w, D, V, A, _, M, L;
              r._RF.push({}, "d703avwhHdHS4wlKF8suirC", "advertiseForm", void 0);
              var S = s.ccclass
                  , U = s.property;
              t("advertiseForm", (C = S("advertiseForm"), T = U(a), F = U(l), y = U(l), w = U(l), C((A = e((V = function (t) {
                      function e() {
                          for (var e, i = arguments.length, r = new Array(i), s = 0; s < i; s++) r[s] = arguments[s];
                          return e = t.call.apply(t, [this].concat(r)) || this, n(e, "txtMemo", A, o(e)), n(e, "btnConfirm", _, o(e)), n(e, "btnVideo", M, o(e)), n(e, "btnCancel", L, o(e)), e
                      }
                      i(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnConfirm, this.onAdvertise), this.bindTouchEnd(this.btnVideo, this.onVideo), this.bindTouchEnd(this.btnCancel, this.hideForm)
                      }, r.onEnable = function () {
                          t.prototype.onEnable.call(this);
                          var e = m.instance.getIntKey("customer_leaflet_num", 20);
                          this.txtMemo.string = "预计" + e + "个", this.btnConfirm.active = f.isFreeTrial("leaflet", 1), this.btnVideo.active = !this.btnConfirm.active, this.showTopCustomAd(), this.showBottomCustomAd()
                      }, r.onDisable = function () {
                          this.hideBottomCustomAd(), this.hideTopCustomAd()
                      }, r.onAdvertise = function () {
                          h.dispatchEvent(g.VIDEO_LEAFLET, null), f.addFreeTrial("leaflet", 0, 1), b.showToast(E.get(1e4)
                              .memo), this.hideForm()
                      }, r.onVideo = function () {
                          var t = this;
                          d.reportVideoStart("吆喝"), v.currentPlatform.showVideo((function (e) {
                              switch (e) {
                              case u.END:
                                  d.reportVideoFinish("吆喝"), b.showToast(E.get(1e4)
                                      .memo), h.dispatchEvent(g.VIDEO_LEAFLET, null), t.hideForm();
                                  break;
                              case u.ERR:
                                  b.showToast(c.ERR);
                                  break;
                              case u.NOTEND:
                                  b.showToast(c.NOTEND)
                              }
                          }))
                      }, r.update = function (t) {}, e
                  }(p))
                  .prototype, "txtMemo", [T], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), _ = e(V.prototype, "btnConfirm", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), M = e(V.prototype, "btnVideo", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), L = e(V.prototype, "btnCancel", [w], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), D = V)) || D));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/animal.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./entityUtil.ts", "./eventUtil.ts", "./Common.ts", "./NavMeshAgent.ts", "./NavMesh.ts", "./CustomDefine.ts", "./animalAnimator.ts"], (function (n) {
      "use strict";
      var t, e, i, o, a, s, r, l, u, c, h, m, f, p, d, v, g, y;
      return {
          setters: [function (n) {
              t = n.applyDecoratedDescriptor, e = n.inheritsLoose, i = n.initializerDefineProperty, o = n.assertThisInitialized
          }, function (n) {
              a = n.cclegacy, s = n._decorator, r = n.JsonAsset, l = n.Vec3, u = n.AnimationComponent
          }, function (n) {
              c = n.BundlesConst
          }, function (n) {
              h = n.BaseObject
          }, function (n) {
              m = n.entityUtil
          }, function (n) {
              f = n.default
          }, function (n) {
              p = n.default
          }, function (n) {
              d = n.NavMeshAgent
          }, function (n) {
              v = n.NavMesh
          }, function (n) {
              g = n.eventDefine
          }, function (n) {
              y = n.animalAnimator
          }]
          , execute: function () {
              var A, M, b, N, w, C, D, E;
              a._RF.push({}, "bd409MWGopEdoIFIx28Ifwx", "animal", void 0);
              var _ = s.ccclass
                  , z = s.property;
              n("animal", (A = _("animal"), M = z(r), b = z({
                  type: d
              }), A(((E = function (n) {
                      function t() {
                          for (var t, e = arguments.length, a = new Array(e), s = 0; s < e; s++) a[s] = arguments[s];
                          return t = n.call.apply(n, [this].concat(a)) || this, i(t, "navUrl", C, o(t)), i(t, "agent", D, o(t)), t.zone = null, t.animator = null, t.animalOwner = null, t
                      }
                      e(t, n);
                      var a = t.prototype;
                      return a.start = function () {}, a.onEnable = function () {
                          var n = this
                              , e = p.randomNumBoth(0, t.listAnimal.length - 1)
                              , i = t.listAnimal[e];
                          this.agent = this.node.getComponent(d), this.animator = this.node.getComponent(y), this.zone = this.navUrl.name, m.showEntity(i, this.node, (function (t) {
                              n.animalOwner = t, t.position = new l(0, .001, 0), t.setRotationFromEuler(new l), n.animator.anm = t.getComponent(u), n.changeDestination()
                          }), c.town), f.on(g.NAV_MESH_AGENT_MOVE_END, this, this.onNavMeshMoveEnd)
                      }, a.onDisable = function () {
                          this.animalOwner = null
                      }, a.changeDestination = function () {
                          var n = this.getClosestNode(new l(p.randomBoth(0, 120), 0, p.randomBoth(0, 120)));
                          this.moveAgent(this.agent, n)
                      }, a.getClosestNode = function (n) {
                          var t = this.navUrl.name
                              , e = v.getGroup(t, n);
                          return v.getClosestNode(n, t, e)
                      }, a.onNavMeshMoveEnd = function (n) {
                          var t = this;
                          this.node.uuid == n.uuid && (this.animator.playIdle(), this.scheduleOnce((function () {
                              t.changeDestination()
                          }), p.randomBoth(0, 5)))
                      }, a.moveAgent = function (n, t) {
                          var e = this.findPath(this.zone, n.node.position.clone(), t.clone());
                          return e && e.length > 0 ? (n.startMove(e), this.animator.playWalk(), !0) : (n.stopMove(), this.animator.playIdle(), !1)
                      }, a.findPath = function (n, t, e) {
                          var i = v.getGroup(n, t);
                          return v.findPath(t, e, n, i)
                      }, a.update = function (n) {}, t
                  }(h))
                  .listAnimal = ["ji_01", "ji_02"], C = t((w = E)
                      .prototype, "navUrl", [M], {
                          configurable: !0
                          , enumerable: !0
                          , writable: !0
                          , initializer: function () {
                              return null
                          }
                      }), D = t(w.prototype, "agent", [b], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), N = w)) || N));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/animalAnimator.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (n) {
      "use strict";
      var i, a, t, e, r, o, l, s;
      return {
          setters: [function (n) {
              i = n.applyDecoratedDescriptor, a = n.inheritsLoose, t = n.initializerDefineProperty, e = n.assertThisInitialized
          }, function (n) {
              r = n.cclegacy, o = n._decorator, l = n.AnimationComponent, s = n.Component
          }]
          , execute: function () {
              var m, p, c, u, h;
              r._RF.push({}, "113f69mnCtM/J8f7Opr0Z8b", "animalAnimator", void 0);
              var f = o.ccclass
                  , g = o.property;
              n("animalAnimator", (m = f("animalAnimator"), p = g(l), m((h = i((u = function (n) {
                      function i() {
                          for (var i, a = arguments.length, r = new Array(a), o = 0; o < a; o++) r[o] = arguments[o];
                          return i = n.call.apply(n, [this].concat(r)) || this, t(i, "anm", h, e(i)), i.anmName = null, i.walkName = "", i.idleName = "", i
                      }
                      a(i, n);
                      var r = i.prototype;
                      return r.playLoopAnm = function (n) {
                          this.isPlaying(n) || (this.anm.crossFade(n, .1), this.anmName = n)
                      }, r.getAnimName = function (n) {
                          for (var i = 0; i < this.anm.clips.length; i++)
                              if (-1 != this.anm.clips[i].name.toLowerCase()
                                  .indexOf(n.toLowerCase())) return this.anm.clips[i].name;
                          return ""
                      }, r.isPlaying = function (n) {
                          var i = this.anm.getState(n);
                          return i && i.isPlaying
                      }, r.playWalk = function () {
                          this.walkName = this.getAnimName("walk"), this.walkName, this.playLoopAnm(this.walkName)
                      }, r.playIdle = function () {
                          this.idleName = this.getAnimName("idle"), this.idleName, this.playLoopAnm(this.idleName)
                      }, r.playBashful = function () {
                          var n = this.getAnimName("Bashful");
                          this.playLoopAnm(n)
                      }, r.playTalking = function () {
                          var n = this.getAnimName("Talking");
                          this.playLoopAnm(n)
                      }, r.playStandingArguing = function () {
                          var n = this.getAnimName("Standing Arguing");
                          this.playLoopAnm(n)
                      }, i
                  }(s))
                  .prototype, "anm", [p], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), c = u)) || c));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/AnimationEx.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (n) {
      "use strict";
      var t, i, e, a, o, r, l, s, c;
      return {
          setters: [function (n) {
              t = n.applyDecoratedDescriptor, i = n.inheritsLoose, e = n.initializerDefineProperty, a = n.assertThisInitialized
          }, function (n) {
              o = n.cclegacy, r = n._decorator, l = n.EventHandler, s = n.Animation, c = n.Component
          }]
          , execute: function () {
              var u, p, f, h, m, y, E, b, v;
              o._RF.push({}, "1dbf1RLyqhIfIXEBl9u1eDZ", "AnimationEx", void 0);
              var _ = r.ccclass
                  , F = r.property;
              n("AnimEx", (u = _("AnimEx"), p = F({
                  type: l
              }), f = F({
                  type: l
              }), h = F({
                  type: l
              }), u((E = t((y = function (n) {
                      function t() {
                          for (var t, i = arguments.length, o = new Array(i), r = 0; r < i; r++) o[r] = arguments[r];
                          return t = n.call.apply(n, [this].concat(o)) || this, e(t, "finishedCallback", E, a(t)), e(t, "LastFrameCallback", b, a(t)), e(t, "playCallBack", v, a(t)), t._anim = null, t
                      }
                      i(t, n);
                      var o = t.prototype;
                      return o.onLoad = function () {
                          this._anim = this.getComponent(s)
                      }, o.start = function () {}, o.onEnable = function () {
                          this._anim && (this._anim.on(s.EventType.FINISHED, this.onFinish, this), this._anim.on(s.EventType.LASTFRAME, this.onLastFrame, this), this._anim.on(s.EventType.PLAY, this.onPlay, this))
                      }, o.onFinish = function () {
                          l.emitEvents(this.finishedCallback)
                      }, o.onLastFrame = function () {
                          l.emitEvents(this.LastFrameCallback)
                      }, o.onPlay = function () {
                          l.emitEvents(this.playCallBack)
                      }, o.onDisable = function () {
                          this._anim && (this._anim.off(s.EventType.FINISHED), this._anim.off(s.EventType.LASTFRAME), this._anim.off(s.EventType.PLAY))
                      }, t
                  }(c))
                  .prototype, "finishedCallback", [p], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return []
                      }
                  }), b = t(y.prototype, "LastFrameCallback", [f], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), v = t(y.prototype, "playCallBack", [h], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), m = y)) || m));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/appConfig.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./CustomAdGroup.ts", "./Const.ts"], (function (e) {
      "use strict";
      var i, t, r, n, a, o, l, p, u, c, s;
      return {
          setters: [function (e) {
              i = e.applyDecoratedDescriptor, t = e.inheritsLoose, r = e.initializerDefineProperty, n = e.assertThisInitialized
          }, function (e) {
              a = e.cclegacy, o = e._decorator, l = e.Enum, p = e.CCString, u = e.Component
          }, function (e) {
              c = e.CustomAdGroup
          }, function (e) {
              s = e.AppConst
          }]
          , execute: function () {
              var d, b, y, f, m, g, w, L, v, I, z, A, C, N, B, P, h, x, k, q, _, D, F, G, M, R, S, U, W, j, E, H, Q;
              a._RF.push({}, "2d328M6o9lBraVW9lQ5egqL", "appConfig", void 0);
              var T = o.ccclass
                  , V = o.property;
              e("appConfig", (d = T("appConfig"), b = V({
                  type: l(s)
              }), y = V({
                  tooltip: "banner广告id"
                  , displayName: "banner广告id"
                  , type: [p]
              }), f = V({
                  tooltip: "video广告id"
                  , displayName: "video广告id"
                  , type: p
              }), m = V({
                  tooltip: "inter广告id"
                  , displayName: "inter广告id"
                  , type: p
              }), g = V({
                  tooltip: "qq block广告id"
                  , displayName: "qq block广告id"
                  , type: p
              }), w = V({
                  tooltip: "gameBanner广告id"
                  , displayName: "gameBanner广告id"
                  , type: p
              }), L = V({
                  tooltip: "Portal广告id"
                  , displayName: "Portal广告id"
                  , type: p
              }), v = V({
                  tooltip: "native广告id"
                  , displayName: "native广告id"
                  , type: p
              }), I = V({
                  tooltip: "native广告id"
                  , displayName: "native广告id"
                  , type: p
              }), z = V({
                  tooltip: "custom广告id"
                  , displayName: "custom广告id"
                  , type: [c]
              }), A = V({
                  tooltip: "代码版本号"
                  , displayName: "代码版本号"
              }), C = V({
                  tooltip: "后台数据地址"
                  , displayName: "后台数据地址"
              }), N = V({
                  tooltip: "excel数据地址，不填是本地的"
                  , displayName: "excel数据地址"
              }), B = V({
                  tooltip: "secret"
                  , displayName: "secret"
              }), d((x = i((h = function (e) {
                      function i() {
                          for (var i, t = arguments.length, a = new Array(t), o = 0; o < t; o++) a[o] = arguments[o];
                          return i = e.call.apply(e, [this].concat(a)) || this, r(i, "isActive", x, n(i)), r(i, "appConst", k, n(i)), r(i, "appId", q, n(i)), r(i, "bannerIdList", _, n(i)), r(i, "videoIdList", D, n(i)), r(i, "interIdList", F, n(i)), r(i, "blockIdList", G, n(i)), r(i, "gameBannerIdList", M, n(i)), r(i, "gamePortalIdList", R, n(i)), r(i, "nativeList", S, n(i)), r(i, "BoxPortalIdList", U, n(i)), r(i, "customIdList", W, n(i)), r(i, "version", j, n(i)), r(i, "url", E, n(i)), r(i, "excelUrl", H, n(i)), r(i, "secret", Q, n(i)), i
                      }
                      return t(i, e), i
                  }(u))
                  .prototype, "isActive", [V], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return !1
                      }
                  }), k = i(h.prototype, "appConst", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return s.WX
                  }
              }), q = i(h.prototype, "appId", [V], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return ""
                  }
              }), _ = i(h.prototype, "bannerIdList", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new Array
                  }
              }), D = i(h.prototype, "videoIdList", [f], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new Array
                  }
              }), F = i(h.prototype, "interIdList", [m], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new Array
                  }
              }), G = i(h.prototype, "blockIdList", [g], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new Array
                  }
              }), M = i(h.prototype, "gameBannerIdList", [w], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new Array
                  }
              }), R = i(h.prototype, "gamePortalIdList", [L], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new Array
                  }
              }), S = i(h.prototype, "nativeList", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new Array
                  }
              }), U = i(h.prototype, "BoxPortalIdList", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new Array
                  }
              }), W = i(h.prototype, "customIdList", [z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new Array
                  }
              }), j = i(h.prototype, "version", [A], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return ""
                  }
              }), E = i(h.prototype, "url", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return ""
                  }
              }), H = i(h.prototype, "excelUrl", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return ""
                  }
              }), Q = i(h.prototype, "secret", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return ""
                  }
              }), P = h)) || P));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/area.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GameData.ts"], (function (e) {
      "use strict";
      var t, i, r, n, a, o, c, l, s, u, f, p;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, i = e.inheritsLoose, r = e.initializerDefineProperty, n = e.assertThisInitialized
          }, function (e) {
              a = e.cclegacy, o = e._decorator, c = e.Node, l = e.Sprite, s = e.SpriteFrame, u = e.Vec3, f = e.Component
          }, function (e) {
              p = e.GameData
          }]
          , execute: function () {
              var h, b, d, v, y, m, L, g, w, z, C;
              a._RF.push({}, "4f0bemoTmJKAqMh2gKbjka8", "area", void 0);
              var D = o.ccclass
                  , A = o.property;
              e("area", (h = D("area"), b = A(c), d = A(c), v = A(l), y = A(s), h((g = t((L = function (e) {
                      function t() {
                          for (var t, i = arguments.length, a = new Array(i), o = 0; o < i; o++) a[o] = arguments[o];
                          return t = e.call.apply(e, [this].concat(a)) || this, r(t, "ndLeft", g, n(t)), r(t, "ndClear", w, n(t)), r(t, "spLeft", z, n(t)), r(t, "spf", C, n(t)), t
                      }
                      i(t, e);
                      var a = t.prototype;
                      return a.init = function () {
                          p.instance.initArea(this)
                      }, a.showLeft = function () {
                          this.ndLeft.active = !0, this.ndClear.active = !1
                      }, a.showClear = function () {
                          this.ndLeft.active = !1, this.ndClear.active = !0, this.node.qtPunchScale(new u(.2, .2, .2), .2, {
                                  vibrato: 1
                                  , elasticity: 0
                              })
                              .start()
                      }, a.setAreaLevel = function (e) {
                          this.spLeft.spriteFrame = this.spf[e]
                      }, t
                  }(f))
                  .prototype, "ndLeft", [b], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), w = t(L.prototype, "ndClear", [d], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), z = t(L.prototype, "spLeft", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), C = t(L.prototype, "spf", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), m = L)) || m));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/ArrayUtil.ts", ["cc"], (function (r) {
      "use strict";
      var t;
      return {
          setters: [function (r) {
              t = r.cclegacy
          }]
          , execute: function () {
              t._RF.push({}, "d31d8zkmV1FHI1iyg+stu1U", "ArrayUtil", void 0);
              r("default", function () {
                  function r() {}
                  var t = r.prototype;
                  return t.shuffle = function (r) {
                      for (var t, n, e = r.length, u = e; u--;) u !== (n = Math.floor(Math.random() * e)) && (t = r[u], r[u] = r[n], r[n] = t);
                      return r
                  }, t.indexOf = function (r, t) {
                      for (var n = -1, e = 0, u = r.length; e < u; e++)
                          if (r[e] == t) {
                              n = e;
                              break
                          } return n
                  }, t.replace = function (r, t, n) {
                      var e = r[t]
                          , u = r[n];
                      r[n] = e, r[t] = u
                  }, t.merge = function (r, t) {
                      for (var n = 0, e = r.length; n < e; n++) t.push(r[n]);
                      return t
                  }, r.clone = function (r) {
                      new Array;
                      return r.slice(0)
                  }, r.remove = function (r, t) {
                      for (var n = 0; n < r.length; n++)
                          if (r[n] == t) return r.splice(n, 1), void n--
                  }, r
              }());
              t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Astar.ts", ["cc", "./BinaryHeap.ts"], (function (e) {
      "use strict";
      var t, r, n;
      return {
          setters: [function (e) {
              t = e.cclegacy, r = e.Vec3
          }, function (e) {
              n = e.BinaryHeap
          }]
          , execute: function () {
              t._RF.push({}, "3a8d2z5ZhBKLb4QNlLsVGg2", "Astar", void 0);
              e("Astar", function () {
                  function e() {}
                  return e.init = function (e) {
                      for (var t = 0; t < e.length; t++) {
                          var r = e[t];
                          r.f = 0, r.g = 0, r.h = 0, r.cost = 1, r.visited = !1, r.closed = !1, r.parent = null
                      }
                  }, e.cleanUp = function (e) {
                      for (var t = 0; t < e.length; t++) {
                          var r = e[t];
                          delete r.f, delete r.g, delete r.h, delete r.cost, delete r.visited, delete r.closed, delete r.parent
                      }
                  }, e.heap = function () {
                      return new n((function (e) {
                          return e.f
                      }))
                  }, e.search = function (e, t, n) {
                      this.init(e);
                      var i = this.heap();
                      for (i.push(t); i.size() > 0;) {
                          var s = i.pop();
                          if (s === n) {
                              for (var o = s, c = []; o.parent;) c.push(o), o = o.parent;
                              return this.cleanUp(c), c.reverse()
                          }
                          s.closed = !0;
                          for (var a = this.neighbours(e, s), u = 0, h = a.length; u < h; u++) {
                              var f = a[u];
                              if (!f.closed) {
                                  var d = s.g + f.cost
                                      , l = f.visited;
                                  if (!l || d < f.g) {
                                      if (f.visited = !0, f.parent = s, !f.centroid || !n.centroid) throw new Error("Unexpected state");
                                      f.h = f.h || r.squaredDistance(f.centroid, n.centroid), f.g = d, f.f = f.g + f.h, l ? i.rescoreElement(f) : i.push(f)
                                  }
                              }
                          }
                      }
                      return []
                  }, e.neighbours = function (e, t) {
                      for (var r = [], n = 0; n < t.neighbours.length; n++) r.push(e[t.neighbours[n]]);
                      return r
                  }, e
              }());
              t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/audioManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Debug.ts", "./settingUtil.ts"], (function (i) {
      "use strict";
      var t, u, o, s, e, n;
      return {
          setters: [function (i) {
              t = i.createClass
          }, function (i) {
              u = i.cclegacy, o = i._decorator, s = i.assert
          }, function (i) {
              e = i.Debug
          }, function (i) {
              n = i.settingUtil
          }]
          , execute: function () {
              var c, a;
              u._RF.push({}, "31398TjSQNGwJfapD5mWTx3", "audioManager", void 0);
              var h = o.ccclass;
              o.property, i("audioManager", h("audioManager")(((a = function () {
                      function i() {
                          this.IS_MUTE = "isMute", this.IS_MUTE_MUSIC = "isMuteMusic", this.IS_MUTE_SOUND = "isMuteSound", this.VOLUME_MUSIC = "volumeMusic", this.VOLUME_SOUND = "volumeSound", this._volumeMusic = 1, this._volumeSound = 1, this._isMuteMusic = !1, this._isMuteSound = !1, this._isMute = !1, this.gameCoinTime = 0
                      }
                      i.playCoin = function () {
                          this.playAudio("coin")
                      };
                      var u = i.prototype;
                      return u.onEnable = function () {}, u.init = function (t) {
                          i.audioSources = t
                      }, i.getSleepAudioSource = function () {
                          for (var i = 0; i < this.audioSources.length; i++)
                              if (!this.audioSources[i].playing) return this.audioSources[i]
                      }, u.start = function () {
                          this.getSave()
                      }, i.stopAll = function () {
                          var i = this;
                          this.audioSources.forEach((function (t) {
                              t != i.musicAudioSource && t.stop()
                          }))
                      }, i.stopSound = function (i) {
                          this.audioSources.forEach((function (t) {
                              var u;
                              (null == (u = t.clip) ? void 0 : u.name) == i && t.stop()
                          }))
                      }, i.stopMusic = function () {
                          this.musicAudioSource && (this.musicAudioSource.pause(), e.log("停止播放背景音乐"))
                      }, i.pauseMusic = function () {
                          var i;
                          null == (i = this.musicAudioSource) || i.pause()
                      }, i.resumeMusic = function () {
                          var i;
                          null == (i = this.musicAudioSource) || i.play()
                      }, i.addAudio = function (i) {
                          e.log("addAudio", i.name), this.localCache.forEach((function (t) {
                              t.name != i.name || t.clip
                          })), this.localCache[this.localCache.length] = {
                              clip: i
                              , name: i.name
                          }
                      }, i.getClip = function (i) {
                          for (var t = 0; t < this.localCache.length; t++) {
                              var u = this.localCache[t];
                              if (u.name == i) return u
                          }
                      }, i.playAudio = function (i, t) {
                          void 0 === t && (t = !1);
                          var u = this.getClip(i);
                          u && this.playSound(u.clip, t)
                      }, i.stopAudio = function (i) {
                          this.stopSound(i)
                      }, i.playSound = function (t, u) {
                          if (void 0 === u && (u = !1), !i.instance.isMuteSound) {
                              var o = this.getSleepAudioSource();
                              s(o, "AudioManager not inited!"), o ? (o.loop = u, o.playOneShot(t, this.soundVolume / o.volume)) : e.log("音频播放资源不足")
                          }
                      }, i.playMusic = function (i, t, u) {
                          if (void 0 === t && (t = !0), void 0 === u && (u = 1), this.musicAudioSource || (this.musicAudioSource = this.getSleepAudioSource()), this.musicAudioSource) {
                              this.musicAudioSource.loop = t;
                              var o = this.getClip(i);
                              o && (this.musicAudioSource.clip = o.clip, this.musicAudioSource.volume = u, this.musicAudioSource.play())
                          }
                          e.log("播放背景音乐")
                      }, u.save = function () {
                          n.setBool(this.IS_MUTE, this.isMute), n.setBool(this.IS_MUTE_MUSIC, this.isMuteMusic), n.setBool(this.IS_MUTE_SOUND, this.isMuteSound)
                      }, u.getSave = function () {
                          this.isMute = n.getBool(this.IS_MUTE, !1), this.isMuteMusic = n.getBool(this.IS_MUTE_MUSIC, !0), this.isMuteSound = n.getBool(this.IS_MUTE_SOUND, !0)
                      }, t(i, [{
                          key: "volumeMusic"
                          , get: function () {
                              return this._volumeMusic
                          }
                          , set: function (i) {
                              this._volumeMusic = i, this.save()
                          }
                      }, {
                          key: "volumeSound"
                          , get: function () {
                              return this._volumeSound
                          }
                          , set: function (i) {
                              this._volumeSound = i, this.save()
                          }
                      }, {
                          key: "isMuteMusic"
                          , get: function () {
                              return this._isMuteMusic
                          }
                          , set: function (t) {
                              this._isMuteMusic = t, t ? i.pauseMusic() : i.resumeMusic(), this.save()
                          }
                      }, {
                          key: "isMuteSound"
                          , get: function () {
                              return this._isMuteSound
                          }
                          , set: function (i) {
                              this._isMuteSound = i, this.save()
                          }
                      }, {
                          key: "isMute"
                          , get: function () {
                              return this._isMute
                          }
                          , set: function (i) {
                              this._isMute = i, this.save()
                          }
                      }], [{
                          key: "instance"
                          , get: function () {
                              return this._instance || (this._instance = new i), this._instance
                          }
                      }]), i
                  }())
                  ._instance = void 0, a.audioSources = [], a.soundVolume = 1, a.localCache = [], a.musicAudioSource = null, c = a)) || c);
              u._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/autoForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./entityUtil.ts", "./uiForm.ts", "./CustomDefine.ts", "./GameStoreDetail.ts", "./autoItem.ts"], (function (t) {
      "use strict";
      var e, n, o, i, r, u, a, c, l, s, f, p, m, h, y;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, o = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, u = t._decorator, a = t.Node
          }, function (t) {
              c = t.CategoryConst
          }, function (t) {
              l = t.entityUtil
          }, function (t) {
              s = t.UiForm
          }, function (t) {
              f = t.entityDefine, p = t.pathDefine, m = t.BundlesDefine
          }, function (t) {
              h = t.GameStoreDetail
          }, function (t) {
              y = t.autoItem
          }]
          , execute: function () {
              var d, v, b, C, g, D, F;
              r._RF.push({}, "e0e40nLDxxDaKQ8poVVJuzl", "autoForm", void 0);
              var w = u.ccclass
                  , I = u.property;
              t("autoForm", (d = w("autoForm"), v = I(a), b = I(a), d((D = e((g = function (t) {
                      function e() {
                          for (var e, n = arguments.length, r = new Array(n), u = 0; u < n; u++) r[u] = arguments[u];
                          return e = t.call.apply(t, [this].concat(r)) || this, o(e, "btnClose", D, i(e)), o(e, "viewContent", F, i(e)), e
                      }
                      n(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnClose, this.hideForm)
                      }, r.reset = function () {
                          for (var t = this, e = h.getStoreByCategoryId(c.MAP)
                                  .filter((function (t) {
                                      return 1 == t.Enabled && -1 == t.ParentId
                                  })), n = function (e) {
                                      if (e > 2) return {
                                          v: void 0
                                      };
                                      l.showEntity(p.form_townform + f.autoItem, t.viewContent, (function (t) {
                                          t.getComponent(y)
                                              .reset(e)
                                      }), m.form)
                                  }, o = 0; o < e.length; o++) {
                              var i = n(o);
                              if ("object" == typeof i) return i.v
                          }
                      }, r.hideForm = function () {
                          l.hideAllEntity(f.autoItem), t.prototype.hideForm.call(this)
                      }, r.update = function (t) {}, e
                  }(s))
                  .prototype, "btnClose", [v], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), F = e(g.prototype, "viewContent", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), C = g)) || C));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/autoItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./baseObject.ts", "./dataUtil.ts", "./eventUtil.ts", "./httpUtil.ts", "./uiManager.ts", "./autoTaskModel.ts", "./platformUtil.ts", "./Common.ts", "./CustomDefine.ts", "./AutoTaskCfg.ts", "./GameStoreDetail.ts", "./autoMapForm.ts", "./autoRewardForm.ts", "./autoTaskBar.ts"], (function (t) {
      "use strict";
      var e, o, a, i, n, s, r, u, l, c, d, h, f, k, m, p, g, v, I, b, T, y, C, A, w, D, N;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, o = t.inheritsLoose, a = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              n = t.cclegacy, s = t._decorator, r = t.Node, u = t.Label
          }, function (t) {
              l = t.VIDEO_STATUS, c = t.VIDEO_MSG
          }, function (t) {
              d = t.BaseObject
          }, function (t) {
              h = t.default
          }, function (t) {
              f = t.default
          }, function (t) {
              k = t.httpUtil
          }, function (t) {
              m = t.uiManager
          }, function (t) {
              p = t.autoTaskModel
          }, function (t) {
              g = t.platformUtil
          }, function (t) {
              v = t.default
          }, function (t) {
              I = t.eventDefine, b = t.pathDefine, T = t.formDefine, y = t.BundlesDefine
          }, function (t) {
              C = t.AutoTaskCfg
          }, function (t) {
              A = t.GameStoreDetail
          }, function (t) {
              w = t.autoMapForm
          }, function (t) {
              D = t.autoRewardForm
          }, function (t) {
              N = t.autoTaskBar
          }]
          , execute: function () {
              var B, M, E, R, _, F, S, U, G, O, P, z, x, V, L, H, j, K, J, W, Y, q, Q;
              n._RF.push({}, "90f5aYDE4NEDJzsixrmfdks", "autoItem", void 0);
              var X = s.ccclass
                  , Z = s.property;
              t("autoItem", (B = X("autoItem"), M = Z(r), E = Z(r), R = Z(r), _ = Z(r), F = Z(N), S = Z(u), U = Z(u), G = Z(r), O = Z(r), P = Z(u), B((V = e((x = function (t) {
                      function e() {
                          for (var e, o = arguments.length, n = new Array(o), s = 0; s < o; s++) n[s] = arguments[s];
                          return e = t.call.apply(t, [this].concat(n)) || this, a(e, "emptyContainer", V, i(e)), a(e, "btnEmpty", L, i(e)), a(e, "lockContainer", H, i(e)), a(e, "taskContainer", j, i(e)), a(e, "taskBar", K, i(e)), a(e, "txtNum", J, i(e)), a(e, "txtName", W, i(e)), a(e, "btnVideo", Y, i(e)), a(e, "btnReceive", q, i(e)), a(e, "txtUnlockMemo", Q, i(e)), e.taskId = -1, e
                      }
                      o(e, t);
                      var n = e.prototype;
                      return n.start = function () {
                          this.bindTouchEnd(this.btnEmpty, this.onAddTask), this.bindTouchEnd(this.btnVideo, this.onVideo), this.bindTouchEnd(this.btnReceive, this.onReceive), f.on(I.AUTO_MAP_CHANGED, this, this.onAutoMapChanged), f.on(I.AUTO_TASK_FOOD_CHANGED, this, this.onAutoTaskFoodChanged)
                      }, n.showNum = function () {
                          this.txtNum.string = "" + h.getAutoTaskGoodsNumById(this.taskId)
                      }, n.onDisable = function () {
                          this.refreshProgress(), this.unschedule(this.refreshProgress)
                      }, n.onAutoTaskFoodChanged = function (t) {
                          t.taskId == this.taskId && this.showNum()
                      }, n.onAutoMapChanged = function (t) {
                          t.taskId == this.taskId && (this.reset(this.taskId), this.schedule((function () {}), 1))
                      }, n.reset = function (t) {
                          this.taskId = t;
                          var e = A.getStoreDetailByDetailId(2e3 + this.taskId);
                          this.txtUnlockMemo.string = "解锁[" + e.ProductMemo + "]开启", this.showNum();
                          var o = h.getAutoTaskById(t);
                          if (null == o) t <= h.getAutoMap()
                              .length - 1 ? (this.taskContainer.active = !1, this.emptyContainer.active = !0, this.lockContainer.active = !1) : (this.taskContainer.active = !1, this.emptyContainer.active = !1, this.lockContainer.active = !0);
                          else {
                              this.lockContainer.active = !1, this.taskContainer.active = !1, this.emptyContainer.active = !1, this.refreshProgress();
                              var a = h.getAutoMapByMapId(o.mapId);
                              this.txtName.string = "" + a.ProductName, this.schedule(this.refreshProgress, 1)
                          }
                      }, n.refreshProgress = function () {
                          var t = h.getAutoTaskById(this.taskId);
                          if (t) {
                              this.taskBar.node.active = !0;
                              var e = p.getProgress(t);
                              e < 1 ? this.taskBar.showTime(p.formatTime(t), e) : this.taskBar.showEnd(), this.emptyContainer.active = !1, this.taskContainer.active = !0, this.lockContainer.active = !1
                          } else this.taskBar.showSleep(), this.taskBar.node.active = !1, this.emptyContainer.active = !0, this.taskContainer.active = !1, this.lockContainer.active = !1
                      }, n.onAddTask = function () {
                          var t = this;
                          console.log("onAddTask"), this.taskId >= h.getAutoMap()
                              .length || m.pushUIForm(b.form_townform + T.autoMapForm, (function (e) {
                                  e.getComponent(w)
                                      .reset(t.taskId)
                              }), y.form)
                      }, n.fastReceive = function (t) {
                          var e = h.getAutoTaskById(t);
                          if (e) {
                              for (var o = p.getCrop(e) - h.getAutoTaskAllNumById(t), a = 0; a < o; a++) this.fastNewFoods(t);
                              h.saveLocalStore(), h.clearAutoTaskGoods(this.taskId), h.clearTask(this.taskId), f.dispatchEvent(I.AUTO_TASK_FOOD_CHANGED, {
                                  taskId: t
                              }), f.dispatchEvent(I.AUTO_MAP_CHANGED, {
                                  taskId: this.taskId
                              })
                          }
                      }, n.fastNewFoods = function (t) {
                          var e = h.getAutoTaskById(t);
                          if (e)
                              for (var o = C.getAutoTaskCfgByMapId(e.mapId), a = C.getAutoTaskCfgTotalWeight(o), i = v.randomNumBoth(0, a), n = 0, s = 0; s < o.length; s++)
                                  if ((n += o[s].weight) >= i) {
                                      var r = A.getStoreDetailByDetailId(o[s].detailId);
                                      h.addLocalDetailNum(r.CategoryId, r.DetailId, r.ChipNum, !0, 1, !1);
                                      break
                                  }
                      }, n.onVideo = function () {
                          var t = this;
                          k.reportVideoStart("自动赶山-快速结束"), g.currentPlatform.showVideo((function (e) {
                              switch (e) {
                              case l.END:
                                  k.reportVideoFinish("自动赶山-快速结束"), t.fastReceive(t.taskId), t.showReward();
                                  break;
                              case l.ERR:
                                  m.showToast(c.ERR);
                                  break;
                              case l.NOTEND:
                                  m.showToast(c.NOTEND)
                              }
                          }))
                      }, n.onReceive = function () {
                          var t = h.getAutoTaskGoodsById(this.taskId);
                          if (t) {
                              for (var e = 0; e < t.goods.length; e++) {
                                  var o = t.goods[e];
                                  if (o.num > 0) {
                                      var a = A.getStoreDetailByDetailId(o.detailId);
                                      h.addLocalDetailNum(a.CategoryId, a.DetailId, a.ChipNum, !0, o.num, !1)
                                  }
                              }
                              var i = h.getAutoTaskGoodsNumById(this.taskId);
                              if (0 == i) return void m.showToast("太心急了，小哥哥努力赶山中...");
                              m.showToast("获得" + i + "个山货"), h.receiveAutoTaskGoods(this.taskId);
                              var n = h.getAutoTaskById(this.taskId);
                              h.saveLocalStore(), n && (p.getProgress(n) >= 1 ? this.showReward() : this.reset(this.taskId))
                          } else m.showToast("还在赶山中，请稍后")
                      }, n.showReward = function () {
                          var t = this;
                          m.pushUIForm(b.form_townform + T.autoRewardForm, (function (e) {
                              e.getComponent(D)
                                  .showReward(t.taskId), h.clearAutoTaskGoods(t.taskId), h.clearTask(t.taskId), t.reset(t.taskId)
                          }), y.form)
                      }, n.update = function (t) {}, e
                  }(d))
                  .prototype, "emptyContainer", [M], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), L = e(x.prototype, "btnEmpty", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), H = e(x.prototype, "lockContainer", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), j = e(x.prototype, "taskContainer", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), K = e(x.prototype, "taskBar", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), J = e(x.prototype, "txtNum", [S], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), W = e(x.prototype, "txtName", [U], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Y = e(x.prototype, "btnVideo", [G], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), q = e(x.prototype, "btnReceive", [O], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Q = e(x.prototype, "txtUnlockMemo", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), z = x)) || z));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/autoMapForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./entityUtil.ts", "./uiForm.ts", "./CustomDefine.ts", "./GameStoreDetail.ts", "./autoMapItem.ts"], (function (t) {
      "use strict";
      var e, n, o, i, r, a, u, l, s, c, f, p, d, m, h;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, o = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, u = t.Node
          }, function (t) {
              l = t.CategoryConst, s = t.BundlesConst
          }, function (t) {
              c = t.entityUtil
          }, function (t) {
              f = t.UiForm
          }, function (t) {
              p = t.entityDefine, d = t.pathDefine
          }, function (t) {
              m = t.GameStoreDetail
          }, function (t) {
              h = t.autoMapItem
          }]
          , execute: function () {
              var y, b, C, F, I, v, D;
              r._RF.push({}, "e48ebEFQdtKaKdX0OE/qCA1", "autoMapForm", void 0);
              var M = a.ccclass
                  , g = a.property;
              t("autoMapForm", (y = M("autoMapForm"), b = g(u), C = g(u), y((v = e((I = function (t) {
                      function e() {
                          for (var e, n = arguments.length, r = new Array(n), a = 0; a < n; a++) r[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(r)) || this, o(e, "viewContent", v, i(e)), o(e, "btnClose", D, i(e)), e.selectTaskId = -1, e
                      }
                      n(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnClose, this.hideForm)
                      }, r.onEnable = function () {}, r.onDisable = function () {
                          c.hideAllEntity(p.autoMapItem)
                      }, r.hideForm = function () {
                          c.hideAllEntity(p.boxToolBubble), t.prototype.hideForm.call(this)
                      }, r.reset = function (t) {
                          var e = this;
                          this.selectTaskId = t, c.hideAllEntity(p.autoMapItem), m.getStoreByCategoryIdAndParentId(l.MAP, -1)
                              .filter((function (t) {
                                  return 1 == t.Enabled
                              }))
                              .sort((function (t, e) {
                                  return t.DetailId - e.DetailId
                              }))
                              .forEach((function (n, o) {
                                  c.showEntity(d.form_townform + p.autoMapItem, e.viewContent, (function (e) {
                                      e.getComponent(h)
                                          .reset(n, t)
                                  }), s.form)
                              }))
                      }, r.update = function (t) {}, e
                  }(f))
                  .prototype, "viewContent", [b], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), D = e(I.prototype, "btnClose", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), F = I)) || F));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/autoMapItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./dataUtil.ts", "./eventUtil.ts", "./uiManager.ts", "./autoTaskModel.ts", "./CustomDefine.ts", "./GameStoreDetail.ts"], (function (t) {
      "use strict";
      var e, i, n, a, o, r, s, c, u, l, m, g, d, p, f, h, v;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, a = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, r = t._decorator, s = t.Node, c = t.Label
          }, function (t) {
              u = t.CategoryConst
          }, function (t) {
              l = t.BaseObject
          }, function (t) {
              m = t.default
          }, function (t) {
              g = t.default
          }, function (t) {
              d = t.uiManager
          }, function (t) {
              p = t.autoTaskModel
          }, function (t) {
              f = t.eventDefine, h = t.formDefine
          }, function (t) {
              v = t.GameStoreDetail
          }]
          , execute: function () {
              var b, k, I, y, D, G, C, M, T, L, A, R, N;
              o._RF.push({}, "559e92jVWJF0o+YDqUfpHnK", "autoMapItem", void 0);
              var z = r.ccclass
                  , P = r.property;
              t("autoMapItem", (b = z("autoMapItem"), k = P(s), I = P(c), y = P(s), D = P(s), G = P(s), b((T = e((M = function (t) {
                      function e() {
                          for (var e, i = arguments.length, o = new Array(i), r = 0; r < i; r++) o[r] = arguments[r];
                          return e = t.call.apply(t, [this].concat(o)) || this, n(e, "btnGo", T, a(e)), n(e, "txtName", L, a(e)), n(e, "imgRuning", A, a(e)), n(e, "imgCompleted", R, a(e)), n(e, "imgLock", N, a(e)), e.mapDetail = void 0, e.selectTaskId = void 0, e
                      }
                      i(e, t);
                      var o = e.prototype;
                      return o.start = function () {
                          this.bindTouchEnd(this.btnGo, this.onGo)
                      }, o.reset = function (t, e) {
                          if (this.mapDetail = t, this.selectTaskId = e, this.txtName.string = "" + t.ProductName, m.isUnlockByDetailId(t.DetailId)) {
                              var i = v.getStoreByCategoryIdAndParentId(u.MAP, t.DetailId)
                                  .filter((function (t) {
                                      return 0 == t.VideoNum
                                  }));
                              if (m.getUnlockSubNum(i) == i.length) {
                                  var n = m.getAutoTaskByMapId(t.DetailId);
                                  n ? 1 == p.getProgress(n) ? (this.imgCompleted.active = !0, this.imgRuning.active = !1, this.imgLock.active = !1, this.btnGo.active = !1) : (this.imgCompleted.active = !1, this.imgRuning.active = !0, this.imgLock.active = !1, this.btnGo.active = !1) : (this.imgCompleted.active = !1, this.imgRuning.active = !1, this.imgLock.active = !1, this.btnGo.active = !0)
                              } else this.imgCompleted.active = !1, this.imgRuning.active = !1, this.imgLock.active = !0, this.btnGo.active = !1
                          } else this.imgCompleted.active = !1, this.imgRuning.active = !1, this.imgLock.active = !0, this.btnGo.active = !1
                      }, o.onGo = function () {
                          m.clearAutoTaskGoods(this.selectTaskId), m.addAutoTask(this.selectTaskId, this.mapDetail.DetailId), g.dispatchEvent(f.AUTO_MAP_CHANGED, {
                              taskId: this.selectTaskId
                          }), d.hideUIForm(h.autoMapForm)
                      }, o.update = function (t) {}, e
                  }(l))
                  .prototype, "btnGo", [k], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), L = e(M.prototype, "txtName", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), A = e(M.prototype, "imgRuning", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), R = e(M.prototype, "imgCompleted", [D], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), N = e(M.prototype, "imgLock", [G], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), C = M)) || C));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/autoPut.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./memoryConfig.ts", "./Common.ts"], (function (t) {
      "use strict";
      var e, i, n, r, o, a, u, c, s, l, f;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, a = t._decorator, u = t.Label, c = t.Node
          }, function (t) {
              s = t.BaseObject
          }, function (t) {
              l = t.memoryConfig
          }, function (t) {
              f = t.default
          }]
          , execute: function () {
              var p, m, b, g, y, d, v;
              o._RF.push({}, "57070GArIJNGqbQ6z0cTKgC", "autoPut", void 0);
              var T = a.ccclass
                  , h = a.property;
              t("autoPut", (p = T("autoPut"), m = h(u), b = h(c), p((d = e((y = function (t) {
                      function e() {
                          for (var e, i = arguments.length, o = new Array(i), a = 0; a < i; a++) o[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(o)) || this, n(e, "txtTime", d, r(e)), n(e, "bgTime", v, r(e)), e
                      }
                      i(e, t);
                      var o = e.prototype;
                      return o.start = function () {}, o.onEnable = function () {}, o.update = function (t) {
                          var e = l.instance.getFloatKey("autoPutTime", 0);
                          this.bgTime.active = e > 0, this.txtTime.node.active = e > 0;
                          var i = f.secondToHHmmss(e)
                              , n = f.padLeft("" + i[1], 2, "0") + ":" + f.padLeft("" + i[2], 2, "0");
                          this.txtTime.string = n
                      }, e
                  }(s))
                  .prototype, "txtTime", [m], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), v = e(y.prototype, "bgTime", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), g = y)) || g));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/autoPutForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./httpUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./baseAdForm.ts", "./platformUtil.ts", "./putonshelvesForm.ts"], (function (t) {
      "use strict";
      var e, i, n, o, r, a, u, s, c, l, h, m, f, p, b, d;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, u = t.Node, s = t.Label
          }, function (t) {
              c = t.VIDEO_STATUS, l = t.VIDEO_MSG
          }, function (t) {
              h = t.httpUtil
          }, function (t) {
              m = t.memoryConfig
          }, function (t) {
              f = t.uiManager
          }, function (t) {
              p = t.baseAdForm
          }, function (t) {
              b = t.platformUtil
          }, function (t) {
              d = t.putonshelvesForm
          }]
          , execute: function () {
              var y, g, v, T, F, w, M, V, x, E, A, z, C;
              r._RF.push({}, "e2a80VjQnZP1ZyridoGYH9V", "autoPutForm", void 0);
              var D = a.ccclass
                  , P = a.property;
              t("autoPutForm", (y = D("autoPutForm"), g = P(u), v = P(u), T = P(s), F = P(u), w = P(u), y((x = e((V = function (t) {
                      function e() {
                          for (var e, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(r)) || this, n(e, "btnVideo", x, o(e)), n(e, "btnCancel", E, o(e)), n(e, "txtTime", A, o(e)), n(e, "txtMemo1", z, o(e)), n(e, "txtMemo2", C, o(e)), e
                      }
                      i(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnVideo, this.onVideo), this.bindTouchEnd(this.btnCancel, this.hideForm)
                      }, r.init = function (t) {
                          this.txtMemo1.active = t, this.txtMemo2.active = !this.txtMemo1.active
                      }, r.onEnable = function () {
                          var e = m.instance.getIntKey("zs_video2", 0);
                          this.txtTime.string = e + "秒", t.prototype.onEnable.call(this), this.showTopCustomAd(), this.showBottomCustomAd()
                      }, r.onDisable = function () {
                          this.hideBottomCustomAd(), this.hideTopCustomAd()
                      }, r.onVideo = function () {
                          var t = this;
                          h.reportVideoStart("自动上货"), b.currentPlatform.showVideo((function (e) {
                              if (e) switch (e) {
                              case c.END:
                                  h.reportVideoFinish("自动上货");
                                  var i = m.instance.getIntKey("zs_video2", 0);
                                  m.instance.setKey("autoPutTime", i), m.instance.setKey("againAuto", 0), d.putAll((function () {}), !1), t.hideForm();
                                  break;
                              case c.ERR:
                                  f.showToast(l.ERR);
                                  break;
                              case c.NOTEND:
                                  f.showToast(l.NOTEND)
                              }
                          }))
                      }, e
                  }(p))
                  .prototype, "btnVideo", [g], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), E = e(V.prototype, "btnCancel", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), A = e(V.prototype, "txtTime", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), z = e(V.prototype, "txtMemo1", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), C = e(V.prototype, "txtMemo2", [w], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), M = V)) || M));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/autoRewardForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./MSG.ts", "./dataUtil.ts", "./httpUtil.ts", "./resourceUtil.ts", "./uiForm.ts", "./platformUtil.ts", "./Common.ts", "./GameStoreDetail.ts"], (function (t) {
      "use strict";
      var e, o, i, r, n, a, u, l, s, c, d, f, m, h, p, g, b, w, y;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, o = t.inheritsLoose, i = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              n = t.cclegacy, a = t._decorator, u = t.Node, l = t.Sprite, s = t.Label
          }, function (t) {
              c = t.CategoryConst, d = t.BundlesConst
          }, function (t) {
              f = t.VIDEO_STATUS
          }, function (t) {
              m = t.default
          }, function (t) {
              h = t.httpUtil
          }, function (t) {
              p = t.resourceUtil
          }, function (t) {
              g = t.UiForm
          }, function (t) {
              b = t.platformUtil
          }, function (t) {
              w = t.default
          }, function (t) {
              y = t.GameStoreDetail
          }]
          , execute: function () {
              var D, F, I, C, v, S, N, x, R, U, V, B, L;
              n._RF.push({}, "e2a54tXfZZPR61F/xyA5f1n", "autoRewardForm", void 0);
              var z = a.ccclass
                  , T = a.property;
              t("autoRewardForm", (D = z("autoRewardForm"), F = T(u), I = T(u), C = T(l), v = T(s), S = T(s), D((R = e((x = function (t) {
                      function e() {
                          for (var e, o = arguments.length, n = new Array(o), a = 0; a < o; a++) n[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(n)) || this, i(e, "btnVideo", R, r(e)), i(e, "btnClose", U, r(e)), i(e, "imgLogo", V, r(e)), i(e, "txtMemo", B, r(e)), i(e, "txtCoin", L, r(e)), e.rewardNum = 1, e.goodsId = -1, e
                      }
                      o(e, t);
                      var n = e.prototype;
                      return n.start = function () {
                          this.bindTouchEnd(this.btnClose, this.hideForm), this.bindTouchEnd(this.btnVideo, this.showVideo)
                      }, n.showReward = function (t) {
                          m.getAutoTaskById(t);
                          var e = y.getStoreByCategoryId(c.FOODS)
                              .filter((function (t) {
                                  return 11015 == t.DetailId
                              }))
                              , o = e[w.randomNumBoth(0, e.length - 1)];
                          this.showGoods(o.DetailId)
                      }, n.showGoods = function (t) {
                          var e = this;
                          this.goodsId = t;
                          var o = y.getStoreDetailByDetailId(t);
                          o && (p.loadBundleRes(d.images, "texture/goods/" + o.ImgLogo + "/spriteFrame", (function (t, o) {
                              t || (e.imgLogo.spriteFrame = o)
                          })), this.txtMemo.string = "额外找到了[" + o.ProductName + "]x" + this.rewardNum + " 价值[" + parseInt("" + o.Amount * this.rewardNum) + "]")
                      }, n.showVideo = function () {
                          var t = this;
                          h.reportVideoStart("自动赶山-特殊奖励"), b.currentPlatform.showVideo((function (e) {
                              if (e) switch (e) {
                              case f.END:
                                  h.reportVideoFinish("自动赶山-特殊奖励");
                                  var o = y.getStoreDetailByDetailId(t.goodsId);
                                  m.addLocalDetailNum(o.CategoryId, o.DetailId, o.ChipNum, !0, t.rewardNum, !0), t.hideForm()
                              }
                          }))
                      }, n.update = function (t) {}, e
                  }(g))
                  .prototype, "btnVideo", [F], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), U = e(x.prototype, "btnClose", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), V = e(x.prototype, "imgLogo", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), B = e(x.prototype, "txtMemo", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), L = e(x.prototype, "txtCoin", [S], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), N = x)) || N));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/autoTask.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./dataUtil.ts", "./eventUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./autoTaskModel.ts", "./Common.ts", "./CustomDefine.ts", "./AutoTaskCfg.ts", "./autoForm.ts", "./autoTaskBar.ts"], (function (t) {
      "use strict";
      var e, o, a, n, s, i, r, u, l, f, c, h, d, k, T, p, m, g, v, w, y, A;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, o = t.inheritsLoose, a = t.initializerDefineProperty, n = t.assertThisInitialized
          }, function (t) {
              s = t.cclegacy, i = t._decorator, r = t.Node
          }, function (t) {
              u = t.BundlesConst
          }, function (t) {
              l = t.BaseObject
          }, function (t) {
              f = t.default
          }, function (t) {
              c = t.default
          }, function (t) {
              h = t.memoryConfig
          }, function (t) {
              d = t.uiManager
          }, function (t) {
              k = t.autoTaskModel
          }, function (t) {
              T = t.default
          }, function (t) {
              p = t.eventDefine, m = t.autoTaskCount, g = t.pathDefine, v = t.formDefine
          }, function (t) {
              w = t.AutoTaskCfg
          }, function (t) {
              y = t.autoForm
          }, function (t) {
              A = t.autoTaskBar
          }]
          , execute: function () {
              var b, C, I, B, D, F, _, S, M;
              s._RF.push({}, "cb8712FbEVF+YyJHWLE2+JX", "autoTask", void 0);
              var G = i.ccclass
                  , E = i.property;
              t("autoTask", (b = G("autoTask"), C = E({
                  type: [A]
              }), I = E(r), B = E(r), b((_ = e((F = function (t) {
                      function e() {
                          for (var e, o = arguments.length, s = new Array(o), i = 0; i < o; i++) s[i] = arguments[i];
                          return e = t.call.apply(t, [this].concat(s)) || this, a(e, "lstTaskBar", _, n(e)), a(e, "workState", S, n(e)), a(e, "sleepState", M, n(e)), e.manNode = null, e.manCtl = null, e.interval = 5, e
                      }
                      o(e, t);
                      var s = e.prototype;
                      return s.start = function () {
                          this.bindTouchEnd(this.node, this.onAutoClick), c.on(p.AUTO_MAP_CHANGED, this, this.refreshTask)
                      }, s.onEnable = function () {
                          this.interval = h.instance.getFloatKey("auto_task_interval", 300), this.showOutlineGoods(), this.refreshTask(), this.schedule(this.refreshTask, 1)
                      }, s.onDisable = function () {
                          this.unschedule(this.refreshTask)
                      }, s.showOutlineGoods = function () {
                          var t = f.getAutoTask();
                          for (var e in t) {
                              if (!t[e]) return;
                              var o = f.getAutoTaskById(t[e].taskId);
                              if (o)
                                  for (var a = o.maxTime / 1e3 / this.interval, n = f.getAutoTaskAllNumById(t[e].taskId), s = k.getProgress(o), i = Math.floor(s * a) - n, r = 0; r < i; r++) this.newRandomGoods(t[e].mapId, t[e].taskId)
                          }
                      }, s.newFoodsByTaskId = function (t) {
                          var e = f.getAutoTaskById(t);
                          if (e) {
                              if (parseInt((Date.now() - e.time) / 1e3 + "") % this.interval != 0) return;
                              this.newRandomGoods(e.mapId, t), f.saveAutoTaskGoods()
                          }
                      }, s.newRandomGoods = function (t, e) {
                          for (var o = w.getAutoTaskCfgByMapId(t), a = w.getAutoTaskCfgTotalWeight(o), n = T.randomNumBoth(0, a), s = 0, i = 0; i < o.length; i++)
                              if ((s += o[i].weight) >= n) {
                                  f.addAutoTaskGoods(e, o[i].detailId, 1), c.dispatchEvent(p.AUTO_TASK_FOOD_CHANGED, {
                                      taskId: e
                                  });
                                  break
                              }
                      }, s.refreshTask = function () {
                          var t = f.getAutoMap();
                          this.workState.active = !1, this.sleepState.active = !0;
                          for (var e = 0; e < m; e++) {
                              var o = this.lstTaskBar[e];
                              if (e < t.length) {
                                  var a = f.getAutoTaskById(e);
                                  if (a) {
                                      var n = k.getProgress(a);
                                      n < 1 ? (o.showTime(k.formatTime(a), n), this.newFoodsByTaskId(e), this.workState.active = !0, this.sleepState.active = !1) : o.showEnd()
                                  } else o.showSleep()
                              } else o.showLock()
                          }
                      }, s.onAutoClick = function () {
                          f.getAutoMap()
                              .length > 0 ? d.pushUIForm(g.form_townform + v.autoForm, (function (t) {
                                  t.getComponent(y)
                                      .reset()
                              }), u.form) : d.showToast("需要继续解锁地图")
                      }, s.update = function (t) {}, e
                  }(l))
                  .prototype, "lstTaskBar", [C], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return []
                      }
                  }), S = e(F.prototype, "workState", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), M = e(F.prototype, "sleepState", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), D = F)) || D));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/autoTaskBar.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts"], (function (e) {
      "use strict";
      var t, i, r, o, s, a, n, c, l, u;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, i = e.inheritsLoose, r = e.initializerDefineProperty, o = e.assertThisInitialized
          }, function (e) {
              s = e.cclegacy, a = e._decorator, n = e.Node, c = e.ProgressBar, l = e.Label
          }, function (e) {
              u = e.BaseObject
          }]
          , execute: function () {
              var p, g, h, m, v, f, d, b, y, B, k, w, L;
              s._RF.push({}, "40358kDD4FCM4udpvA12ZyT", "autoTaskBar", void 0);
              var P = a.ccclass
                  , S = a.property;
              e("autoTaskBar", (p = P("autoTaskBar"), g = S(n), h = S(n), m = S(n), v = S(c), f = S({
                  type: l
              }), p((y = t((b = function (e) {
                      function t() {
                          for (var t, i = arguments.length, s = new Array(i), a = 0; a < i; a++) s[a] = arguments[a];
                          return t = e.call.apply(e, [this].concat(s)) || this, r(t, "imgLock", y, o(t)), r(t, "imgCompleted", B, o(t)), r(t, "imgSleep", k, o(t)), r(t, "progressBar", w, o(t)), r(t, "txtProgress", L, o(t)), t
                      }
                      i(t, e);
                      var s = t.prototype;
                      return s.showLock = function () {
                          this.imgLock.active = !0, this.imgCompleted.active = !1, this.imgSleep.active = !1, this.txtProgress.node.active = !1, this.progressBar.node.active = !1
                      }, s.showTime = function (e, t) {
                          this.imgLock.active = !1, this.imgCompleted.active = !1, this.imgSleep.active = !1, this.txtProgress.node.active = !0, this.progressBar.node.active = !0, this.txtProgress.string = e, this.progressBar.progress = t
                      }, s.showEnd = function () {
                          this.imgLock.active = !1, this.imgCompleted.active = !0, this.imgSleep.active = !1, this.txtProgress.node.active = !1, this.progressBar.node.active = !0
                      }, s.showSleep = function () {
                          this.imgLock.active = !1, this.imgCompleted.active = !1, this.imgSleep.active = !0, this.txtProgress.node.active = !1, this.progressBar.node.active = !1, this.imgSleep.active = !0
                      }, t
                  }(u))
                  .prototype, "imgLock", [g], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), B = t(b.prototype, "imgCompleted", [h], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), k = t(b.prototype, "imgSleep", [m], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), w = t(b.prototype, "progressBar", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), L = t(b.prototype, "txtProgress", [f], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), d = b)) || d));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/AutoTaskCfg.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Sheets.ts", "./sheetManager.ts"], (function (t) {
      "use strict";
      var e, n, u, o;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              u = t.AutoTaskCfgBase
          }, function (t) {
              o = t.SheetManager
          }]
          , execute: function () {
              n._RF.push({}, "862513rxoZJLaXONLr2QQWP", "AutoTaskCfg", void 0);
              t("AutoTaskCfg", function (t) {
                  function n() {
                      return t.apply(this, arguments) || this
                  }
                  return e(n, t), n.get = function (t) {
                      return this[t] ? this[t] : o.get("AutoTaskCfg", t, n)
                  }, n.getAll = function () {
                      return o.getAllSheets("AutoTaskCfg", n)
                  }, n.getAutoTaskCfgByMapId = function (t) {
                      return this.getAll()
                          .filter((function (e) {
                              return e.mapId == t
                          }))
                  }, n.getAutoTaskCfgTotalWeight = function (t) {
                      var e = 0;
                      return t.forEach((function (t) {
                          e += t.weight
                      })), e
                  }, n
              }(u));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/autoTaskModel.ts", ["cc", "./memoryConfig.ts", "./Common.ts"], (function (t) {
      "use strict";
      var e, i, n;
      return {
          setters: [function (t) {
              e = t.cclegacy
          }, function (t) {
              i = t.memoryConfig
          }, function (t) {
              n = t.default
          }]
          , execute: function () {
              e._RF.push({}, "927eewEguxAR4pxUE260JAX", "autoTaskModel", void 0);
              t("autoTaskModel", function () {
                  function t(t, e) {
                      this.taskId = 0, this.mapId = 0, this.time = 0, this.maxTime = 0, this.taskId = t, this.mapId = e, this.time = Date.now(), this.maxTime = 54e5
                  }
                  return t.getRemainingTime = function (t) {
                      var e = Date.now() - t.time
                          , i = t.maxTime - e;
                      return i < 0 && (i = 0), i
                  }, t.getProgress = function (t) {
                      var e = (t.maxTime - this.getRemainingTime(t)) / t.maxTime;
                      return e > 1 && (e = 1), e
                  }, t.formatTime = function (t) {
                      var e = this.getRemainingTime(t);
                      e <= 0 && (e = 0);
                      var i = 36e5
                          , a = Math.floor(e / i)
                          , o = Math.floor((e - a * i) / 6e4)
                          , r = Math.floor((e - a * i - 6e4 * o) / 1e3);
                      return n.padLeft("" + a, 2, "0") + ":" + n.padLeft("" + o, 2, "0") + ":" + n.padLeft("" + r, 2, "0")
                  }, t.getCrop = function (t) {
                      var e = i.instance.getFloatKey("auto_task_interval", 300)
                          , n = 0;
                      return t && (n = t.maxTime / 1e3 / e), n
                  }, t
              }());
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/backRewardForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./dataUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./uiForm.ts", "./platformUtil.ts", "./Common.ts", "./customerManager.ts", "./moneyUtil.ts"], (function (t) {
      "use strict";
      var n, i, e, o, r, a, c, s, u, l, f, m, b, d, p, h, g, y, C;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, i = t.inheritsLoose, e = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, c = t.Label, s = t.Node
          }, function (t) {
              u = t.VIDEO_STATUS, l = t.VIDEO_MSG
          }, function (t) {
              f = t.default
          }, function (t) {
              m = t.httpUtil
          }, function (t) {
              b = t.memoryConfig
          }, function (t) {
              d = t.uiManager
          }, function (t) {
              p = t.UiForm
          }, function (t) {
              h = t.platformUtil
          }, function (t) {
              g = t.default
          }, function (t) {
              y = t.customerManager
          }, function (t) {
              C = t.moneyUtil
          }]
          , execute: function () {
              var T, k, w, _, v, F, x, D, R, E, V, I, U;
              r._RF.push({}, "1ff5eKPyRlKFpLBZKg6XOT0", "backRewardForm", void 0);
              var K = a.ccclass
                  , S = a.property;
              t("backRewardForm", (T = K("backRewardForm"), k = S(c), w = S(c), _ = S(s), v = S(s), F = S(s), T((R = n((D = function (t) {
                      function n() {
                          for (var n, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                          return n = t.call.apply(t, [this].concat(r)) || this, e(n, "txtCoin", R, o(n)), e(n, "txtTime", E, o(n)), e(n, "btnConfirm", V, o(n)), e(n, "btnVideo", I, o(n)), e(n, "imgDollar", U, o(n)), n.backCoin = 0, n
                      }
                      i(n, t);
                      var r = n.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnConfirm, this.onConfirm), this.bindTouchEnd(this.btnVideo, this.onVideo)
                      }, r.secondToStr = function (t) {
                          var n = ""
                              , i = g.secondToHHmmss(t);
                          return i[0] > 0 && (n += g.padLeft("" + i[0], 2, "0") + "小时"), i[1] >= 0 && (n += g.padLeft("" + i[1], 2, "0") + "分钟"), i[2] >= 0 && (n += g.padLeft("" + i[2], 2, "0") + "秒"), "您一共离线" + n
                      }, r.onEnable = function () {
                          var t = f.getOutlineTime()
                              , n = (b.instance.getIntKey("platform_show_time", Date.now()) - t) / 1e3
                              , i = n / 60;
                          i < 0 && (i = 0);
                          var e = b.instance.getIntKey("back_max_time", 1728e5)
                              , o = (i > e ? e : i) * y.getBoxNum() * b.instance.getIntKey("back_ratio", .3)
                              , r = b.instance.getIntKey("back_min_coin", 100)
                              , a = b.instance.getIntKey("back_max_coin", 2e3);
                          o < r && (o = r), o > a && (o = a), this.backCoin = parseInt("" + o), this.txtCoin.string = "+" + this.backCoin, this.txtTime.string = this.secondToStr(n)
                      }, r.onConfirm = function () {
                          for (var t = 0; t < 10; t++) C.instance.createCoinAnim(this.txtCoin.node.position, (function () {}));
                          f.addCoin(this.backCoin), this.hideForm()
                      }, r.onVideo = function () {
                          var t = this;
                          m.reportVideoStart("回到游戏奖励"), h.currentPlatform.showVideo((function (n) {
                              if (n) switch (n) {
                              case u.END:
                                  m.reportVideoFinish("回到游戏奖励"), f.addCoin(2 * t.backCoin), t.hideForm();
                                  break;
                              case u.ERR:
                                  d.showToast(l.ERR);
                                  break;
                              case u.NOTEND:
                                  d.showToast(l.NOTEND)
                              }
                          }))
                      }, r.update = function (t) {}, n
                  }(p))
                  .prototype, "txtCoin", [k], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), E = n(D.prototype, "txtTime", [w], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), V = n(D.prototype, "btnConfirm", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), I = n(D.prototype, "btnVideo", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), U = n(D.prototype, "imgDollar", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), x = D)) || x));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/BannerOptions.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./AdHorizontal.ts", "./AdVertical.ts"], (function (t) {
      "use strict";
      var i, e, s, n, h;
      return {
          setters: [function (t) {
              i = t.createClass
          }, function (t) {
              e = t.cclegacy, s = t.Vec2
          }, function (t) {
              n = t.AdHorizontal
          }, function (t) {
              h = t.AdVertical
          }]
          , execute: function () {
              e._RF.push({}, "5252fYwfjpEcKETLYXZ9YNG", "BannerOptions", void 0);
              t("BannerOptions", function () {
                  function t() {
                      this.Horizontal = n.NONE, this.Vertical = h.NONE, this.Offset = s.ZERO, this.Top = 0, this.Left = 0, this._width = 300, this._height = 96, this.Horizontal = n.CENTER, this.Vertical = h.BOTTOM, this.Width = this.DefaultWidth()
                  }
                  t.New = function (i, e, n, h, r) {
                      var a = new t;
                      return a.Horizontal = i, a.Vertical = e, a.Offset = n || s.ZERO, a.Left = h, a.Top = r, a
                  };
                  var e = t.prototype;
                  return e.DefaultWidth = function () {
                      return 300
                  }, e.getBannerStyle = function (t) {
                      var i = this.Horizontal
                          , e = this.Vertical
                          , s = t.windowWidth
                          , r = t.windowHeight
                          , a = 0
                          , o = 0;
                      switch (e) {
                      case h.TOP:
                          a = 0;
                          break;
                      case h.CENTER:
                          a = (r - this.Height) / 2;
                          break;
                      case h.BOTTOM:
                          a = r - this.Height;
                          break;
                      case h.CUSTOM:
                      default:
                          a = this.Top
                      }
                      switch (i) {
                      case n.LEFT:
                          o = 0;
                          break;
                      case n.CENTER:
                          o = (s - this.Width) / 2;
                          break;
                      case n.RIGHT:
                          o = s - this.Width;
                          break;
                      case n.CUSTOM:
                      default:
                          o = this.Left
                      }
                      return {
                          left: o + this.Offset.x
                          , top: a + this.Offset.y
                          , width: this.Width
                          , height: this.Height
                      }
                  }, i(t, [{
                      key: "Width"
                      , get: function () {
                          return this._width
                      }
                      , set: function (t) {
                          this._width = t
                      }
                  }, {
                      key: "Height"
                      , get: function () {
                          return this._height
                      }
                      , set: function (t) {
                          this._height = t
                      }
                  }]), t
              }());
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/BargainCfg.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Sheets.ts", "./sheetManager.ts"], (function (t) {
      "use strict";
      var n, e, r, i;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy
          }, function (t) {
              r = t.BargainCfgBase
          }, function (t) {
              i = t.SheetManager
          }]
          , execute: function () {
              e._RF.push({}, "61f96hYMDFE0IiGPK+1i6ru", "BargainCfg", void 0);
              t("BargainCfg", function (t) {
                  function e() {
                      return t.apply(this, arguments) || this
                  }
                  return n(e, t), e.get = function (t) {
                      return this[t] ? this[t] : i.get("BargainCfg", t, e)
                  }, e.getAll = function () {
                      return i.getAllSheets("BargainCfg", e)
                  }, e.getRandom = function () {
                      var t = this.getAll();
                      return t[Math.floor(Math.random() * t.length)]
                  }, e
              }(r));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/bargainForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./baseAdForm.ts", "./Common.ts", "./BargainCfg.ts", "./GameStoreDetail.ts", "./CustomDefine.ts", "./moneyUtil.ts", "./talkItem.ts"], (function (t) {
      "use strict";
      var i, n, e, o, a, s, r, l, u, h, c, d, b, f, m, g, p, C, y, k, v, I, w, x;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, n = t.inheritsLoose, e = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, s = t._decorator, r = t.Node, l = t.Layout, u = t.Label
          }, function (t) {
              h = t.BundlesConst
          }, function (t) {
              c = t.default
          }, function (t) {
              d = t.entityUtil
          }, function (t) {
              b = t.default
          }, function (t) {
              f = t.memoryConfig
          }, function (t) {
              m = t.uiManager
          }, function (t) {
              g = t.baseAdForm
          }, function (t) {
              p = t.default
          }, function (t) {
              C = t.BargainCfg
          }, function (t) {
              y = t.GameStoreDetail
          }, function (t) {
              k = t.entityDefine, v = t.eventDefine, I = t.pathDefine
          }, function (t) {
              w = t.moneyUtil
          }, function (t) {
              x = t.talkItem
          }]
          , execute: function () {
              var A, S, B, D, T, E, R, H, N, z, F, L, M, _, P, U, G, O, j, Z, q, J, K, Q, V;
              a._RF.push({}, "3c401DLO7xNCZHmgHALj8rA", "bargainForm", void 0);
              var W = s.ccclass
                  , X = s.property;
              t("bargainForm", (A = W("bargainForm"), S = X(r), B = X(l), D = X(r), T = X(u), E = X(u), R = X(u), H = X(u), N = X(r), z = X(r), F = X(r), L = X(r), A((P = i((_ = function (t) {
                      function i() {
                          for (var i, n = arguments.length, a = new Array(n), s = 0; s < n; s++) a[s] = arguments[s];
                          return i = t.call.apply(t, [this].concat(a)) || this, e(i, "talkContainer", P, o(i)), e(i, "viewContent", U, o(i)), e(i, "resultContainer", G, o(i)), e(i, "txtResult", O, o(i)), e(i, "txtCoin", j, o(i)), e(i, "txtAddSales", Z, o(i)), e(i, "txtSubSales", q, o(i)), e(i, "btnAgree", J, o(i)), e(i, "btnClose", K, o(i)), e(i, "btnHalf", Q, o(i)), e(i, "btnDouble", V, o(i)), i.currentBargain = void 0, i.talkIndex = 0, i.detailId = -1, i.boxId = -1, i.num = -1, i.customerId = "", i.goods = null, i.addSales = 20, i.subSales = 40, i
                      }
                      n(i, t);
                      var a = i.prototype;
                      return a.start = function () {
                          this.bindTouchEnd(this.btnAgree, this.onAgree), this.bindTouchEnd(this.btnClose, this.hideForm), this.bindTouchEnd(this.btnHalf, this.onHalf), this.bindTouchEnd(this.btnDouble, this.onDouble)
                      }, a.onEnable = function () {
                          t.prototype.onEnable.call(this), this.showTopCustomAd(), this.showBottomCustomAd()
                      }, a.onDisable = function () {
                          this.hideBottomCustomAd(), this.hideTopCustomAd()
                      }, a.init = function (t, i, n, e) {
                          this.customerId = t, this.detailId = n, this.num = e, this.boxId = i, this.talkIndex = 0, this.btnDouble.active = !0, this.btnHalf.active = !0, this.currentBargain = C.getRandom(), this.goods = y.getStoreDetailByDetailId(this.detailId), this.txtCoin.string = "原价 " + parseInt("" + this.goods.Amount * e), this.txtAddSales.string = "市场好评 +" + this.addSales, this.txtSubSales.string = "市场好评 -" + this.subSales, d.hideAllEntity(k.talkItem), this.showTalk(!0), this.showNextTalk()
                      }, a.onAgree = function () {
                          this.showTalk(!1)
                      }, a.onHalf = function () {
                          var i = this
                              , n = c.getRackById(this.boxId);
                          n.num >= this.num ? (this.btnHalf.active = !1, this.btnDouble.active = !1, n.num -= this.num, c.updateRack(n), c.saveRack(), w.instance.flyCoin(this.btnHalf.position, (function () {
                              t.prototype.hideForm.call(i)
                          }), 4, this.node), c.addCoin(Math.round(this.num * this.goods.Amount / 2)), c.saveCoin(), c.addSales(this.addSales), m.showToast("<color=#00ff00>市场好评值+" + this.addSales + "</color>", !0), this.bargainEnd(!0)) : (m.showToast("不好意思，" + this.goods.ProductName + "刚刚卖完了"), b.dispatchEvent(v.BARGAIN_CANCEL, {
                              customerId: this.customerId
                          }), this.hideForm())
                      }, a.onDouble = function () {
                          var i = this
                              , n = c.getRackById(this.boxId);
                          n.num >= this.num ? c.getSales() >= this.subSales ? (this.btnHalf.active = !1, this.btnDouble.active = !1, n.num -= this.num, c.updateRack(n), c.saveRack(), w.instance.flyCoin(this.btnHalf.position, (function () {
                              t.prototype.hideForm.call(i)
                          }), 10, this.node), c.addCoin(Math.round(this.num * this.goods.Amount * 2)), c.saveCoin(), c.addSales(-this.subSales), m.showToast("<color=#EB5869>市场好评值-" + this.subSales + "</color>", !0), this.bargainEnd(!1)) : m.showToast("<color=#EB5869>市场好评值不足</color>", !0) : (m.showToast("不好意思，" + this.goods.ProductName + "刚刚卖完了"), b.dispatchEvent(v.BARGAIN_CANCEL, {
                              customerId: this.customerId
                          }), this.hideForm())
                      }, a.showTalk = function (t) {
                          this.talkContainer.active = t, this.resultContainer.active = !this.talkContainer.active
                      }, a.getColorMsg = function (t, i, n) {
                          var e = "【 " + i + " 】"
                              , o = "【 " + n + " 】"
                              , a = p.format(t, o, e);
                          return console.log(a), a
                      }, a.showNextTalk = function () {
                          var t = this;
                          if (0 == this.talkIndex) {
                              var i = this.getColorMsg(this.currentBargain.talk1, this.goods.ProductName, this.num);
                              this.txtResult.string = i, this.showTalkBubble(!0, i)
                          } else if (this.talkIndex <= this.currentBargain.talk2.length) {
                              var n = this.getColorMsg(this.currentBargain.talk2[this.talkIndex - 1], this.goods.ProductName, this.num);
                              this.showTalkBubble(this.talkIndex % 2 == 0, n)
                          }
                          this.talkIndex++, this.talkIndex <= this.currentBargain.talk2.length && this.scheduleOnce((function () {
                              t.showNextTalk()
                          }), .5)
                      }, a.showTalkBubble = function (t, i) {
                          d.showEntity(I.form_townform + k.talkItem, this.viewContent.node, (function (n) {
                              n.getComponent(x)
                                  .init(t, i)
                          }), h.form)
                      }, a.bargainEnd = function (t) {
                          f.instance.removeBargain(this.customerId), b.dispatchEvent(v.BARGAIN_COMPLETED, {
                              customerId: this.customerId
                              , isHalf: t
                          })
                      }, a.update = function (t) {}, i
                  }(g))
                  .prototype, "talkContainer", [S], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), U = i(_.prototype, "viewContent", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), G = i(_.prototype, "resultContainer", [D], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), O = i(_.prototype, "txtResult", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), j = i(_.prototype, "txtCoin", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Z = i(_.prototype, "txtAddSales", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), q = i(_.prototype, "txtSubSales", [H], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), J = i(_.prototype, "btnAgree", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), K = i(_.prototype, "btnClose", [z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Q = i(_.prototype, "btnHalf", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), V = i(_.prototype, "btnDouble", [L], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), M = _)) || M));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/bargainInfomation.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./dataUtil.ts", "./eventUtil.ts", "./uiManager.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./bargainForm.ts"], (function (t) {
      "use strict";
      var n, e, o, i, r, a, s, c, u, f, m, l, d, g;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy, o = t._decorator
          }, function (t) {
              i = t.BaseObject
          }, function (t) {
              r = t.default
          }, function (t) {
              a = t.default
          }, function (t) {
              s = t.uiManager
          }, function (t) {
              c = t.eventDefine, u = t.guideStep, f = t.formDefine, m = t.pathDefine, l = t.BundlesDefine
          }, function (t) {
              d = t.fingerUtil
          }, function (t) {
              g = t.bargainForm
          }]
          , execute: function () {
              var p;
              e._RF.push({}, "35a6353qXFBcqjSCVgSgSn0", "bargainInfomation", void 0);
              var h = o.ccclass;
              o.property, t("bargainInfomation", h("bargainInfomation")(p = function (t) {
                  function e() {
                      for (var n, e = arguments.length, o = new Array(e), i = 0; i < e; i++) o[i] = arguments[i];
                      return (n = t.call.apply(t, [this].concat(o)) || this)
                          .detailId = -1, n.boxId = -1, n.num = -1, n.customerId = "", n
                  }
                  n(e, t);
                  var o = e.prototype;
                  return o.start = function () {
                      a.on(c.NEXT_GUIDE_STEP, this, this.onNextGuideStep), this.bindTouchEnd(this.node, this.onInfoClick)
                  }, o.onNextGuideStep = function () {
                      var t = this;
                      r.testStep(u.bargainClick) && !r.testStep(u.bargainInformationClick) && (d.removeFinger(), d.removeFollow(), this.scheduleOnce((function () {
                          s.getUIForm(f.advertiseForm) || s.getUIForm(f.mapForm) || s.getUIForm(f.putonshelvesForm) || s.getUIForm(f.shopUpgradeForm) || s.getUIForm(f.gameForm) || (d.showFinger(t.node.getWorldPosition()), d.followUI(t.node), a.dispatchEvent(c.SHOW_DIALOG, {
                              step: u.bargainInformationClick
                          }))
                      }), .5))
                  }, o.init = function (t, n, e, o) {
                      this.customerId = t, this.detailId = e, this.num = o, this.boxId = n, this.onNextGuideStep()
                  }, o.onInfoClick = function () {
                      var t = this;
                      d.removeFinger(), d.removeFollow(), r.stepEnd(u.bargainInformationClick), s.pushUIForm(m.form_townform + f.bargainForm, (function (n) {
                          n.getComponent(g)
                              .init(t.customerId, t.boxId, t.detailId, t.num)
                      }), l.form)
                  }, o.update = function (t) {}, e
              }(i)) || p);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/baseAdForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./AdHorizontal.ts", "./AdVertical.ts", "./CustomOptions.ts", "./platformUtil.ts", "./memoryConfig.ts", "./uiForm.ts"], (function (t) {
      "use strict";
      var n, o, r, e, i, u, s, c, a, l;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              o = t.cclegacy, r = t._decorator, e = t.Vec2
          }, function (t) {
              i = t.AdHorizontal
          }, function (t) {
              u = t.AdVertical
          }, function (t) {
              s = t.CustomOptions
          }, function (t) {
              c = t.platformUtil
          }, function (t) {
              a = t.memoryConfig
          }, function (t) {
              l = t.UiForm
          }]
          , execute: function () {
              var f;
              o._RF.push({}, "dfe3a6iNedIWL38icSwE28j", "baseAdForm", void 0);
              var m = r.ccclass;
              r.property, t("baseAdForm", m("baseAdForm")(f = function (t) {
                  function o() {
                      return t.apply(this, arguments) || this
                  }
                  n(o, t);
                  var r = o.prototype;
                  return r.start = function () {}, r.onEnable = function () {
                      var t = a.instance.getIntKey("zs_chaping", 0);
                      if (0 != t) {
                          if (t > 0) {
                              var n = a.instance.getIntKey("inter_index", 0);
                              return (n + 1) % t == 0 && c.currentPlatform.showInter(), n++, void a.instance.setKey("inter_index", n)
                          } - 1 != t || c.currentPlatform.showInter()
                      }
                  }, r.showFloatCustomAd = function () {
                      var t = s.New(i.LEFT, u.TOP, new e(0, 105), null, null);
                      c.currentPlatform.showCustomAd(t, 0, (function () {}))
                  }, r.showTopCustomAd = function () {
                      var t = s.New(i.CENTER, u.TOP, new e(0, 0), null, null);
                      c.currentPlatform.showCustomAd(t, 1, (function () {}))
                  }, r.hideTopCustomAd = function () {
                      c.currentPlatform.hideCustomAd(1)
                  }, r.showBottomCustomAd = function () {
                      var t = s.New(i.CENTER, u.BOTTOM, new e(0, 0), null, null);
                      c.currentPlatform.showCustomAd(t, 3, (function () {}))
                  }, r.hideBottomCustomAd = function () {
                      c.currentPlatform.hideCustomAd(3)
                  }, r.onDisable = function () {}, r.update = function (t) {}, o
              }(l)) || f);
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/baseGameEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./entityUtil.ts", "./uiManager.ts", "./RandomEvent.ts", "./eventForm.ts", "./CustomDefine.ts", "./gameCameraLogic.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var e, o, n, i, a, s, r, c, u, d, l, m, h, f, p, g, y, v, C;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, o = t.inheritsLoose, n = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, s = t._decorator, r = t.CCInteger, c = t.find, u = t.Tween, d = t.tween
          }, function (t) {
              l = t.BaseObject
          }, function (t) {
              m = t.entityUtil
          }, function (t) {
              h = t.uiManager
          }, function (t) {
              f = t.RandomEvent
          }, function (t) {
              p = t.eventForm
          }, function (t) {
              g = t.formDefine, y = t.BundlesDefine
          }, function (t) {
              v = t.gameCameraLogic
          }, function (t) {
              C = t.GameData
          }]
          , execute: function () {
              var E, w, T, b, G;
              t({
                  GameEntityState: void 0
                  , GameEntityType: void 0
              }), a._RF.push({}, "018cep15oJL34vtC7D6hNb5", "baseGameEntity", void 0);
              var L, P, D = s.ccclass
                  , I = s.property;
              ! function (t) {
                  t[t.Normal = 0] = "Normal", t[t.Stone = 1] = "Stone", t[t.Grass = 2] = "Grass", t[t.Ginseng = 3] = "Ginseng", t[t.Tree = 4] = "Tree", t[t.Fruit = 5] = "Fruit", t[t.FruitOb = 6] = "FruitOb", t[t.Event = 7] = "Event", t[t.Treasure = 8] = "Treasure"
              }(L || (L = t("GameEntityType", {})))
              , function (t) {
                  t[t.Init = 0] = "Init", t[t.Dropped = 1] = "Dropped", t[t.Took = 2] = "Took", t[t.Showing = 3] = "Showing", t[t.Custom = 4] = "Custom"
              }(P || (P = t("GameEntityState", {})));
              t("baseGameEntity", (E = D("baseGameEntity"), w = I(r), E((G = e((b = function (t) {
                      function e() {
                          for (var e, o = arguments.length, a = new Array(o), s = 0; s < o; s++) a[s] = arguments[s];
                          return (e = t.call.apply(t, [this].concat(a)) || this)
                              .gameCameraLogic = null, e.state = P.Init, e.entityType = L.Normal, n(e, "physicalCost", G, i(e)), e.area = "00", e.num = 1, e.detailId = 0, e
                      }
                      o(e, t);
                      var a = e.prototype;
                      return a.start = function () {}, a.onEnable = function () {
                          this.state = P.Init, this.gameCameraLogic = c("Main Camera")
                              .getComponent(v)
                      }, a.update = function (t) {}, a.showEntity = function (t) {
                          void 0 === t && (t = null), this.state = P.Showing, u.stopAllByTarget(this.node), d(this.node)
                              .to(.3, {
                                  position: this.gameCameraLogic.showPosNode.worldPosition
                                  , rotation: this.gameCameraLogic.showPosNode.worldRotation
                              })
                              .delay(.1)
                              .call(t)
                              .start()
                      }, a.dropEntity = function (t) {
                          var e = this;
                          void 0 === t && (t = null), this.state = P.Dropped, u.stopAllByTarget(this.node), d(this.node)
                              .to(.15, {
                                  position: this.gameCameraLogic.dropPosNode.worldPosition
                                  , rotation: this.gameCameraLogic.dropPosNode.worldRotation
                              })
                              .delay(.1)
                              .call((function () {
                                  t && t(), m.hideEntity(e.node)
                              }))
                              .start()
                      }, a.takeEntity = function (t) {
                          var e = this;
                          void 0 === t && (t = null), this.state = P.Took, u.stopAllByTarget(this.node), d(this.node)
                              .to(.3, {
                                  position: this.gameCameraLogic.takePosNode.worldPosition
                                  , rotation: this.gameCameraLogic.takePosNode.worldRotation
                              })
                              .call((function () {
                                  t && t(), C.instance.addCacheItem(e.detailId, e.area, e.num, e), m.hideEntity(e.node)
                              }))
                              .start()
                      }, a.customEntity = function () {
                          this.state = P.Custom
                      }, a.triggerTouch = function () {
                          this.state, P.Init
                      }, a.showChildByName = function (t) {
                          this.node.children.forEach((function (e) {
                              e.active = e.name == t
                          }))
                      }, a.setPosAndRotateAndAreaAndNum = function (t, e, o, n, i, a) {
                          void 0 === a && (a = 1), this.node.setPosition(t), e && this.node.setRotation(e), o && this.node.setScale(o), this.area = n, this.detailId = i, this.num = a
                      }, a.showEvent = function (t) {
                          var e = f.getRandomEventByEventType(t);
                          h.pushUIForm("gameform/" + g.eventForm, (function (t) {
                              t.getComponent(p)
                                  .init(e)
                          }), y.form)
                      }, e
                  }(l))
                  .prototype, "physicalCost", [w], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return 100
                      }
                  }), T = b)) || T));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/baseLevel.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./entityUtil.ts", "./framingLoadingUtil.ts", "./memoryConfig.ts", "./resourceUtil.ts", "./uiManager.ts", "./MathUtils.ts", "./GameStoreDetail.ts", "./CustomDefine.ts", "./baseGameEntity.ts", "./GameData.ts"], (function (e) {
      "use strict";
      var t, n, i, a, o, r, l, s, c, u, d, h, f, m, g, p, y, v, b, w, D, E, P, C, B;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, a = e.assertThisInitialized
          }, function (e) {
              o = e.cclegacy, r = e._decorator, l = e.Node, s = e.find, c = e.Light, u = e.Color, d = e.Component
          }, function (e) {
              h = e.BundlesConst
          }, function (e) {
              f = e.default
          }, function (e) {
              m = e.entityUtil
          }, function (e) {
              g = e.framingLoadingUtil
          }, function (e) {
              p = e.memoryConfig
          }, function (e) {
              y = e.resourceUtil
          }, function (e) {
              v = e.uiManager
          }, function (e) {
              b = e.default
          }, function (e) {
              w = e.GameStoreDetail
          }, function (e) {
              D = e.BundlesDefine, E = e.formDefine
          }, function (e) {
              P = e.baseGameEntity, C = e.GameEntityType
          }, function (e) {
              B = e.GameData
          }]
          , execute: function () {
              var I, S, A, L, N, T, U;
              o._RF.push({}, "2410eOPrcRA5JwgB3N03p4i", "baseLevel", void 0);
              var G = r.ccclass
                  , z = r.property;
              e("baseLevel", (I = G("baseLevel"), S = z(l), A = z(l), I((T = t((N = function (e) {
                      function t() {
                          for (var t, n = arguments.length, o = new Array(n), r = 0; r < n; r++) o[r] = arguments[r];
                          return t = e.call.apply(e, [this].concat(o)) || this, i(t, "ndCollect", T, a(t)), i(t, "ndShowEntity", U, a(t)), t
                      }
                      n(t, e);
                      var o = t.prototype;
                      return o.start = function () {}, o.onEnable = function () {
                          console.log("baseLevel onLoad"), B.instance.init(this), this.showEntities();
                          var e = s("Main Light")
                              .getComponent(c);
                          1017 == p.instance.level ? e.color = new u(107, 135, 243) : e.color = new u(255, 255, 255), this.showBg()
                      }, o.showBg = function () {
                          var e = this;
                          2e3 == w.getStoreDetailByDetailId(p.instance.level)
                              .ParentId && y.preloadBundleRes(D.tdPrefabs, "level1/bg", (function () {
                                  m.showEntity("level1/bg", e.node.parent, (function () {
                                      console.log("showBg")
                                  }), D.tdPrefabs)
                              }))
                      }, o.onDisable = function () {
                          for (var e = 0; e < this.ndShowEntity.children.length; e++) {
                              var t = this.ndShowEntity.children[e];
                              m.hideEntity(t)
                          }
                          2e3 == w.getStoreDetailByDetailId(p.instance.level)
                              .ParentId && m.hideAllEntity("bg")
                      }, o.showEntities = function () {
                          var e = this;
                          this.ndCollect.children.forEach((function (e) {
                              e.active = !1
                          }));
                          var t = this.ndCollect.getChildByName("" + (p.instance.level - 1e3))
                              , n = w.getStoreDetailByDetailId(p.instance.level);
                          t.active = !0;
                          for (var i = 0, a = 0, o = 0; o < t.children.length; o++) {
                              var r = t.children[o];
                              "bg" != r.name && "zp" != r.name && (i += r.children.length)
                          }
                          for (var l = function (n) {
                                  var o = t.children[n];
                                  if ("bg" == o.name || "zp" == o.name) return "continue";
                                  g.framingLoad(o.children.length, (function (t) {
                                      var n = o.children[t]
                                          , r = n.name.split("|")
                                          , l = n.name
                                          , s = 1;
                                      r.length > 1 && (l = r[0], s = parseInt(r[1]));
                                      var c = w.getStoreByImg3DName(l);
                                      null == c && console.log("err entityName:", l), m.showEntity(c.tdPrefabPath + "/" + l, e.ndShowEntity, (function (e) {
                                          var t = e.getComponent(P);
                                          t.setPosAndRotateAndAreaAndNum(n.position, n.rotation, n.scale, o.name, c.DetailId, s), t.entityType != C.Stone && t.entityType != C.Grass && t.entityType != C.Event && B.instance.addItemToArea(t.area, t.num, t), ++a == i && v.pushUIForm("gameform/" + E.gameForm, null, D.form)
                                      }), h.tdPrefabs)
                                  }))
                              }, s = 0; s < t.children.length; s++) l(s);
                          if (n.treasureProp > 0) {
                              var c = 100 * (n.treasureProp + f.getTreasureProp());
                              if (c = c > 100 ? 100 : Math.floor(c), console.log("生成奇珍概率" + c), B.instance.treasureProp = c, b.probabilityCanHappen(c)) {
                                  var u = t.getChildByName("zp")
                                      , d = u.children[b.randomNumBoth(0, u.children.length - 1)].children[0]
                                      , y = w.getStoreByImg3DName(d.name);
                                  console.log("生成了奇珍-" + y.ProductName + "-" + d.parent.name), m.showEntity(y.tdPrefabPath + "/" + y.Img3DName, this.ndShowEntity, (function (e) {
                                      var t = e.getComponent(P);
                                      t.setPosAndRotateAndAreaAndNum(d.position, d.rotation, d.scale, d.parent.name, y.DetailId, 1), B.instance.addItemToArea(t.area, t.num, t)
                                  }), h.tdPrefabs, !0), B.instance.isTreasure = !0, B.instance.hasTreasure = !1
                              } else console.log("没有奇珍"), B.instance.isTreasure = !1
                          } else console.log("没有奇珍"), B.instance.isTreasure = !1
                      }, o.showAreaItems = function (e) {
                          this.ndShowEntity.children.forEach((function (t) {
                              var n = t.getComponent(P);
                              n && (t.active = n.area == e)
                          }))
                      }, t
                  }(d))
                  .prototype, "ndCollect", [S], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), U = t(N.prototype, "ndShowEntity", [A], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), L = N)) || L));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/baseObject.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioManager.ts", "./eventUtil.ts"], (function (e) {
      "use strict";
      var t, n, i, o, r, s, u, h, c;
      return {
          setters: [function (e) {
              t = e.inheritsLoose, n = e.createClass
          }, function (e) {
              i = e.cclegacy, o = e._decorator, r = e.Node, s = e.director, u = e.Component
          }, function (e) {
              h = e.audioManager
          }, function (e) {
              c = e.default
          }]
          , execute: function () {
              var l;
              i._RF.push({}, "90cc07kV5xKUpUM/UkjwRyw", "baseObject", void 0);
              var a = o.ccclass;
              o.property, e("BaseObject", a("BaseObject")(l = function (e) {
                  function i() {
                      for (var t, n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                      return (t = e.call.apply(e, [this].concat(i)) || this)
                          .eventPool = {}, t
                  }
                  t(i, e);
                  var o = i.prototype;
                  return o.hasName = function (e) {
                      for (var t = 0; t < (arguments.length <= 1 ? 0 : arguments.length - 1); t++)
                          if (-1 != e.name.indexOf(t + 1 < 1 || arguments.length <= t + 1 ? void 0 : arguments[t + 1])) return !0;
                      return !1
                  }, o.onDestroy = function () {
                      c.removeAllListener(this)
                  }, o.addListener = function (e, t, n) {
                      this.eventPool.hasOwnProperty(e.uuid) || (this.eventPool[e.uuid] = {}), this.eventPool[e.uuid][t] ? this.eventPool[e.uuid][t].listeners.push(n) : this.eventPool[e.uuid][t] = {
                          listeners: [n]
                      }
                  }, o.triggerListener = function (e, t, n) {
                      if (this.eventPool.hasOwnProperty(e.uuid) && this.eventPool[e.uuid][t])
                          for (var i = this.eventPool[e.uuid][t].listeners, o = 0; o < i.length; o++) i[o].apply(this, [n])
                  }, o.hasListener = function (e, t, n) {
                      if (this.eventPool.hasOwnProperty(e.uuid) && this.eventPool[e.uuid][t])
                          for (var i = this.eventPool[e.uuid][t].listeners, o = 0; o < i.length; o++)
                              if (i[o] == n) return !0;
                      return !1
                  }, o.hasEventType = function (e, t) {
                      return !!(this.eventPool.hasOwnProperty(e.uuid) && this.eventPool[e.uuid][t] && this.eventPool[e.uuid][t].listeners.length > 0)
                  }, o.bindTouchStart = function (e, t) {
                      var n = r.EventType.TOUCH_START;
                      e.on(n, t, this)
                  }, o.bindTouchMove = function (e, t) {
                      e.on(r.EventType.TOUCH_MOVE, t, this)
                  }, o.bindTouchEnd = function (e, t, n) {
                      var i = this;
                      void 0 === n && (n = "btnSound");
                      var o = r.EventType.TOUCH_END;
                      this.hasEventType(e, o) || e.on(o, (function (t) {
                          h.playAudio(n), i.triggerListener(e, o, t)
                      }), this), this.hasListener(e, o, t) || this.addListener(e, o, t)
                  }, o.bindTouchCancel = function (e, t) {
                      e.on(r.EventType.TOUCH_CANCEL, t, this)
                  }, o.unbindTouchStart = function (e, t) {
                      var n = r.EventType.TOUCH_START;
                      t ? this.removeListener(e, n, t) : e.off(n)
                  }, o.unbindTouchMove = function (e, t) {
                      e.off(r.EventType.TOUCH_MOVE)
                  }, o.unbindTouchEnd = function (e, t) {
                      var n = r.EventType.TOUCH_END;
                      t ? this.removeListener(e, n, t) : e.off(n)
                  }, o.unbindTouchCancel = function (e, t) {
                      e.off(r.EventType.TOUCH_CANCEL)
                  }, o.removeListener = function (e, t, n) {
                      if (this.eventPool.hasOwnProperty(e.uuid)) {
                          if (this.eventPool[e.uuid][t]) {
                              var i = this.eventPool[e.uuid][t].listeners;
                              if (n)
                                  for (var o = 0; o < i.length; o++) i[o] == n && (i.splice(o, 1), 0 == i.length && e.off(t), o--);
                              else this.eventPool[e.uuid][t].listeners = [], e.off(t)
                          }
                      } else e.off(t)
                  }, o.isScene = function (e) {
                      var t = s.getScene();
                      return !(!t || t.name !== e)
                  }, n(i, [{
                      key: "firstSiblingIndex"
                      , get: function () {
                          return this.node.children.length - 1
                      }
                  }]), i
              }(u)) || l);
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/BDModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PlatformModule.ts", "./Common.ts", "./MSG.ts", "./Debug.ts"], (function (o) {
      "use strict";
      var t, e, r, i, n, d;
      return {
          setters: [function (o) {
              t = o.inheritsLoose
          }, function (o) {
              e = o.cclegacy
          }, function (o) {
              r = o.default
          }, function (o) {
              i = o.default
          }, function (o) {
              n = o.MSG
          }, function (o) {
              d = o.Debug
          }]
          , execute: function () {
              e._RF.push({}, "7bba2wXm8BGwZyOij3m/1h2", "BDModule", void 0);
              o("default", function (o) {
                  function e() {
                      var t;
                      return (t = o.call(this) || this)
                          .platformName = "swan", t.appSid = "", t.recordRes = null, t.recordCb = null, t
                  }
                  t(e, o);
                  var r = e.prototype;
                  return r._createBannerAd = function () {
                      if (this.checkWindow()) {
                          var o = this.getWindow();
                          if (o[this.platformName].createBannerAd) {
                              var t = this.getSystemInfoSync()
                                  , e = t.screenWidth
                                  , r = t.screenHeight;
                              if (!i.isEmpty(this.getBannerId())) return o[this.platformName].createBannerAd({
                                  adUnitId: this.getBannerId()
                                  , appSid: this.appSid
                                  , style: {
                                      top: r
                                      , width: e
                                  }
                              });
                              d.warn(n.BANNER_KEY_IS_NULL)
                          }
                      }
                  }, r.createRewardAD = function (o) {
                      var t = this;
                      if (!this.videoLoading && this.checkWindow()) {
                          var e = this.getWindow();
                          e[this.platformName].createRewardedVideoAd && (this.mVideo ? (this.mVideo.offClose(this._onVideoClose), this.mVideo.offError(this._onVideoError), this.mVideo.offLoad(this._onVideoLoad)) : this.mVideo = e[this.platformName].createRewardedVideoAd({
                                  adUnitId: this.getVideoId()
                                  , appSid: this.appSid
                              }), this.mVideo.onError(this._onVideoError), this.mVideo.onClose(this._onVideoClose), this.mVideo.onLoad(this._onVideoLoad), this.videoLoading = !0, this.mVideo.load()
                              .then((function () {
                                  o && t.mVideo.show()
                                      .then((function () {}))
                                      .catch((function (o) {
                                          t._onVideoError(o.errMsg, o.errCode), d.log(o.errMsg)
                                      }))
                              }))
                              .catch((function (o) {
                                  t._onVideoError(o.errMsg, o.errCode), d.log(o.errMsg)
                              })))
                      }
                  }, r.initRecord = function () {
                      if (this.checkWindow()) {
                          var o = this.getWindow()
                              , t = this.getSystemInfoSync()
                              .brand.toLowerCase();
                          /huawei/.test(t) || /honor/.test(t) || (this.recordObj = o[this.platformName].getVideoRecorderManager())
                      }
                  }, r.startRecord = function (o, t) {
                      var e = this;
                      void 0 === o && (o = 120), d.log("record startRecord"), this.recordRes = null, this.recordCb = null, this.recordObj ? (this.recordObj.onStart((function (o) {
                          d.log("record onStart"), t && t(o)
                      })), this.recordObj.onStop((function (o) {
                          e.recordRes = o, e.recordCb && (d.log("stop 2"), e.recordCb(o))
                      })), this.recordObj.start({
                          duration: o
                      })) : t && t(!1)
                  }, r.stopRecord = function (o) {
                      d.log("record stopRecord"), this.recordObj ? this.recordRes ? (d.log("stop 1"), o && o(this.recordRes)) : (this.recordCb = o, this.recordObj.stop()) : o && o(!1)
                  }, e
              }(r));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/BinaryHeap.ts", ["cc"], (function (t) {
      "use strict";
      var n;
      return {
          setters: [function (t) {
              n = t.cclegacy
          }]
          , execute: function () {
              n._RF.push({}, "ab01cDrVgtDn5AN4KxNV/8X", "BinaryHeap", void 0);
              t("BinaryHeap", function () {
                  function t(t) {
                      this.scoreFunction = void 0, this.content = void 0, this.content = [], this.scoreFunction = t
                  }
                  var n = t.prototype;
                  return n.push = function (t) {
                      this.content.push(t), this.sinkDown(this.content.length - 1)
                  }, n.pop = function () {
                      var t = this.content[0]
                          , n = this.content.pop();
                      return this.content.length > 0 && (this.content[0] = n, this.bubbleUp(0)), t
                  }, n.remove = function (t) {
                      var n = this.content.indexOf(t)
                          , i = this.content.pop();
                      n !== this.content.length - 1 && (this.content[n] = i, this.scoreFunction(i) < this.scoreFunction(t) ? this.sinkDown(n) : this.bubbleUp(n))
                  }, n.size = function () {
                      return this.content.length
                  }, n.rescoreElement = function (t) {
                      this.sinkDown(this.content.indexOf(t))
                  }, n.sinkDown = function (t) {
                      for (var n = this.content[t]; t > 0;) {
                          var i = (t + 1 >> 1) - 1
                              , o = this.content[i];
                          if (!(this.scoreFunction(n) < this.scoreFunction(o))) break;
                          this.content[i] = n, this.content[t] = o, t = i
                      }
                  }, n.bubbleUp = function (t) {
                      for (var n = this.content.length, i = this.content[t], o = this.scoreFunction(i);;) {
                          var e = t + 1 << 1
                              , c = e - 1
                              , s = null
                              , h = void 0;
                          if (c < n) {
                              var r = this.content[c];
                              (h = this.scoreFunction(r)) < o && (s = c)
                          }
                          if (e < n) {
                              var u = this.content[e];
                              this.scoreFunction(u) < (null === s ? o : h) && (s = e)
                          }
                          if (null === s) break;
                          this.content[t] = this.content[s], this.content[s] = i, t = s
                      }
                  }, t
              }());
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/BlockOptions.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BannerOptions.ts"], (function (n) {
      "use strict";
      var t, o, e;
      return {
          setters: [function (n) {
              t = n.inheritsLoose
          }, function (n) {
              o = n.cclegacy
          }, function (n) {
              e = n.BannerOptions
          }]
          , execute: function () {
              o._RF.push({}, "629ecPOSWFM2L42NlL3DvX+", "BlockOptions", void 0);
              n("BlockOptions", function (n) {
                  function o() {
                      return n.apply(this, arguments) || this
                  }
                  return t(o, n), o
              }(e));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/boxControl.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./gameState.ts", "./rackModel.ts", "./Common.ts", "./TransformUtil.ts", "./CustomDefine.ts", "./GameStoreDetail.ts", "./fingerUtil.ts", "./boxLevel.ts", "./boxToolBubble.ts", "./putGoodsBubble.ts"], (function (e) {
      "use strict";
      var t, o, n, i, l, s, u, r, h, a, b, d, c, f, B, x, v, w, I, m, p, g, C, P, S, y, U, L, T, k;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, o = e.inheritsLoose, n = e.initializerDefineProperty, i = e.assertThisInitialized, l = e.createClass
          }, function (e) {
              s = e.cclegacy, u = e._decorator, r = e.CCInteger, h = e.Node, a = e.Vec3
          }, function (e) {
              b = e.BundlesConst, d = e.CategoryConst
          }, function (e) {
              c = e.BaseObject
          }, function (e) {
              f = e.default
          }, function (e) {
              B = e.entityUtil
          }, function (e) {
              x = e.default
          }, function (e) {
              v = e.gameState
          }, function (e) {
              w = e.rackModel
          }, function (e) {
              I = e.default
          }, function (e) {
              m = e.CoordinateTool
          }, function (e) {
              p = e.eventDefine, g = e.guideStep, C = e.pathDefine, P = e.entityDefine, S = e.BundlesDefine
          }, function (e) {
              y = e.GameStoreDetail
          }, function (e) {
              U = e.fingerUtil
          }, function (e) {
              L = e.boxLevel
          }, function (e) {
              T = e.boxToolBubble
          }, function (e) {
              k = e.putGoodsBubble
          }]
          , execute: function () {
              var N, E, G, _, D, R, O, A, F;
              s._RF.push({}, "440c1JSMkhFULXhYMvfxytE", "boxControl", void 0);
              var M = u.ccclass
                  , H = u.property;
              e("boxControl", (N = M("boxControl"), E = H({
                  type: r
                  , displayName: "货架ID"
              }), G = H(h), N((R = t((D = function (e) {
                      function t() {
                          for (var t, o = arguments.length, l = new Array(o), s = 0; s < o; s++) l[s] = arguments[s];
                          return t = e.call.apply(e, [this].concat(l)) || this, n(t, "boxId", R, i(t)), n(t, "maxNum", O, i(t)), n(t, "unlockLevel", A, i(t)), n(t, "boxLevel", F, i(t)), t.goodsNum = 0, t.isBoxCreated = !1, t.selectBox = null, t.isPutGoodsBubbleCreated = !1, t.putBubble = null, t.toolBubble = null, t.levelNode = null, t.state = 2, t
                      }
                      o(t, e);
                      var s = t.prototype;
                      return s.start = function () {
                          x.on(p.PUT_ON_SHELVES_CHANGED, this, this.onPutOnShelvesChanged), x.on(p.REMOVED_FORM_THE_SHELVES, this, this.onRemovedFromTheShelves), x.on(p.SOLD_OUT, this, this.onRemovedFromTheShelves), x.on(p.STALLS_UPDATED, this, this.onRefreshBox), x.on(p.SHOW_ALL_STALLS_TIP, this, this.refreshPutBubble), x.on(p.SHOW_IGNORE_STALLS_TIP, this, this.onPutGoodsBubbleClick), x.on(p.BUILD_COMPLETED, this, this.onBuildCompleted), x.on(p.BOX_LEVEL_UPGRADED, this, this.onBoxLevelUpgraded)
                      }, s.onEnable = function () {
                          this.showBoxLevel()
                      }, s.onPutOnShelvesChanged = function (e) {
                          e.boxId == this.boxId && (this.removeSelectBox(), this.refreshBox(e), this.clearToolBubble())
                      }, s.onBuildCompleted = function () {
                          this.refreshPutBubble(), this.showBoxLevelNum()
                      }, s.onBoxLevelUpgraded = function (e) {
                          this.boxId == e.boxId && this.showBoxLevelNum()
                      }, s.hideAllBox = function () {
                          if (this.goodsContainer)
                              for (var e = this.goodsContainer.children, t = 0; t < e.length; t++) e[t].active = !1
                      }, s.showGoodsNum = function (e) {
                          if (this.goodsNum = e, this.isMultiBox) {
                              var t = -1;
                              e > 10 ? t = 2 : e > 5 ? t = 1 : e >= 1 && (t = 0), this.hideAllBox();
                              for (var o = this.goodsContainer.children, n = o.length - 1; n >= 0; n--) {
                                  var i = o[n];
                                  if (n <= t) {
                                      i.active = !0;
                                      break
                                  }
                              }
                          }
                      }, s.removeSelectBox = function () {
                          null != this.selectBox && (B.hideEntity(this.selectBox, !0), this.selectBox = null, this.isBoxCreated = !1)
                      }, s.showBoxGoods = function (e, t) {
                          var o = this;
                          if (void 0 === t && (t = ""), 0 == this.node.children.length) {
                              if (this.isBoxCreated) return;
                              this.isBoxCreated = !0, t || (t = "box_egao"), B.showEntity(t, this.node, (function (t) {
                                  t.setPosition(new a(0, 0, 0)), t.setRotationFromEuler(new a(0, 0, 0)), t.setScale(new a(1, 1, 1)), t.setSiblingIndex(o.firstSiblingIndex), o.selectBox = t, o.showGoodsNum(e), o.refreshPutBubble()
                              }), b.town)
                          } else this.showGoodsNum(e), this.refreshPutBubble()
                      }, s.canShowPutClickFinger = function () {
                          return f.testStep(g.buildClick) && !f.testStep(g.putClick) && 0 == this.boxId
                      }, s.showPutGoodsBubble = function () {
                          var e = this;
                          if (this.isUnlockShop() && null == this.putBubble && null != v.instance.townUI && null != v.instance.townCamera) {
                              if (this.isPutGoodsBubbleCreated) return;
                              this.isPutGoodsBubbleCreated = !0, B.showEntity(C.form_townform + P.putGoodsBubble, v.instance.townUI, (function (t) {
                                  var o = m.transWorldPositionToUI(e.node.worldPosition, v.instance.townUI, v.instance.townCamera);
                                  e.putBubble = t, e.putBubble.name = "putGoods-" + e.boxId, e.putBubble.setPosition(o), e.putBubble.getComponent(k)
                                      .reset(e.boxId), e.followPutGoodsBubble()
                              }), b.form)
                          }
                      }, s.showBoxToolBubble = function () {
                          var e = this;
                          f.stepEnd(g.putClick), U.removeFinger(), this.clearToolBubble(), B.showEntity(C.form_townform + P.boxToolBubble, v.instance.townUI, (function (t) {
                              e.toolBubble = t, t.setSiblingIndex(1);
                              var o = t.getComponent(T)
                                  , n = f.getRackById(e.boxId);
                              null == n ? o.reset(e.boxId, null) : o.reset(e.boxId, n), e.followBoxToolBubble(), console.log("显示ToolBubble", e.node.name)
                          }), b.form)
                      }, s.clearToolBubble = function () {
                          null != this.toolBubble && (B.hideEntity(this.toolBubble), this.toolBubble = null, console.log("关闭ToolBubble", this.node.name))
                      }, s.followPutGoodsBubble = function () {
                          if (null != v.instance.townUI && null != v.instance.townCamera && null != this.putBubble) {
                              var e = m.transWorldPositionToUI(this.node.worldPosition, v.instance.townUI, v.instance.townCamera);
                              this.putBubble.setPosition(e), this.putBubble.parent = v.instance.townUI
                          }
                      }, s.followBoxToolBubble = function () {
                          if (null != v.instance.townUI && null != v.instance.townCamera && null != this.toolBubble) {
                              var e = m.transWorldPositionToUI(this.node.worldPosition, v.instance.townUI, v.instance.townCamera);
                              this.toolBubble.setPosition(e), this.toolBubble.parent = v.instance.townUI
                          }
                      }, s.showBoxLevel = function () {
                          var e = this;
                          !this.levelNode && this.isUnlockShop() && B.showEntity(C.form_townform + P.boxLevel, v.instance.townUI, (function (t) {
                              e.levelNode = t, e.showBoxLevelNum()
                          }), S.form)
                      }, s.showBoxLevelNum = function () {
                          if (null != this.levelNode) {
                              var e = f.getRackById(this.boxId);
                              if (null == e) return void(this.levelNode.active = !1);
                              this.levelNode.active = !0, this.levelNode.getComponent(L)
                                  .reset(e.level + 1)
                          }
                      }, s.followBoxLevel = function () {
                          if (null != v.instance.townUI && null != v.instance.townCamera && null != this.levelNode) {
                              var e = m.transWorldPositionToUI(this.boxLevel.worldPosition, v.instance.townUI, v.instance.townCamera);
                              this.levelNode.parent || (this.levelNode.parent = v.instance.townUI), this.levelNode.setPosition(e), this.levelNode.setSiblingIndex(0)
                          }
                      }, s.isUnlockShop = function () {
                          return f.isUnlockCategoryById(d["AREA" + (this.unlockLevel + 1)])
                      }, s.clearPutBubble = function () {
                          null != this.putBubble && (B.hideEntity(this.putBubble), this.isPutGoodsBubbleCreated = !1, this.putBubble = null)
                      }, s.onRefreshBox = function (e) {
                          this.boxId == e.detailId && this.refreshBox({
                              boxId: e.detailId
                          })
                      }, s.onPutGoodsBubbleClick = function (e) {
                          if (this.boxId == e.stallsId) return this.clearPutBubble(), void this.showBoxToolBubble();
                          this.clearToolBubble(), this.refreshPutBubble()
                      }, s.refreshPutBubble = function () {
                          var e = f.getRackById(this.boxId);
                          null == e && (e = new w(this.boxId, 0, 0, 0, 0), f.updateRack(e)), this.clearToolBubble(), e.num <= 0 ? this.showPutGoodsBubble() : this.clearPutBubble()
                      }, s.refreshBox = function (e) {
                          if (this.isUnlockShop())
                              if (null != y.getStoreDetailByDetailId(e.boxId)) {
                                  var t = f.getRackById(e.boxId);
                                  if (null == t && (t = new w(e.detailId, 0, 0, 0, 0), f.updateRack(t)), t.num <= 0 ? this.showPutGoodsBubble() : this.clearPutBubble(), I.isEmpty(t.detailId) || 0 == t.detailId) this.showBoxGoods(0);
                                  else {
                                      var o = y.getStoreDetailByDetailId(t.detailId)
                                          , n = "";
                                      o && (n = o.boxName), this.showBoxGoods(t.num, n)
                                  }
                              } else this.showBoxGoods(0)
                      }, s.onRemovedFromTheShelves = function (e) {
                          if (this.clearToolBubble(), e == this.boxId) {
                              var t = f.getRackById(this.boxId);
                              t.detailId = 0, t.num = 0, f.updateRack(t), this.removeSelectBox(), this.refreshBox({
                                  boxId: this.boxId
                              })
                          }
                      }, s.setState = function (e) {
                          this.state = e, this.node.active = e < 1, this.refreshBox({
                              boxId: this.boxId
                          })
                      }, s.update = function (e) {
                          this.followPutGoodsBubble(), this.followBoxToolBubble(), this.followBoxLevel()
                      }, l(t, [{
                          key: "isMultiBox"
                          , get: function () {
                              return this.node.children.length > 0 && this.node.children[0].children.length > 1
                          }
                      }, {
                          key: "goodsContainer"
                          , get: function () {
                              return this.node.children.length > 0 && this.node.children[0].children.length > 1 ? this.node.children[0].children[1].children[0] : null
                          }
                      }]), t
                  }(c))
                  .prototype, "boxId", [E], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return 1
                      }
                  }), O = t(D.prototype, "maxNum", [H], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 5
                  }
              }), A = t(D.prototype, "unlockLevel", [H], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 1
                  }
              }), F = t(D.prototype, "boxLevel", [G], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = D)) || _));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/boxLevel.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (e) {
      "use strict";
      var t, r, i, n, o, l, a, c, u;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, r = e.inheritsLoose, i = e.initializerDefineProperty, n = e.assertThisInitialized
          }, function (e) {
              o = e.cclegacy, l = e._decorator, a = e.Node, c = e.Label, u = e.Component
          }]
          , execute: function () {
              var s, p, b, v, f, g, h, y, L;
              o._RF.push({}, "3b785m6pZBD3oU/rIPZMVD0", "boxLevel", void 0);
              var x = l.ccclass
                  , d = l.property;
              e("boxLevel", (s = x("boxLevel"), p = d(a), b = d(a), v = d(c), s((h = t((g = function (e) {
                      function t() {
                          for (var t, r = arguments.length, o = new Array(r), l = 0; l < r; l++) o[l] = arguments[l];
                          return t = e.call.apply(e, [this].concat(o)) || this, i(t, "bg1", h, n(t)), i(t, "bg2", y, n(t)), i(t, "txtLevel", L, n(t)), t
                      }
                      r(t, e);
                      var o = t.prototype;
                      return o.reset = function (e) {
                          this.txtLevel.string = "" + e, this.bg1.active = e <= 3, this.bg2.active = !this.bg1.active
                      }, o.update = function (e) {}, t
                  }(u))
                  .prototype, "bg1", [p], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), y = t(g.prototype, "bg2", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), L = t(g.prototype, "txtLevel", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), f = g)) || f));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/boxRayControl.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./dataUtil.ts", "./eventUtil.ts", "./CustomDefine.ts", "./boxControl.ts"], (function (o) {
      "use strict";
      var t, e, n, r, a, l, s, c;
      return {
          setters: [function (o) {
              t = o.inheritsLoose
          }, function (o) {
              e = o.cclegacy, n = o._decorator, r = o.Component
          }, function (o) {
              a = o.default
          }, function (o) {
              l = o.default
          }, function (o) {
              s = o.eventDefine
          }, function (o) {
              c = o.boxControl
          }]
          , execute: function () {
              var u;
              e._RF.push({}, "1210aNr++xH3roaHqZH9U+A", "boxRayControl", void 0);
              var i = n.ccclass;
              n.property, o("boxRayControl", i("boxRayControl")(u = function (o) {
                  function e() {
                      return o.apply(this, arguments) || this
                  }
                  return t(e, o), e.prototype.onRaycast = function () {
                      var o = this.node.parent.getComponent(c);
                      if (o) {
                          var t = a.getRackById(o.boxId);
                          t && t.num > 0 ? (o.clearToolBubble(), o.clearPutBubble(), o.showBoxToolBubble()) : o.clearToolBubble(), l.dispatchEvent(s.SHOW_IGNORE_STALLS_TIP, {
                              stallsId: o.boxId
                          })
                      } else console.error("boxRayControl onRaycast error ", this.node.name, this.node.parent.name)
                  }, e
              }(r)) || u);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/boxToolBubble.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./uiManager.ts", "./rackModel.ts", "./CustomDefine.ts", "./GameStoreDetail.ts", "./fingerUtil.ts", "./putonshelvesForm.ts", "./shopUpgradeForm.ts", "./storeEmptyForm.ts", "./takeDownForm.ts"], (function (t) {
      "use strict";
      var e, i, o, n, r, l, s, a, u, c, p, b, f, m, d, h, g, y, D, v, I, w, F, U, C, S, x, k, B, T;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, o = t.initializerDefineProperty, n = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, l = t._decorator, s = t.Node, a = t.Label, u = t.ProgressBar, c = t.Sprite, p = t.SpriteFrame
          }, function (t) {
              b = t.CategoryConst
          }, function (t) {
              f = t.BaseObject
          }, function (t) {
              m = t.default
          }, function (t) {
              d = t.entityUtil
          }, function (t) {
              h = t.default
          }, function (t) {
              g = t.uiManager
          }, function (t) {
              y = t.rackModel
          }, function (t) {
              D = t.eventDefine, v = t.guideStep, I = t.pathDefine, w = t.formDefine, F = t.BundlesDefine, U = t.entityDefine
          }, function (t) {
              C = t.GameStoreDetail
          }, function (t) {
              S = t.fingerUtil
          }, function (t) {
              x = t.putonshelvesForm
          }, function (t) {
              k = t.shopUpgradeForm
          }, function (t) {
              B = t.storeEmptyForm
          }, function (t) {
              T = t.takeDownForm
          }]
          , execute: function () {
              var P, L, E, N, z, _, M, A, O, R, j, G, H, W, q, J, K, Q, V, X;
              r._RF.push({}, "351ce9BoypMvojbnCID8goT", "boxToolBubble", void 0);
              var Y = l.ccclass
                  , Z = l.property;
              t("boxToolBubble", (P = Y("boxToolBubble"), L = Z(s), E = Z(s), N = Z(s), z = Z(a), _ = Z(u), M = Z(a), A = Z(c), O = Z({
                  type: [p]
              }), P((G = e((j = function (t) {
                      function e() {
                          for (var e, i = arguments.length, r = new Array(i), l = 0; l < i; l++) r[l] = arguments[l];
                          return e = t.call.apply(t, [this].concat(r)) || this, o(e, "btnUpgrade", G, n(e)), o(e, "btnPut", H, n(e)), o(e, "btnDown", W, n(e)), o(e, "lblName", q, n(e)), o(e, "progressBar", J, n(e)), o(e, "lblProgress", K, n(e)), o(e, "imgTip", Q, n(e)), o(e, "imgTipList", V, n(e)), o(e, "boxId", X, n(e)), e
                      }
                      i(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          h.on(D.STALLS_UPDATED, this, this.onStallsUpdated), this.bindTouchEnd(this.btnUpgrade, this.onUpgradeClick), this.bindTouchEnd(this.btnPut, this.onPutClick), this.bindTouchEnd(this.btnDown, this.onDownClick)
                      }, r.reset = function (t, e) {
                          console.log("boxToolBubble---boxId ", t), e && e.num > 0 ? (this.imgTip.spriteFrame = this.imgTipList[1], this.btnDown.active = !0, this.btnPut.active = !1) : (this.imgTip.spriteFrame = this.imgTipList[0], this.btnDown.active = !1, this.btnPut.active = !0), this.boxId = t;
                          var i = m.getRackLevel(this.boxId)
                              , o = C.getStoreDetailByDetailId(this.boxId);
                          this.btnUpgrade.active = i < o.UpAmountMaxNum, this.refreshNum(), m.testStep(v.putClick) && !m.testStep(v.putConfirm) && (S.showFinger(this.btnPut.getWorldPosition()), S.followUI(this.btnPut)), m.testStep(v.selectMap) && m.testStep(v.putConfirm) && !m.testStep(v.upClick) && (S.showFinger(this.btnUpgrade.getWorldPosition()), S.followUI(this.btnUpgrade), h.dispatchEvent(D.SHOW_DIALOG, {
                              step: v.upClick
                          }))
                      }, r.onDisable = function () {
                          S.removeFinger(), S.removeFollow()
                      }, r.onStallsUpdated = function (t) {
                          this.boxId == t.detailId && this.refreshNum()
                      }, r.refreshNum = function () {
                          var t = m.getRackById(this.boxId);
                          null == t && (t = new y(this.boxId, 0, 0, 0, 0), m.updateRack(t));
                          var e = C.getStoreDetailByDetailId(this.boxId)
                              , i = m.getRackLevel(this.boxId)
                              , o = e.StoreNum + e.UpStoreNum * i;
                          this.lblProgress.string = t.num + "/" + o, this.progressBar.progress = t.num / o;
                          var n = C.getStoreDetailByDetailId(t.detailId);
                          this.lblName.string = "" + (n ? n.ProductName : "")
                      }, r.onHideBar = function () {
                          d.hideEntity(this.node)
                      }, r.onUpgradeClick = function () {
                          var t = this;
                          m.stepEnd(v.upClick), S.removeFinger(), g.pushUIForm(I.form_townform + w.shopUpgradeForm, (function (e) {
                              e.getComponent(k)
                                  .reset(t.boxId)
                          }), F.form)
                      }, r.onPutClick = function () {
                          var t = this;
                          m.stepEnd(v.putClick), S.removeFinger();
                          var e = m.getLocalShopDetailByCategoryId(b.FOODS);
                          d.hideAllEntity(U.storeItem);
                          var i = !1;
                          e.forEach((function (t, e) {
                              m.getLocalDetailNumById(t.detailId) > 0 && (i = !0)
                          })), i ? g.pushUIForm(I.form_townform + w.putonshelvesForm, (function (e) {
                              e.getComponent(x)
                                  .reset(t.boxId)
                          }), F.form) : g.pushUIForm(I.form_townform + w.storeEmptyForm, (function (e) {
                              e.getComponent(B)
                                  .reset(t.boxId)
                          }), F.form)
                      }, r.onDownClick = function () {
                          var t = this;
                          g.pushUIForm(I.form_townform + w.takeDownForm, (function (e) {
                              e.getComponent(T)
                                  .reset(t.boxId)
                          }), F.form)
                      }, r.update = function (t) {}, e
                  }(f))
                  .prototype, "btnUpgrade", [L], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), H = e(j.prototype, "btnPut", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), W = e(j.prototype, "btnDown", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), q = e(j.prototype, "lblName", [z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), J = e(j.prototype, "progressBar", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), K = e(j.prototype, "lblProgress", [M], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Q = e(j.prototype, "imgTip", [A], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), V = e(j.prototype, "imgTipList", [O], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), X = e(j.prototype, "boxId", [Z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return -1
                  }
              }), R = j)) || R));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/BoxUpgrade.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Sheets.ts", "./sheetManager.ts"], (function (e) {
      "use strict";
      var t, n, r, o;
      return {
          setters: [function (e) {
              t = e.inheritsLoose
          }, function (e) {
              n = e.cclegacy
          }, function (e) {
              r = e.BoxUpgradeBase
          }, function (e) {
              o = e.SheetManager
          }]
          , execute: function () {
              n._RF.push({}, "917f71fq1NDiau4Oho4gg9f", "BoxUpgrade", void 0);
              e("BoxUpgrade", function (e) {
                  function n() {
                      return e.apply(this, arguments) || this
                  }
                  return t(n, e), n.get = function (e) {
                      return this[e] ? this[e] : o.get("BoxUpgrade", e, n)
                  }, n
              }(r));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/bubble.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./entityUtil.ts"], (function (t) {
      "use strict";
      var e, i, n, r, o, s, c, u, l;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, s = t._decorator, c = t.Label
          }, function (t) {
              u = t.BaseObject
          }, function (t) {
              l = t.entityUtil
          }]
          , execute: function () {
              var a, b, p, f, h;
              o._RF.push({}, "de82fDFVQxNrqKwjdQPYFp7", "bubble", void 0);
              var d = s.ccclass
                  , y = s.property;
              t("bubble", (a = d("bubble"), b = y(c), a((h = e((f = function (t) {
                      function e() {
                          for (var e, i = arguments.length, o = new Array(i), s = 0; s < i; s++) o[s] = arguments[s];
                          return e = t.call.apply(t, [this].concat(o)) || this, n(e, "txtMsg", h, r(e)), e
                      }
                      i(e, t);
                      var o = e.prototype;
                      return o.start = function () {}, o.reset = function (t) {
                          this.txtMsg.string = t, this.unschedule(this.removeNode), this.scheduleOnce(this.removeNode, 5)
                      }, o.removeNode = function () {
                          l.hideEntity(this.node)
                      }, e
                  }(u))
                  .prototype, "txtMsg", [b], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), p = f)) || p));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/BubbleCfg.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Sheets.ts", "./sheetManager.ts"], (function (t) {
      "use strict";
      var e, n, u, r;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              u = t.BubbleCfgBase
          }, function (t) {
              r = t.SheetManager
          }]
          , execute: function () {
              n._RF.push({}, "44343pi1jJI7o095M8x7ADi", "BubbleCfg", void 0);
              t("BubbleCfg", function (t) {
                  function n() {
                      return t.apply(this, arguments) || this
                  }
                  return e(n, t), n.get = function (t) {
                      return this[t] ? this[t] : r.get("BubbleCfg", t, n)
                  }, n.getAll = function () {
                      return r.getAllSheets("BubbleCfg", n)
                  }, n.getRandom = function (t) {
                      var e = this.getAll()
                          .filter((function (e) {
                              return e.type == t
                          }));
                      return e[Math.floor(Math.random() * e.length)].memo
                  }, n
              }(u));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Builder.ts", ["cc", "./nUtils.ts"], (function (r) {
      "use strict";
      var e, n, t;
      return {
          setters: [function (r) {
              e = r.cclegacy, n = r.Vec3
          }, function (r) {
              t = r.nUtils
          }]
          , execute: function () {
              e._RF.push({}, "f8929iHFYlJlaz7L0cvyCLc", "Builder", void 0);
              var o = {
                  faces: []
                  , vertices: []
                  , centroid: []
              };
              r("Builder", function () {
                  function r() {}
                  return r.buildZoneByJson = function (r) {
                      this.cleanGeometry();
                      for (var e = r.vertices, t = r.faces, i = 0; i < e.length; i += 3) o.vertices.push(new n(e[i], e[i + 1], e[i + 2]));
                      for (var s = 0; s < t.length / 3; s++) this.computeCentroids(t[3 * s], t[3 * s + 1], t[3 * s + 2]);
                      return this.buildZone(o)
                  }, r.cleanGeometry = function () {
                      o.vertices.length = 0, o.faces.length = 0, o.centroid.length = 0
                  }, r.buildZone = function (r) {
                      var e = this.buildNavMesh(r);
                      return this.groupNavMesh(e)
                  }, r.buildNavMesh = function (r) {
                      t.mergeVertices(r);
                      var e = this.buildPolygonsFromGeometry(r);
                      return e
                  }, r.computeCentroids = function (r, e, t) {
                      var i = new n;
                      n.add(i, o.vertices[e], o.vertices[r]), n.add(i, o.vertices[t], i), n.multiplyScalar(i, i, 1 / 3), o.faces.push(new Array(r, e, t)), o.centroid.push(i)
                  }, r.buildPolygonsFromGeometry = function (r) {
                      for (var e = [], n = r.vertices, t = 0, o = r.faces.length; t < o; t++) e.push({
                          vertexIds: r.faces[t]
                          , centroid: r.centroid[t]
                          , neighbours: []
                      });
                      for (var i = {
                              polygons: e
                              , vertices: n
                          }, s = 0, u = e.length; s < u; s++) {
                          var c = e[s];
                          this.buildPolygonNeighbours(c, i)
                      }
                      return i
                  }, r.groupNavMesh = function (r) {
                      var e = {
                          vertices: null
                          , groups: null
                      };
                      e.vertices = r.vertices;
                      var n = this.buildPolygonGroups(r);
                      e.groups = [];
                      for (var o = function (r, e) {
                              for (var n = 0; n < r.length; n++)
                                  if (e === r[n]) return n
                          }, i = 0, s = n.length; i < s; i++) {
                          for (var u = n[i], c = [], l = 0, g = u.length; l < g; l++) {
                              for (var h = u[l], a = [], d = [], v = 0, f = h.neighbours.length; v < f; v++) {
                                  var p = h.neighbours[v];
                                  a.push(o(u, p)), d.push(this.getSharedVerticesInOrder(h, p))
                              }
                              h.centroid.x = t.roundNumber(h.centroid.x, 2), h.centroid.y = t.roundNumber(h.centroid.y, 2), h.centroid.z = t.roundNumber(h.centroid.z, 2), c.push({
                                  id: o(u, h)
                                  , neighbours: a
                                  , vertexIds: h.vertexIds
                                  , centroid: h.centroid
                                  , portals: d
                              })
                          }
                          e.groups.push(c)
                      }
                      return e
                  }, r.buildPolygonNeighbours = function (r, e) {
                      r.neighbours = [];
                      for (var t = 0, o = e.polygons.length; t < o; t++) {
                          if (r !== e.polygons[t])
                              if (!(n.squaredDistance(r.centroid, e.polygons[t].centroid) > 1e4)) this.arrayIntersect(r.vertexIds, e.polygons[t].vertexIds)
                                  .length >= 2 && r.neighbours.push(e.polygons[t])
                      }
                  }, r.getSharedVerticesInOrder = function (r, e) {
                      var n = r.vertexIds
                          , t = n[0]
                          , o = n[1]
                          , i = n[2]
                          , s = e.vertexIds
                          , u = s.includes(t)
                          , c = s.includes(o)
                          , l = s.includes(i);
                      return u && c && l ? Array.from(n) : u && c ? [t, o] : c && l ? [o, i] : u && l ? [i, t] : (console.warn("Error,neighbors with <2 shared vertices found."), [])
                  }, r.buildPolygonGroups = function (r) {
                      var e = r.polygons
                          , n = []
                          , t = 0;

                      function o(r) {
                          for (var e = 0, n = r.neighbours.length; e < n; e++) {
                              var t = r.neighbours[e];
                              null == t.group && (t.group = r.group, o(t))
                          }
                      }
                      for (var i = 0, s = e.length; i < s; i++) {
                          var u = e[i];
                          null == u.group && (u.group = t++, o(u)), n[u.group] || (n[u.group] = []), n[u.group].push(u)
                      }
                      return n
                  }, r.arrayIntersect = function () {
                      for (var r, e, n, t, o, i, s = [], u = {}, c = arguments.length, l = new Array(c), g = 0; g < c; g++) l[g] = arguments[g];
                      for (i = l.length - 1, n = l[0].length, e = 0, r = 0; r <= i; r++)(t = l[r].length) < n && (e = r, n = t);
                      for (r = 0; r <= i; r++) {
                          o = l[t = r === e ? 0 : r || e].length;
                          for (var h = 0; h < o; h++) {
                              var a = l[t][h];
                              u[a] === r - 1 ? r === i ? (s.push(a), u[a] = 0) : u[a] = r : 0 === r && (u[a] = 0)
                          }
                      }
                      return s
                  }, r
              }());
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/buildForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./httpUtil.ts", "./uiManager.ts", "./baseAdForm.ts", "./categoryModel.ts", "./rackModel.ts", "./platformUtil.ts", "./CustomDefine.ts", "./GameStore.ts", "./GameStoreDetail.ts", "./fingerUtil.ts"], (function (t) {
      "use strict";
      var e, i, o, n, r, l, a, u, s, c, d, h, f, b, p, v, m, g, y, S, C, D, B, F, L;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, o = t.initializerDefineProperty, n = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, l = t._decorator, a = t.Sprite, u = t.Node, s = t.Label
          }, function (t) {
              c = t.VIDEO_STATUS
          }, function (t) {
              d = t.default
          }, function (t) {
              h = t.entityUtil
          }, function (t) {
              f = t.default
          }, function (t) {
              b = t.httpUtil
          }, function (t) {
              p = t.uiManager
          }, function (t) {
              v = t.baseAdForm
          }, function (t) {
              m = t.categoryModel
          }, function (t) {
              g = t.rackModel
          }, function (t) {
              y = t.platformUtil
          }, function (t) {
              S = t.guideStep, C = t.eventDefine, D = t.formDefine
          }, function (t) {
              B = t.GameStore
          }, function (t) {
              F = t.GameStoreDetail
          }, function (t) {
              L = t.fingerUtil
          }]
          , execute: function () {
              var w, E, U, T, A, N, V, k, M, z, I, R, _;
              r._RF.push({}, "112dcp7xQpDi5muoHfa8HjF", "buildForm", void 0);
              var G = l.ccclass
                  , P = l.property;
              t("buildForm", (w = G("buildForm"), E = P(a), U = P(u), T = P(u), A = P(s), N = P(u), w((M = e((k = function (t) {
                      function e() {
                          for (var e, i = arguments.length, r = new Array(i), l = 0; l < i; l++) r[l] = arguments[l];
                          return e = t.call.apply(t, [this].concat(r)) || this, o(e, "boxLogo", M, n(e)), o(e, "btnClose", z, n(e)), o(e, "btnBuild", I, n(e)), o(e, "lblLevel", R, n(e)), o(e, "videoNode", _, n(e)), e.level = -1, e.isVideo = !1, e
                      }
                      i(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnClose, this.hideForm), this.bindTouchEnd(this.btnBuild, this.onBuild), this.bindTouchEnd(this.videoNode, this.onVideoBuild)
                      }, r.onEnable = function () {
                          t.prototype.onEnable.call(this), this.showTopCustomAd(), this.showBottomCustomAd()
                      }, r.onDisable = function () {
                          L.removeFinger(), this.hideBottomCustomAd(), this.hideTopCustomAd()
                      }, r.reset = function (t, e) {
                          this.level = t, this.isVideo = e, this.videoNode.active = this.isVideo, this.btnBuild.active = !this.isVideo;
                          var i = B.getStoreByLevel(this.level);
                          this.lblLevel.string = "" + i.Amount, d.testStep(S.buildClick) && !d.testStep(S.buildConfirm) && L.showFinger(this.btnBuild.getWorldPosition())
                      }, r.onVideoBuild = function () {
                          var t = this;
                          b.reportVideoStart("解锁摊位"), y.currentPlatform.showVideo((function (e) {
                              switch (e) {
                              case c.END:
                                  b.reportVideoFinish("解锁摊位");
                                  var i = B.getStoreByLevel(t.level);
                                  t.buildShop(i);
                                  break;
                              case c.ERR:
                              case c.NOTEND:
                                  h.hideEntity(t.node)
                              }
                          }))
                      }, r.onBuild = function () {
                          console.log("解锁摊位"), d.stepEnd(S.buildConfirm), L.removeFinger();
                          var t = B.getStoreByLevel(this.level);
                          d.getCoin() >= t.Amount ? (b.trackEvent("解锁摊位", "" + this.level), d.subCoin(t.Amount), this.buildShop(t)) : p.showToast("钱不够了")
                      }, r.buildShop = function (t) {
                          var e = new m(t.Category, !0);
                          d.addLocalUnlockCategory(e);
                          for (var i = F.getStoreByCategoryId(t.Category), o = 0; o < i.length; o++) {
                              var n = i[o]
                                  , r = new g(n.DetailId, 0, 0, 0, 0);
                              d.updateRack(r), d.addLocalDetailNum(t.Category, n.DetailId, n.ChipNum, !0, 0, !1)
                          }
                          d.saveRack(), d.saveLocalStore(), f.dispatchEvent(C.BUILD_COMPLETED, this.level), p.showToast("解锁成功"), p.hideUIForm(D.buildForm)
                      }, e
                  }(v))
                  .prototype, "boxLogo", [E], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), z = e(k.prototype, "btnClose", [U], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), I = e(k.prototype, "btnBuild", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), R = e(k.prototype, "lblLevel", [A], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = e(k.prototype, "videoNode", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), V = k)) || V));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/buildShopBubble.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./uiManager.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./buildForm.ts"], (function (e) {
      "use strict";
      var i, t, n, o, r, l, u, s, a, c, d, h, f, p, b, v, m, C, w, g, y, D;
      return {
          setters: [function (e) {
              i = e.applyDecoratedDescriptor, t = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
          }, function (e) {
              r = e.cclegacy, l = e._decorator, u = e.Node, s = e.Label, a = e.tween, c = e.Vec3
          }, function (e) {
              d = e.BaseObject
          }, function (e) {
              h = e.default
          }, function (e) {
              f = e.entityUtil
          }, function (e) {
              p = e.default
          }, function (e) {
              b = e.uiManager
          }, function (e) {
              v = e.eventDefine, m = e.guideStep, C = e.pathDefine, w = e.formDefine, g = e.BundlesDefine
          }, function (e) {
              y = e.fingerUtil
          }, function (e) {
              D = e.buildForm
          }]
          , execute: function () {
              var L, B, U, E, S, _, k, z, F, I, N, O, T;
              r._RF.push({}, "80879AXtCJLjKK6IoiWiRLJ", "buildShopBubble", void 0);
              var x = l.ccclass
                  , A = l.property;
              e("buildShopBubble", (L = x("buildShopBubble"), B = A(u), U = A(u), E = A(s), S = A(u), _ = A(u), L((F = i((z = function (e) {
                      function i() {
                          for (var i, t = arguments.length, r = new Array(t), l = 0; l < t; l++) r[l] = arguments[l];
                          return i = e.call.apply(e, [this].concat(r)) || this, n(i, "waitContainer", F, o(i)), n(i, "unlockContainer", I, o(i)), n(i, "txtLevel", N, o(i)), n(i, "videoNode", O, o(i)), n(i, "videoNode2", T, o(i)), i.level = -1, i.isVideo = !1, i
                      }
                      t(i, e);
                      var r = i.prototype;
                      return r.start = function () {
                          console.log("buildShopBubble start ", this.node.name), this.bindTouchEnd(this.node, this.onTipClick), this.containerAnim(this.waitContainer), this.containerAnim(this.unlockContainer)
                      }, r.containerAnim = function (e) {
                          var i = e.position.clone()
                              , t = a(e)
                              .to(.5, {
                                  position: new c(i.x, i.y + 30, i.z)
                              })
                              , n = a(e)
                              .to(.5, {
                                  position: new c(i.x, i.y, i.z)
                              });
                          a(e)
                              .sequence(t, n)
                              .repeatForever()
                              .start()
                      }, r.onEnable = function () {
                          p.on(v.BUILD_COMPLETED, this, this.onBuildCompleted), p.on(v.SHOW_BUILD_GUIDE, this, this.showGuide)
                      }, r.onDisable = function () {
                          p.off(v.BUILD_COMPLETED, this)
                      }, r.reset = function (e, i) {
                          void 0 === i && (i = !1), this.level = e;
                          var t = h.getCurrentLevel();
                          this.waitContainer.active = this.level == t + 1, this.waitContainer.active && (this.txtLevel.string = this.level + 1 + "级解锁"), this.unlockContainer.active = !this.waitContainer.active, this.showGuide(), this.isVideo = i, this.videoNode.active = i, this.videoNode2.active = i
                      }, r.showGuide = function () {
                          0 != this.level || h.testStep(m.buildConfirm) || (y.showFinger(this.node.position, new c(0, 100, 0)), y.followUI(this.node), p.dispatchEvent(v.SHOW_DIALOG, {
                              step: m.buildClick
                          }))
                      }, r.onTipClick = function (e) {
                          var i = this;
                          h.stepEnd(m.buildClick), y.removeFinger();
                          var t = h.getCurrentLevel();
                          this.level <= t || this.isVideo ? b.pushUIForm(C.form_townform + w.buildForm, (function (e) {
                              e.getComponent(D)
                                  .reset(i.level, i.isVideo)
                          }), g.form) : this.level == t + 1 && b.showToast("等级不够，无法解锁")
                      }, r.onBuildCompleted = function (e) {
                          this.level == e && f.hideEntity(this.node)
                      }, r.update = function (e) {}, i
                  }(d))
                  .prototype, "waitContainer", [B], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), I = i(z.prototype, "unlockContainer", [U], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), N = i(z.prototype, "txtLevel", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), O = i(z.prototype, "videoNode", [S], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), T = i(z.prototype, "videoNode2", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), k = z)) || k));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/bundleMgr.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./resourceUtil.ts"], (function (e) {
      "use strict";
      var n, a, o, c, t;
      return {
          setters: [function (e) {
              n = e.inheritsLoose
          }, function (e) {
              a = e.cclegacy, o = e._decorator, c = e.Component
          }, function (e) {
              t = e.resourceUtil
          }]
          , execute: function () {
              var l, d;
              a._RF.push({}, "506fe7frmZL15QefXm21+zZ", "bundleMgr", void 0);
              var u = o.ccclass;
              o.property, e("BundleMgr", u("BundleMgr")(((d = function (e) {
                      function a() {
                          return e.apply(this, arguments) || this
                      }
                      return n(a, e), a.loadBundleOnce = function (e, n, a, o, c) {
                          var l = this;
                          void 0 === o && (o = ""), void 0 === c && (c = !0), this.loadCache.hasOwnProperty(e) ? this.loadCache[e].loaded ? a && a(this.loadCache[e].hasLoadAd) : this.loadCache[e].callback.push(a) : (this.loadCache[e] = {
                              loaded: !1
                              , hasLoadAd: !1
                              , callback: [a]
                          }, t.loadSubEntity(e, (function (a) {
                              n && n(e, a)
                          }), (function () {
                              l.loadCache[e].loaded = !0, l.loadCache[e].callback.forEach((function (n) {
                                  n(l.loadCache[e].hasLoadAd)
                              })), l.loadCache[e].callback = []
                          }), o, c))
                      }, a.loadMultiBundle = function (e, n, a, o) {
                          var c = this;
                          void 0 === o && (o = !0);
                          var t = e.length
                              , l = 0
                              , d = [];
                          e.forEach((function (e) {
                              d.push({
                                  bundleKey: e
                                  , percent: 0
                              })
                          }));
                          var u = function (e, a) {
                              var o = d.findIndex((function (n) {
                                  return n.bundleKey == e
                              })); - 1 != o ? d[o].percent = a : d.push({
                                  bundleKey: e
                                  , percent: a
                              }), n && n(d)
                          };
                          this.loadBundleOnce(e[l], u, (function n(d) {
                              ++l == t ? a && a() : c.loadBundleOnce(e[l], u, n, void 0, o)
                          }), void 0, o)
                      }, a
                  }(c))
                  .loadCache = {}, l = d)) || l);
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/cameraManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts"], (function (e) {
      "use strict";
      var r, a, i, t, n, c, o, s, l;
      return {
          setters: [function (e) {
              r = e.applyDecoratedDescriptor, a = e.inheritsLoose, i = e.initializerDefineProperty, t = e.assertThisInitialized
          }, function (e) {
              n = e.cclegacy, c = e._decorator, o = e.Camera, s = e.View
          }, function (e) {
              l = e.BaseObject
          }]
          , execute: function () {
              var u, m, p, f, h;
              n._RF.push({}, "12aaa7Gc+RBSZTRFzGYzCQV", "cameraManager", void 0);
              var d = c.ccclass
                  , g = c.property;
              e("default", (u = d("cameraManager"), m = g(o), u((h = r((f = function (e) {
                      function r() {
                          for (var r, a = arguments.length, n = new Array(a), c = 0; c < a; c++) n[c] = arguments[c];
                          return r = e.call.apply(e, [this].concat(n)) || this, i(r, "mainCamera", h, t(r)), r
                      }
                      a(r, e);
                      var n = r.prototype;
                      return n.worldToScreen = function (e, r) {
                          return this.mainCamera.worldToScreen(e, r)
                      }, n.isVisibleOn3dCamera = function (e) {
                          if (!this.mainCamera) return !1;
                          var r = this.mainCamera.worldToScreen(e)
                              , a = s.instance.getVisibleSize()
                              .width
                              , i = s.instance.getVisibleSize()
                              .height;
                          return !(r.x < 0 || r.x > a || r.y < 0 || r.y > i)
                      }, r
                  }(l))
                  .prototype, "mainCamera", [m], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), p = f)) || p));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/cameraMove.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (e) {
      "use strict";
      var t, r, o, c;
      return {
          setters: [function (e) {
              t = e.inheritsLoose
          }, function (e) {
              r = e.cclegacy, o = e._decorator, c = e.Component
          }]
          , execute: function () {
              var n;
              r._RF.push({}, "0d0ceZVSaBFfL9SJ+ZrXarp", "cameraMove", void 0);
              var a = o.ccclass;
              o.property, e("cameraMove", a("cameraMove")(n = function (e) {
                  function r() {
                      return e.apply(this, arguments) || this
                  }
                  t(r, e);
                  var o = r.prototype;
                  return o.start = function () {}, o.update = function (e) {}, r
              }(c)) || n);
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/CaptureUtils.ts", ["cc"], (function (e) {
      "use strict";
      var t, r, a, i, n, o, h, c, u, f, g, d, s;
      return {
          setters: [function (e) {
              t = e.cclegacy, r = e.mat4, a = e.v3, i = e.RenderTexture, n = e.director, o = e.view, h = e.UITransform, c = e.Node, u = e.Camera, f = e.SpriteFrame, g = e.find, d = e.gfx, s = e.sys
          }]
          , execute: function () {
              t._RF.push({}, "26801tpJ7hDhIWryZPMC7fe", "CaptureUtils", void 0);
              var l = e("default", function () {
                  function e() {}
                  return e._capture = function (t, r) {
                      var a = e.getCamera()
                          , o = a.node
                          , h = a.targetTexture = new i;
                      return h.reset({
                          width: r.width
                          , height: r.height
                      }), o.setPosition(r.x, r.y), t.addChild(o), a.orthoHeight = r.height / 2, a.targetTexture = h, n.root.frameMove(0), a.targetTexture = null, o.parent = null, h
                  }, e._getNodeInfo = function (t) {
                      var r = e._tmpInfo
                          , a = t.getWorldMatrix(e._tmpMat4)
                          .getScale(e._tmpVec3);
                      if (r.scaleX = a.x, r.scaleY = a.y, r.scaleZ = a.z, t == n.getScene()) {
                          var i = o._visibleRect;
                          r.anchorX = r.anchorY = 0, r.width = i.width, r.height = i.height
                      } else {
                          var c = t.getComponent(h);
                          c ? (r.anchorX = c.anchorX, r.anchorY = c.anchorY, r.width = c.width, r.height = c.height) : (r.anchorX = r.anchorY = .5, r.width = r.height = 1)
                      }
                      return r
                  }, e.getCamera = function () {
                      var t = e._camera;
                      if (!t) {
                          var r = new c("CaptureUtils");
                          (t = e._camera = r.addComponent(u))
                          .projection = u.ProjectionType.ORTHO, t.near = 0, t.visibility = 41943040
                      }
                      return t
                  }, e.getCanvas = function () {
                      return e._canvas || (e._canvas = document.createElement("canvas"))
                  }, e.capture = function (t, r) {
                      var a, i = void 0
                          , o = new f;
                      return t === i && (t = g("Canvas") || n.getScene()), r === i && (r = {}), a = e._getNodeInfo(t), r.width === i && (r.width = a.width * a.scaleX), r.height === i && (r.height = a.height * a.scaleY), r.x === i && (r.x = (.5 - a.anchorX) * a.width), r.y === i && (r.y = (.5 - a.anchorY) * a.height), o.texture = e._capture(t, r), o.flipUVY = !0, o
                  }, e.readPixels = function (e) {
                      var t = e.width
                          , r = e.height
                          , a = new ArrayBuffer(t * r * 4)
                          , i = new d.BufferTextureCopy
                          , o = i.texExtent;
                      return o.width = t, o.height = r, n.root.device.copyFramebufferToBuffer(e.window.framebuffer, a, [i]), new Uint8Array(a)
                  }, e.toImgUrl = function (t) {
                      var r, a = e.readPixels(t)
                          , i = t.width
                          , n = t.height;
                      if (s.isNative) {
                          var o = jsb.fileUtils.getWritablePath() + "tmpImg.png";
                          window.fsUtils.writeFile(o, a), r = o
                      } else {
                          var h = e.getCanvas()
                              , c = h.getContext("2d")
                              , u = h.toTempFilePathSync
                              , f = 4 * i
                              , g = 0;
                          for (h.width = i, h.height = n; g < n;) {
                              for (var d = n - 1 - g, l = c.createImageData(i, 1), v = d * i * 4, p = 0; p < f; p++) l.data[p] = a[v + p];
                              c.putImageData(l, 0, g++)
                          }
                          r = "function" == typeof u ? u.call(h, {}) : h.toDataURL("image/png"), c.clearRect(0, 0, i, n)
                      }
                      return r
                  }, e
              }());
              l._camera = void 0, l._canvas = void 0, l._tmpMat4 = r(), l._tmpVec3 = a(), l._tmpInfo = {}, t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/categoryModel.ts", ["cc"], (function (t) {
      "use strict";
      var e;
      return {
          setters: [function (t) {
              e = t.cclegacy
          }]
          , execute: function () {
              e._RF.push({}, "a663cgrDgBE848YfVQoCoFH", "categoryModel", void 0);
              t("categoryModel", (function (t, e) {
                  this.categoryId = 0, this.isUnLocked = !1, this.categoryId = t, this.isUnLocked = e
              }));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Channel.ts", ["cc", "./nUtils.ts"], (function (t) {
      "use strict";
      var n, i;
      return {
          setters: [function (t) {
              n = t.cclegacy
          }, function (t) {
              i = t.nUtils
          }]
          , execute: function () {
              n._RF.push({}, "53eb6n9zLJJKLVcIiMEG80P", "Channel", void 0);
              t("Channel", function () {
                  function t(t, n) {
                      void 0 === t && (t = []), void 0 === n && (n = new Array), this.portals = t, this.path = n
                  }
                  var n = t.prototype;
                  return n.push = function (t, n) {
                      void 0 === n && (n = null), null == n && (n = t), this.portals.push({
                          left: t
                          , right: n
                      })
                  }, n.stringPull = function () {
                      var t, n, e, r = this.portals
                          , l = []
                          , h = 0
                          , s = 0
                          , u = 0;
                      t = r[0].left, n = r[0].left, e = r[0].right, l.push(t);
                      for (var a = 1; a < r.length; a++) {
                          var o = r[a].left
                              , f = r[a].right;
                          if (i.triarea2(t, e, f) <= 0) {
                              if (!(i.vequal(t, e) || i.triarea2(t, n, f) > 0)) {
                                  l.push(n), n = t = n, e = t, s = h = s, u = h, a = h;
                                  continue
                              }
                              e = f, u = a
                          }
                          if (i.triarea2(t, n, o) >= 0) {
                              if (!(i.vequal(t, n) || i.triarea2(t, e, o) < 0)) {
                                  l.push(e), n = t = e, e = t, s = h = u, u = h, a = h;
                                  continue
                              }
                              n = o, s = a
                          }
                      }
                      0 !== l.length && i.vequal(l[l.length - 1], r[r.length - 1].left) || l.push(r[r.length - 1].left), this.path = l, this.path.shift()
                  }, t
              }());
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/CheckInCfg.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Sheets.ts", "./sheetManager.ts", "./dataUtil.ts"], (function (e) {
      "use strict";
      var t, n, c, i, s;
      return {
          setters: [function (e) {
              t = e.inheritsLoose
          }, function (e) {
              n = e.cclegacy
          }, function (e) {
              c = e.CheckInCfgBase
          }, function (e) {
              i = e.SheetManager
          }, function (e) {
              s = e.default
          }]
          , execute: function () {
              n._RF.push({}, "84fc4XZpfFMNrayEkcswR2o", "CheckInCfg", void 0);
              e("CheckInCfg", function (e) {
                  function n() {
                      return e.apply(this, arguments) || this
                  }
                  return t(n, e), n.get = function (e) {
                      return this[e] ? this[e] : i.get("CheckInCfg", e, n)
                  }, n.getAll = function () {
                      return i.getAllSheets("CheckInCfg", n)
                  }, n.checkinAllCompleted = function () {
                      var e = n.getAll();
                      return !!(e.length > 0 && s.isCheckin(e.length - 1))
                  }, n
              }(c));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/checkinForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./MSG.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./httpUtil.ts", "./uiManager.ts", "./uiForm.ts", "./platformUtil.ts", "./CheckInCfg.ts", "./GameStoreDetail.ts", "./CustomDefine.ts", "./checkinItem.ts"], (function (t) {
      "use strict";
      var n, e, i, o, r, a, c, s, u, l, f, h, d, m, p, C, b, y, g, D, k, v, w;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, e = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, c = t.Node, s = t.Vec3
          }, function (t) {
              u = t.CategoryConst
          }, function (t) {
              l = t.VIDEO_STATUS, f = t.VIDEO_MSG
          }, function (t) {
              h = t.default
          }, function (t) {
              d = t.entityUtil
          }, function (t) {
              m = t.default
          }, function (t) {
              p = t.httpUtil
          }, function (t) {
              C = t.uiManager
          }, function (t) {
              b = t.UiForm
          }, function (t) {
              y = t.platformUtil
          }, function (t) {
              g = t.CheckInCfg
          }, function (t) {
              D = t.GameStoreDetail
          }, function (t) {
              k = t.eventDefine, v = t.BundlesDefine
          }, function (t) {
              w = t.checkinItem
          }]
          , execute: function () {
              var E, I, T, V, F, U, N, S, A;
              r._RF.push({}, "a8b20wVUo5GwbTE/1mim+CH", "checkinForm", void 0);
              var _ = a.ccclass
                  , O = a.property;
              t("checkinForm", (E = _("checkinForm"), I = O({
                  type: [c]
              }), T = O(c), V = O(c), E((N = n((U = function (t) {
                      function n() {
                          for (var n, e = arguments.length, r = new Array(e), a = 0; a < e; a++) r[a] = arguments[a];
                          return n = t.call.apply(t, [this].concat(r)) || this, i(n, "rewardArray", N, o(n)), i(n, "btnConfirm", S, o(n)), i(n, "btnVideo", A, o(n)), n
                      }
                      e(n, t);
                      var r = n.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnConfirm, this.onConfirm), this.bindTouchEnd(this.btnVideo, this.onVideo)
                      }, r.onEnable = function () {
                          for (var t = this, n = g.getAll(), e = function (e) {
                                  d.showEntity("checkinItem", t.rewardArray[e], (function (t) {
                                      t.position = new s, t.getComponent(w)
                                          .init(n[e])
                                  }), v.form)
                              }, i = 0; i < n.length; i++) e(i)
                      }, r.onConfirm = function () {
                          this.onCheckin(1)
                      }, r.onVideo = function () {
                          var t = this;
                          p.reportVideoStart("外快"), y.currentPlatform.showVideo((function (n) {
                              switch (n) {
                              case l.END:
                                  p.reportVideoFinish("外快"), t.onCheckin(2);
                                  break;
                              case l.ERR:
                                  C.showToast(f.ERR);
                                  break;
                              case l.NOTEND:
                                  C.showToast(f.NOTEND)
                              }
                          }))
                      }, r.onCheckin = function (t) {
                          var n = this;
                          void 0 === t && (t = 1);
                          var e = h.getCheckinDayIndex()
                              , i = g.getAll();
                          if (h.isCheckinToday()) {
                              var o = i[e];
                              if (e < i.length && (h.setCheckin(e, o.num * t, 1, o.targetId), h.saveCheckin()), 1 == o.type) h.addCoin(o.num * t), C.showToast("恭喜获得" + o.num * t + "钱币");
                              else {
                                  var r = D.getStoreDetailByDetailId(o.targetId);
                                  r && h.addLocalDetailNum(u.FOODS, o.targetId, o.num * t), C.showToast("恭喜获得" + o.num * t + r.ProductName)
                              }
                              m.dispatchEvent(k.CHECK_IN_CHANGED, o.ID), this.scheduleOnce((function () {
                                  n.hideForm()
                              }), .5)
                          } else C.showToast("已经签到过了")
                      }, r.update = function (t) {}, n
                  }(b))
                  .prototype, "rewardArray", [I], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return []
                      }
                  }), S = n(U.prototype, "btnConfirm", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), A = n(U.prototype, "btnVideo", [V], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), F = U)) || F));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/checkinItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./eventUtil.ts", "./resourceUtil.ts", "./GameStoreDetail.ts", "./CustomDefine.ts"], (function (e) {
      "use strict";
      var t, i, n, r, o, c, a, u, s, h, l, f, p, g, m, y;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, r = e.assertThisInitialized
          }, function (e) {
              o = e.cclegacy, c = e._decorator, a = e.Node, u = e.Label, s = e.Sprite, h = e.Component
          }, function (e) {
              l = e.BundlesConst
          }, function (e) {
              f = e.default
          }, function (e) {
              p = e.default
          }, function (e) {
              g = e.resourceUtil
          }, function (e) {
              m = e.GameStoreDetail
          }, function (e) {
              y = e.eventDefine
          }]
          , execute: function () {
              var k, d, C, D, b, v, I, w, T, L, x, z;
              o._RF.push({}, "e391fSRDdlHtITDv29o27qO", "checkinItem", void 0);
              var E = c.ccclass
                  , G = c.property;
              e("checkinItem", (k = E("checkinItem"), d = G({
                  type: [a]
              }), C = G({
                  type: [u]
              }), D = G({
                  type: [s]
              }), b = G({
                  type: [a]
              }), k((w = t((I = function (e) {
                      function t() {
                          for (var t, i = arguments.length, o = new Array(i), c = 0; c < i; c++) o[c] = arguments[c];
                          return t = e.call.apply(e, [this].concat(o)) || this, n(t, "checkinType", w, r(t)), n(t, "checkinGroup", T, r(t)), n(t, "txtNumArray", L, r(t)), n(t, "imgLogo", x, r(t)), n(t, "imgTag", z, r(t)), t.currentCheckinData = void 0, t
                      }
                      i(t, e);
                      var o = t.prototype;
                      return o.start = function () {
                          p.on(y.CHECK_IN_CHANGED, this, this.onCheckinChanged)
                      }, o.onCheckinChanged = function (e) {
                          this.currentCheckinData.ID == e && this.showCheckin(this.currentCheckinData)
                      }, o.init = function (e) {
                          this.currentCheckinData = e, this.checkinType = e.type, this.showCheckin(e)
                      }, o.showCheckin = function (e) {
                          var t = this;
                          this.checkinGroup.forEach((function (e, t) {
                              e.active = !1
                          })), this.checkinGroup[this.checkinType - 1].active = !0, this.txtNumArray.forEach((function (t, i) {
                              t.string = "x " + e.num
                          }));
                          var i = f.isCheckin(e.ID - 1);
                          if (this.imgTag.forEach((function (e) {
                                  e.active = i
                              })), 1 == e.type) g.loadBundleRes(l.images, "texture/checkin/money/spriteFrame", (function (e, i) {
                              e || t.imgLogo.forEach((function (e) {
                                  e.spriteFrame = i
                              }))
                          }));
                          else {
                              var n = m.getStoreDetailByDetailId(e.targetId);
                              g.loadBundleRes(l.images, "texture/goods/" + n.ImgLogo + "/spriteFrame", (function (e, i) {
                                  e || t.imgLogo.forEach((function (e) {
                                      e.spriteFrame = i
                                  }))
                              }))
                          }
                      }, o.update = function (e) {}, t
                  }(h))
                  .prototype, "checkinType", [G], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return 0
                      }
                  }), T = t(I.prototype, "checkinGroup", [d], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), L = t(I.prototype, "txtNumArray", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), x = t(I.prototype, "imgLogo", [D], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), z = t(I.prototype, "imgTag", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), v = I)) || v));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/checkinModel.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Common.ts"], (function (t) {
      "use strict";
      var e, i, n;
      return {
          setters: [function (t) {
              e = t.createClass
          }, function (t) {
              i = t.cclegacy
          }, function (t) {
              n = t.default
          }]
          , execute: function () {
              i._RF.push({}, "bac62qWv9tLcLp2vd/MsK/P", "checkinModel", void 0);
              t("checkinModel", function () {
                  function t(t, e, i, n, s) {
                      this.index = 0, this.date = 0, this.targetId = 0, this.num = 0, this.state = 0, this.index = t, this.num = e, this.date = i, this.state = n, this.targetId = s
                  }
                  return e(t, [{
                      key: "dateStr"
                      , get: function () {
                          return n.formatTime(new Date(this.date))
                      }
                  }]), t
              }());
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/coinBar.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./MSG.ts", "./baseObject.ts", "./dataUtil.ts", "./eventUtil.ts", "./httpUtil.ts", "./uiManager.ts", "./platformUtil.ts", "./moneyUtil.ts", "./VideoExchange.ts"], (function (t) {
      "use strict";
      var n, i, e, o, r, a, c, s, u, l, f, h, g, p, d, C, b, E, x, v;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, i = t.inheritsLoose, e = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, c = t.Label, s = t.Node, u = t.tween
          }, function (t) {
              l = t.EventConst
          }, function (t) {
              f = t.VIDEO_STATUS, h = t.VIDEO_MSG
          }, function (t) {
              g = t.BaseObject
          }, function (t) {
              p = t.default
          }, function (t) {
              d = t.default
          }, function (t) {
              C = t.httpUtil
          }, function (t) {
              b = t.uiManager
          }, function (t) {
              E = t.platformUtil
          }, function (t) {
              x = t.moneyUtil
          }, function (t) {
              v = t.VideoExchange
          }]
          , execute: function () {
              var y, D, N, U, w, V, m;
              r._RF.push({}, "7b06fNYuW9ODanUWtEKFGVN", "coinBar", void 0);
              var O = a.ccclass
                  , T = a.property;
              t("coinBar", (y = O("coinBar"), D = T(c), N = T(s), y((V = n((w = function (t) {
                      function n() {
                          for (var n, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                          return n = t.call.apply(t, [this].concat(r)) || this, e(n, "txtCoin", V, o(n)), e(n, "btnExchange", m, o(n)), n.beforeCoin = 0, n
                      }
                      i(n, t);
                      var r = n.prototype;
                      return r.start = function () {
                          d.on(l.COIN_CHANGED, this, this.onCoinChanged), this.beforeCoin = p.getCoin(), this.onCoinChanged(), this.bindTouchEnd(this.btnExchange, this.onVideoExchangeClick)
                      }, r.onVideoExchangeClick = function () {
                          var t = this
                              , n = v.getExchangeDollar(p.getCurrentLevel() + 1);
                          C.reportVideoStart("视频兑换钱币"), E.currentPlatform.showVideo((function (i) {
                              switch (i) {
                              case f.END:
                                  C.reportVideoFinish("视频兑换钱币"), x.instance.flyNum(n, t.btnExchange.worldPosition), x.instance.flyCoin(t.btnExchange.worldPosition, (function () {}), 5), p.addCoin(n);
                                  break;
                              case f.ERR:
                                  b.showToast(h.ERR);
                                  break;
                              case f.NOTEND:
                                  b.showToast(h.NOTEND)
                              }
                          }))
                      }, r.onCoinChanged = function (t) {
                          var n = this;
                          if (null == t) this.txtCoin.string = "" + p.getCoin();
                          else {
                              var i = {
                                  coin: this.beforeCoin
                              };
                              t = p.getCoin();
                              var e = Math.abs(t - this.beforeCoin) / 500;
                              e <= 0 && (e = .1), e > 2 && (e = 2), u(i)
                                  .to(e, {
                                      coin: t
                                  }, {
                                      onUpdate: function (t, i) {
                                          n.txtCoin.string = "" + parseInt(t.coin)
                                      }
                                  })
                                  .start(), this.beforeCoin = t
                          }
                      }, r.update = function (t) {}, n
                  }(g))
                  .prototype, "txtCoin", [D], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), m = n(w.prototype, "btnExchange", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), U = w)) || U));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Common.ts", ["cc"], (function (t) {
      "use strict";
      var e;
      return {
          setters: [function (t) {
              e = t.cclegacy
          }]
          , execute: function () {
              e._RF.push({}, "1ddb5e8Tz9GlZ7dGQF3gXR1", "Common", void 0);
              t("default", function () {
                  function t() {}
                  return t.titleCase = function (t) {
                      var e, n = t.toLowerCase()
                          .split(/\s+/);
                      for (e = 0; e < n.length; e++) n[e] = n[e].slice(0, 1)
                          .toUpperCase() + n[e].slice(1);
                      return n.join(" ")
                  }, t.numFixed = function (t, e) {
                      return parseFloat(parseFloat("" + t)
                          .toFixed(e))
                  }, t.parseMoney = function (t) {
                      return isNaN(t) ? 0 : parseFloat(parseFloat("" + t)
                          .toFixed(2))
                  }, t.formatMoney = function (t) {
                      return isNaN(t) && (t = 0), t < 99999 ? parseInt("" + t) : t < 9999999 ? parseFloat("" + t / 1e3)
                          .toFixed(1) + "K" : parseFloat("" + t / 1e4)
                          .toFixed(1) + "W"
                  }, t.formatDiamond = function (t) {
                      return isNaN(t) && (t = 0), t < 9999 ? parseFloat("" + t)
                          .toFixed(0) : t < 9999999 ? parseFloat("" + t / 1e3)
                          .toFixed(0) + "K" : parseFloat("" + t / 1e6)
                          .toFixed(0) + "M"
                  }, t.objKeySort = function (t) {
                      for (var e = Object.keys(t)
                              .sort(), n = {}, r = 0; r < e.length; r++) n[e[r]] = t[e[r]];
                      return n
                  }, t.isObject = function (t) {
                      var e = typeof t;
                      return null !== t && ("object" === e || "function" === e)
                  }, t.object2Query = function (t) {
                      var e = [];
                      for (var n in t) e.push(n + "=" + t[n]);
                      return e.join("&")
                  }, t.format = function (t) {
                      if (void 0 === t || null == t || "" == t || "undefined" == t) return t;
                      for (var e = 0; e < (arguments.length <= 1 ? 0 : arguments.length - 1); e++) {
                          var n = new RegExp("\\{" + e + "\\}", "gm");
                          t = t.replace(n, e + 1 < 1 || arguments.length <= e + 1 ? void 0 : arguments[e + 1])
                      }
                      return t
                  }, t.isFunction = function (t) {
                      return "function" == typeof t
                  }, t.isEmpty = function (t) {
                      if ("object" == typeof t) {
                          var e;
                          for (e in t) return !1;
                          return !0
                      }
                      return null == t || "null" === t || "undefined" === t || "" === t
                  }, t.dateFtt = function (t, e) {
                      var n = {
                          "M+": e.getMonth() + 1
                          , "d+": e.getDate()
                          , "h+": e.getHours()
                          , "m+": e.getMinutes()
                          , "s+": e.getSeconds()
                          , "q+": Math.floor((e.getMonth() + 3) / 3)
                          , S: e.getMilliseconds()
                      };
                      for (var r in /(y+)/.test(t) && (t = t.replace(RegExp.$1, (e.getFullYear() + "")
                              .substr(4 - RegExp.$1.length))), n) new RegExp("(" + r + ")")
                          .test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? n[r] : ("00" + n[r])
                              .substr(("" + n[r])
                                  .length)));
                      return t
                  }, t.formatTime = function (t, e) {
                      void 0 === e && (e = "/");
                      var n = t.getFullYear()
                          , r = t.getMonth() + 1
                          , o = t.getDate();
                      t.getHours(), t.getMinutes(), t.getSeconds();
                      return [n, r, o].map(this.formatNumber)
                          .join(e)
                  }, t.millisecondToDate = function (t) {
                      return this.secondToDate(t / 1e3)
                  }, t.secondToDate = function (t) {
                      var e = "";
                      if (t && (t < 60 && (e = this.formatNumber(0) + ":" + this.formatNumber(t)), t > 60 && t < 3600)) {
                          var n = parseInt("" + t / 60)
                              , r = t - 60 * n;
                          e = this.formatNumber(n) + ":" + this.formatNumber(r)
                      }
                      return e
                  }, t.secondToHHmmss = function (t) {
                      return [parseInt("" + t / 60 / 60 % 24), parseInt("" + t / 60 % 60), parseInt("" + t % 60)]
                  }, t.formatNumber = function (t) {
                      return (t = t.toString())[1] ? t : "0" + t
                  }, t.colorRGB2Hex = function (t) {
                      var e = t.split(",");
                      return "#" + ((1 << 24) + (parseInt(e[0].split("(")[1]) << 16) + (parseInt(e[1]) << 8) + parseInt(e[2].split(")")[0]))
                          .toString(16)
                          .slice(1)
                  }, t.copy = function (t, e) {
                      for (var n in t) e[n] = t[n]
                  }, t.randomNumBoth = function (t, e) {
                      var n = e - t
                          , r = Math.random();
                      return t + Math.round(r * n)
                  }, t.randomBoth = function (t, e) {
                      return Math.random() * (e - t) + t
                  }, t.randomToRatio = function (t, e, n) {
                      return this.randomNumBoth(t, e) <= n
                  }, t.randName = function () {
                      for (var t = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"], e = "", n = 0; n < 8; n++) {
                          var r = t[this.randomNumBoth(0, t.length - 1)];
                          r && (e += r)
                      }
                      return e += this.randomNumBoth(100, 999), e
                  }, t.generateUUID = function () {
                      var t = (new Date)
                          .getTime()
                          , e = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function (e) {
                              var n = (t + 16 * Math.random()) % 16 | 0;
                              return t = Math.floor(t / 16), ("x" == e ? n : 3 & n | 8)
                                  .toString(16)
                          }));
                      return e = e.replace(/-/g, "")
                  }, t.isNumber = function (t) {
                      return "number" == typeof t || "[object Number]" == Object.prototype.toString.call(t)
                  }, t.isArray = function (t) {
                      return "[object Array]" == Object.prototype.toString.call(t)
                  }, t.isString = function (t) {
                      return "[object String]" === Object.prototype.toString.call(t)
                  }, t.deepCopy = function (t) {
                      var e = Array.isArray(t) ? [] : {};
                      if (t && "object" == typeof t)
                          for (var n in t) t.hasOwnProperty(n) && (t[n] && "object" == typeof t[n] ? e[n] = this.deepCopy(t[n]) : e[n] = t[n]);
                      return e
                  }, t.padLeft = function (t, e, n) {
                      return new Array(e - t.length + 1)
                          .join(n) + t
                  }, t.padRight = function (t, e, n) {
                      return t + new Array(e - t.length + 1)
                          .join(n)
                  }, t.isHttp = function (t) {
                      return !!t && 0 == t.indexOf("http")
                  }, t.diffDate = function (t, e) {
                      return parseInt("" + Math.abs(t - e) / 1e3 / 60 / 60 / 24)
                  }, t.addDate = function (t, e) {
                      return void 0 === t && (t = 1), void 0 === e && (e = null), e || (e = new Date), e.setDate(e.getDate() + t), e
                  }, t
              }());
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/ConfigData.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./sheetManager.ts", "./Sheets.ts"], (function (t) {
      "use strict";
      var n, e, i, a;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy
          }, function (t) {
              i = t.SheetManager
          }, function (t) {
              a = t.ConfigDataBase
          }]
          , execute: function () {
              e._RF.push({}, "e7eebz2tyhPQZvF52OVZEfj", "ConfigData", void 0);
              t("ConfigData", function (t) {
                  function e() {
                      return t.apply(this, arguments) || this
                  }
                  return n(e, t), e.init = function () {
                      var t = i.getList("ConfigData");
                      console.log("ConfigData", t);
                      var n = null;
                      for (var a in t) "keys" != a && (n = e.get(a)), n && (this[n.name] = n.value, n = null)
                  }, e.get = function (t) {
                      return this[t] ? this[t] : i.get("ConfigData", t, e)
                  }, e
              }(a));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Const.ts", ["cc"], (function (E) {
      "use strict";
      var A;
      return {
          setters: [function (E) {
              A = E.cclegacy
          }]
          , execute: function () {
              E("AppConst", void 0), A._RF.push({}, "62ebayQ5fxNC7DFV5XIyjpM", "Const", void 0);
              var o = E("PathConst", (function () {}));
              o.form_townform = "townform/", o.form_gameform = "gameform/", o.form_prefabs_character = "Prefabs/Character/", o.form_gameentity = "gameEntity/", o.town_showowner = "ShopOwner/";
              var _ = E("FormConst", (function () {}));
              _.toastForm = "toastForm", _.homeForm = "homeForm", _.privacyForm = "privacyForm", _.systemForm = "systemForm", _.gameForm = "gameForm", _.EndForm = "endForm", _.ShopForm = "ShopForm", _.SetForm = "SetForm", _.LoadingForm = "LoadingForm", _.TrialSkinForm = "TrialSkinForm", _.RespawnForm = "RespawnForm", _.MistouchForm = "MistouchForm", _.SprintForm = "SprintForm";
              var S = E("BundlesConst", (function () {}));
              S.form = "prefabsSub", S.images = "imagesSub", S.common = "commonSub", S.ts = "tsSub", S.particle = "particleSub", S.fbx = "fbxSub", S.tdPrefabs = "tdPrefabsSub", S.town = "townSub", S.ad = "ad", S.mistouch = "mistouch", S.appbox = "appbox", S.level = "level";
              var r = E("EventConst", (function () {}));
              r.GAME_STATE_START = "GAME_STATE_START", r.GAME_STATE_OVER = "GAME_STATE_OVER", r.GAME_STATE_RESPAWN = "GAME_STATE_RESPAWN", r.GAME_STATE_RESUME = "GAME_STATE_RESUME", r.GAME_STATE_PAUSE = "GAME_STATE_PAUSE", r.GAME_STATE_NEXT = "GAME_STATE_NEXT", r.GAME_STATE_RESET = "GAME_STATE_RESET", r.SHOW_TRANSITION = "SHOW_TRANSITION", r.HIDE_TRANSITION = "HIDE_TRANSITION", r.VIBRATESWITCH_CHANGED = "VIBRATESWITCH_CHANGED", r.SOUNDSWITCH_CHANGED = "SOUNDSWITCH_CHANGED", r.MUSICSWITCH_CHANGED = "MUSICSWITCH_CHANGED", r.ON_PLATFORM_SHOW = "ON_PLATFORM_SHOW", r.ON_PLATFORM_HIDE = "ON_PLATFORM_HIDE", r.COIN_CHANGED = "COIN_CHANGED", r.DOLLAR_CHANGED = "DOLLAR_CHANGED", r.LEVEL_CHANGED = "LEVEL_CHANGED", r.SALES_CHANGED = "SALES_CHANGED", r.TOUCH_DOWN = "TOUCH_DOWN", r.TOUCH_MOVE = "TOUCH_MOVE", r.TOUCH_UP = "TOUCH_UP", r.SHOW_LOADING = "SHOW_LOADING", r.NEXT_GUIDE_STEP = "NEXT_GUIDE_STEP";
              var T;
              E("EntityConst", (function () {}));
              ! function (E) {
                  E[E.WX = 0] = "WX", E[E.BYTEDANCE = 1] = "BYTEDANCE", E[E.OPPO = 2] = "OPPO", E[E.OPPO_ZS = 3] = "OPPO_ZS", E[E.BAIDU = 4] = "BAIDU", E[E.QQ = 5] = "QQ", E[E.PC = 6] = "PC", E[E.VIVO = 7] = "VIVO", E[E.UC = 8] = "UC", E[E.HW = 9] = "HW", E[E.KUAI = 10] = "KUAI", E[E.WEB = 11] = "WEB"
              }(T || (T = E("AppConst", {})));
              var t = E("CategoryConst", (function () {}));
              t.NONE = 0, t.AREA1 = 1, t.AREA2 = 2, t.AREA3 = 3, t.AREA4 = 4, t.AREA5 = 5, t.AREA6 = 6, t.AREA7 = 7, t.FOODS = 8, t.MAP = 9, t.CHECKIN = 10, A._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/CustomAdGroup.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./CustomSize.ts"], (function (e) {
      "use strict";
      var t, i, r, o, u, n;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, i = e.initializerDefineProperty
          }, function (e) {
              r = e.cclegacy, o = e._decorator, u = e.Enum
          }, function (e) {
              n = e.CustomSize
          }]
          , execute: function () {
              var s, c, a, p, l, m;
              r._RF.push({}, "ee3a5NiHFVA84mDaO+1/msH", "CustomAdGroup", void 0);
              var f = o.ccclass
                  , d = o.property;
              e("CustomAdGroup", (s = f("CustomAdGroup"), c = d({
                  type: u(n)
              }), s((l = t((p = function () {
                      i(this, "Size", l, this), i(this, "Id", m, this)
                  })
                  .prototype, "Size", [c], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return n.One_One
                      }
                  }), m = t(p.prototype, "Id", [d], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return ""
                  }
              }), a = p)) || a));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/CustomDefine.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts"], (function (e) {
      "use strict";
      var o, r, E, t, n, i, _, m;
      return {
          setters: [function (e) {
              o = e.inheritsLoose
          }, function (e) {
              r = e.cclegacy
          }, function (e) {
              E = e.BundlesConst, t = e.EntityConst, n = e.EventConst, i = e.PathConst, _ = e.CategoryConst, m = e.FormConst
          }]
          , execute: function () {
              e({
                  bubbleType: void 0
                  , guideStep: void 0
                  , missionType: void 0
              }), r._RF.push({}, "adbebFqXMNJQqaVZWnvVU3G", "CustomDefine", void 0);
              var a = e("BundlesDefine", function (e) {
                  function r() {
                      return e.apply(this, arguments) || this
                  }
                  return o(r, e), r
              }(E));
              a.fbx = "fbxSub", a.png = "pngSub", a.material = "materialSub", a.particle = "particleSub", a.town = "townSub";
              var A = e("entityDefine", function (e) {
                  function r() {
                      return e.apply(this, arguments) || this
                  }
                  return o(r, e), r
              }(t));
              A.mainPlayer = "mainPlayer", A.shopper = "human", A.storeItem = "storeItem", A.boxToolBubble = "boxToolBubble", A.putGoodsBubble = "putGoodsBubble", A.boxLevel = "boxLevel", A.putonshelvesItem = "putonshelvesItem", A.buildShopBubble = "buildShopBubble", A.mapItem = "mapItem", A.mapMore = "mapMore", A.mapSubItem = "mapSubItem", A.autoMapItem = "autoMapItem", A.autoItem = "autoItem", A.guideFinger = "finger", A.customer = "customer", A.buildings = "Buildings", A.customerManager = "customerManager", A.talkItem = "talkItem", A.bargainInfomation = "bargainInfomation", A.pictorialBook = "pictorialbook", A.paymentBar = "paymentBar", A.money3d = "money3d", A.money2d = "money2d", A.animCoinNum = "animCoinNum", A.msgBubble = "msgBubble", A.putBoxCard = "putBoxCard";
              var u = e("eventDefine", function (e) {
                  function r() {
                      return e.apply(this, arguments) || this
                  }
                  return o(r, e), r
              }(n));
              u.CHANGE_FOLLOW = "CHANGE_FOLLOW", u.PREVIEW_MAP = "PREVIEW_MAP", u.GAME_STATE_END = "GAME_STATE_END", u.START_SPRINT = "START_SPRINT", u.GAME_COIN_CHANGED = "GAME_COIN_CHANGED", u.PART_CHANGE = "PART_CHANGE", u.SHOW_START = "SHOW_START", u.BOX_LEVEL_UPGRADED = "BOX_LEVEL_UPGRADED", u.GAME_TOUCH_DOWN = "GAME_TOUCH_DOWN", u.SHOW_DIALOG = "SHOW_DIALOG", u.SOLD_OUT = "SOLD_OUT", u.REMOVED_FORM_THE_SHELVES = "REMOVED_FORM_THE_SHELVES", u.PUT_ON_SHELVES_CHANGED = "PUT_ON_SHELVES_CHANGED", u.UPGRADE_STALLS_CHANGED = "UPGRADE_STALLS_CHANGED", u.REMOVE_LEVEL_TIP = "REMOVE_LEVEL_TIP", u.LEVEL_CHANGED = "LEVEL_CHANGED", u.BUILD_COMPLETED = "BUILD_COMPLETED", u.SHOW_BUILD_GUIDE = "SHOW_BUILD_GUIDE", u.STALLS_UPDATED = "STALLS_UPDATED", u.UNLOCK_MAP_CHANGED = "UNLOCK_MAP_CHANGED", u.AUTO_MAP_CHANGED = "AUTO_MAP_CHANGED", u.AUTO_TASK_FOOD_CHANGED = "AUTO_TASK_FOOD_CHANGED", u.AUTO_SCROLL_MAP_CHANGED = "AUTO_SCROLL_MAP_CHANGED", u.SHOW_ALL_STALLS_TIP = "SHOW_ALL_STALLS_TIP", u.SHOW_IGNORE_STALLS_TIP = "SHOW_IGNORE_STALLS_TIP", u.UPDATE_MISSION = "UPDATE_MISSION", u.NEXT_MISSION = "NEXT_MISSION", u.SHOW_PAYMENT_BAR = "SHOW_PAYMENT_BAR", u.PAYMENT_COMPLETED = "PAYMENT_COMPLETED", u.RECEIVE_PAYMENT_COIN = "RECEIVE_PAYMENT_COIN", u.SHOW_BUBBLE = "SHOW_BUBBLE", u.VIDEO_LEAFLET = "VIDEO_LEAFLET", u.NAV_MESH_AGENT_MOVE_END = "NAV_MESH_AGENT_MOVE_END", u.SHOW_GAME_START_GUIDE = "SHOW_GAME_START_GUIDE", u.BARGAIN_CHANGED = "BARGAIN_CHANGED", u.BARGAIN_COMPLETED = "BARGAIN_COMPLETED", u.BARGAIN_CANCEL = "BARGAIN_CANCEL", u.PICTORIAL_BOOK_CHANGED = "PICTORIAL_BOOK_CHANGED", u.CHECK_IN_CHANGED = "CHECK_IN_CHANGED";
              e("pathDefine", function (e) {
                  function r() {
                      return e.apply(this, arguments) || this
                  }
                  return o(r, e), r
              }(i)), e("CategoryDefine", function (e) {
                  function r() {
                      return e.apply(this, arguments) || this
                  }
                  return o(r, e), r
              }(_));
              var s, T, C, L = e("formDefine", function (e) {
                  function r() {
                      return e.apply(this, arguments) || this
                  }
                  return o(r, e), r
              }(m));
              L.NewGuidForm = "NewGuidForm", L.storehouseForm = "storehouseForm", L.takeDownForm = "takeDownForm", L.putonshelvesForm = "putonshelvesForm", L.shopUpgradeForm = "shopUpgradeForm", L.buildForm = "buildForm", L.mapForm = "mapForm", L.storeEmptyForm = "storeEmptyForm", L.autoForm = "autoForm", L.autoMapForm = "autoMapForm", L.autoRewardForm = "autoRewardForm", L.backRewardForm = "backRewardForm", L.missionForm = "missionForm", L.levelUpForm = "levelUpForm", L.loadingForm = "loadingForm", L.dialogForm = "dialogForm", L.advertiseForm = "advertiseForm", L.shareForm = "shareForm", L.bargainForm = "bargainForm", L.autoPutForm = "autoPutForm", L.onlineRewardForm = "onlineRewardForm", L.checkinForm = "checkinForm", L.yjyForm = "yjyForm", L.digGinsengForm = "digGinsengForm", L.shakeTreeForm = "shakeTreeForm", L.gameFindForm = "gameFindForm", L.gamePhysicalForm = "gamePhysicalForm", L.gameExitForm = "gameExitForm", L.putBoxForm = "putBoxForm", L.takeTipsForm = "takeTipsForm", L.guidForm = "guidForm", L.eventForm = "eventForm", L.eventAnswerForm = "eventAnswerForm", L.gameTreasureForm = "gameTreasureForm"
                  , function (e) {
                      e[e.GO_MOUNTAIN = 1] = "GO_MOUNTAIN", e[e.SOLD = 2] = "SOLD", e[e.STALLS_LEVEL = 3] = "STALLS_LEVEL", e[e.GAME_LEVEL = 4] = "GAME_LEVEL", e[e.RECEIVE_FOODS = 5] = "RECEIVE_FOODS", e[e.RECEIVE_TARGET = 6] = "RECEIVE_TARGET", e[e.MAP_TARGET = 7] = "MAP_TARGET"
                  }(s || (s = e("missionType", {})))
                  , function (e) {
                      e[e.SLEEP = 1] = "SLEEP", e[e.STALL_EMPTY = 2] = "STALL_EMPTY", e[e.TARGET_GOODS = 3] = "TARGET_GOODS", e[e.LAMENT = 4] = "LAMENT", e[e.FRESH = 5] = "FRESH", e[e.PAY_EMPTY = 6] = "PAY_EMPTY", e[e.SHOP_FEMALE_OWNER = 7] = "SHOP_FEMALE_OWNER", e[e.SHOP_MALE_OWNER = 8] = "SHOP_MALE_OWNER", e[e.HALF = 13] = "HALF", e[e.DOUBLE = 14] = "DOUBLE", e[e.CANCEL = 15] = "CANCEL"
                  }(T || (T = e("bubbleType", {})))
                  , function (e) {
                      e[e.startGame = 0] = "startGame", e[e.selectMap = 1] = "selectMap", e[e.buildClick = 2] = "buildClick", e[e.buildConfirm = 3] = "buildConfirm", e[e.boxClick = 4] = "boxClick", e[e.putClick = 5] = "putClick", e[e.putConfirm = 6] = "putConfirm", e[e.upClick = 7] = "upClick", e[e.upConfirm = 8] = "upConfirm", e[e.upClose = 9] = "upClose", e[e.receiveCoin = 10] = "receiveCoin", e[e.getGoods = 11] = "getGoods", e[e.cutGrass = 12] = "cutGrass", e[e.moveStone = 13] = "moveStone", e[e.digGinseng = 14] = "digGinseng", e[e.findGinseng = 15] = "findGinseng", e[e.shakeTree = 16] = "shakeTree", e[e.getFruit = 17] = "getFruit", e[e.findTree = 18] = "findTree", e[e.moveScene = 19] = "moveScene", e[e.putBox = 20] = "putBox", e[e.bargainClick = 21] = "bargainClick", e[e.bargainInformationClick = 22] = "bargainInformationClick", e[e.missionClick = 23] = "missionClick", e[e.missionConfirm = 24] = "missionConfirm", e[e.onlineReward = 25] = "onlineReward", e[e.putCompleted = 26] = "putCompleted"
                  }(C || (C = e("guideStep", {})));
              e("autoTaskCount", 3);
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/customer.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./memoryConfig.ts", "./gameState.ts", "./Common.ts", "./TransformUtil.ts", "./NavMeshAgent.ts", "./NavMesh.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./bargainInfomation.ts", "./moneyUtil.ts", "./missionUtil.ts", "./BoxUpgrade.ts", "./BubbleCfg.ts", "./GameStoreDetail.ts", "./customerAnimator.ts", "./msgBubble.ts", "./paymentBar.ts", "./paymentCoin.ts"], (function (t) {
      "use strict";
      var n, e, o, i, a, s, r, u, l, d, h, c, m, b, f, g, v, p, y, B, N, w, C, I, O, D, E, A, P, U, _, M, R, x, L, T, S, k, G;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, e = t.inheritsLoose, o = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, s = t._decorator, r = t.JsonAsset, u = t.Vec3, l = t.SkeletalAnimationComponent, d = t.v3, h = t.Node
          }, function (t) {
              c = t.BundlesConst
          }, function (t) {
              m = t.BaseObject
          }, function (t) {
              b = t.default
          }, function (t) {
              f = t.entityUtil
          }, function (t) {
              g = t.default
          }, function (t) {
              v = t.memoryConfig
          }, function (t) {
              p = t.gameState
          }, function (t) {
              y = t.default
          }, function (t) {
              B = t.CoordinateTool
          }, function (t) {
              N = t.NavMeshAgent
          }, function (t) {
              w = t.NavMesh
          }, function (t) {
              C = t.pathDefine, I = t.eventDefine, O = t.bubbleType, D = t.entityDefine, E = t.BundlesDefine, A = t.missionType
          }, function (t) {
              P = t.fingerUtil
          }, function (t) {
              U = t.bargainInfomation
          }, function (t) {
              _ = t.moneyUtil
          }, function (t) {
              M = t.missionUtil
          }, function (t) {
              R = t.BoxUpgrade
          }, function (t) {
              x = t.BubbleCfg
          }, function (t) {
              L = t.GameStoreDetail
          }, function (t) {
              T = t.customerAnimator
          }, function (t) {
              S = t.msgBubble
          }, function (t) {
              k = t.paymentBar
          }, function (t) {
              G = t.paymentCoin
          }]
          , execute: function () {
              var F, z, H, K, j, V, J, W, q;
              a._RF.push({}, "58568ppvwRL6Zu9WNvHTOxp", "customer", void 0);
              var Z = s.ccclass
                  , Q = s.property;
              t("customer", (F = Z("customer"), z = Q(T), H = Q(r), K = Q({
                  type: N
              }), F((J = n((V = function (t) {
                      function n() {
                          for (var n, e = arguments.length, a = new Array(e), s = 0; s < e; s++) a[s] = arguments[s];
                          return n = t.call.apply(t, [this].concat(a)) || this, o(n, "animator", J, i(n)), o(n, "navUrl", W, i(n)), o(n, "agent", q, i(n)), n.zone = null, n.targetRotation = 180, n._currentAnim = "", n.speed = new u(0, 0, 0), n.outPos = void 0, n.onMoveOutFailCallback = void 0, n.onChangeDestination = void 0, n.bodyOwner = null, n.bubbleOffset = new u(0, 130, 0), n.bubbleNode = void 0, n.bargainOffset = new u(0, 0, 0), n.bargainNode = null, n.paymentOffset = new u(0, 150, 0), n.paymentNode = null, n.firstCoin = !1, n.isPaying = !1, n.isOut = !1, n.boxId = -1, n.pointerList = [], n.tempPos = new u, n.headOffset = new u(0, 2, 0), n
                      }
                      e(n, t);
                      var a = n.prototype;
                      return a.init = function (t, n, e, o) {
                          this.outPos = t, this.onMoveOutFailCallback = e, this.onChangeDestination = o, this.newBody(n)
                      }, a.newBody = function (t) {
                          var n = this
                              , e = Math.random() > .5
                              , o = e ? "female" : "male"
                              , i = y.padLeft("" + y.randomNumBoth(1, e ? 7 : 8), 2, "0")
                              , a = y.padLeft("" + i, 2, "0");
                          f.showEntity("" + C.form_prefabs_character + o + a, this.node, (function (o) {
                              n.bodyOwner = o, o.position = new u(0, e ? .161 : .001, 0), o.setRotationFromEuler(new u), n.animator.anm = o.getComponent(l), n.animator.playIdle(), t && t()
                          }), c.town)
                      }, a.triggerChangeDestination = function () {
                          return !!this.onChangeDestination && (this.onChangeDestination(), !0)
                      }, a.start = function () {}, a.onEnable = function () {
                          this.zone = this.navUrl.name, g.on(I.NAV_MESH_AGENT_MOVE_END, this, this.onNavMeshMoveEnd), g.on(I.BARGAIN_COMPLETED, this, this.onBargainCompleted), g.on(I.SOLD_OUT, this, this.onSoldOut), g.on(I.BARGAIN_CANCEL, this, this.onBargainCancel)
                      }, a.onDisable = function () {
                          this.removeDebugNode(), this.removePayment(), this.removeBubble(), this.onMoveOutFailCallback = null, this.onChangeDestination = null, console.log("customer onDisable"), g.offAll(this)
                      }, a.onSoldOut = function (t) {
                          this.boxId == t && v.instance.hasBargain(this.node.uuid) && (console.log("支付完成，但是已经卖出了，删除讲价ICON"), this.removeBargain(), this.moveOut(), this.randomBubble(O.LAMENT), g.dispatchEvent(I.BARGAIN_CHANGED, null))
                      }, a.onBargainCancel = function (t) {
                          t.customerId == this.node.uuid && (console.log("玩家取消讲价，删除讲价ICON"), this.removeBargain(), this.moveOut(), this.randomBubble(O.CANCEL), g.dispatchEvent(I.BARGAIN_CHANGED, null))
                      }, a.onBargainCompleted = function (t) {
                          t.customerId == this.node.uuid && (t.isHalf ? this.randomBubble(O.HALF) : this.randomBubble(O.DOUBLE), this.moveOut(), console.log("讲价完成，删除讲价ICON"), this.removeBargain())
                      }, a.onNavMeshMoveEnd = function (t) {
                          if (this.node.uuid == t.uuid)
                              if (this.isOut) this.bodyOwner && f.hideEntity(this.bodyOwner, !0), this.bodyOwner = null, f.hideEntity(this.node, !0);
                              else {
                                  var n = v.instance.getIntKey("payment_bargain_ratio", 10)
                                      , e = b.getRackById(this.boxId);
                                  if (e && e.num > 0 && y.randomToRatio(0, 100, n) && v.instance.bargainArray.length < v.instance.bargainMaxNum) {
                                      this.animator.playIdle(), this.execBargain();
                                      d();
                                      return v.instance.addBargain(this.node.worldPosition, this.node.uuid), void g.dispatchEvent(I.BARGAIN_CHANGED, null)
                                  }
                                  this.execPayment()
                              }
                      }, a.randomBubbleTask = function () {
                          var t = this;
                          this.scheduleOnce((function () {
                              null == t.bubbleNode && (t.randomBubble(O.SLEEP), t.scheduleOnce((function () {
                                  t.randomBubbleTask()
                              }), y.randomBoth(3, 5)))
                          }), y.randomBoth(10, 20))
                      }, a.randomBubble = function (t, n) {
                          void 0 === n && (n = "");
                          var e = v.instance.getFloatKey("bubble_ratio", 20);
                          if (y.randomToRatio(0, 100, e)) {
                              var o = x.getRandom(t);
                              this.showBubble(y.format(o, n))
                          }
                      }, a.showBubble = function (t) {
                          var n = this;
                          this.removeBubble(), this.isPaying || f.showEntity(D.msgBubble, p.instance.townUI, (function (e) {
                              n.bubbleNode = e, n.bubbleNode.position = new u(1e3, 0, 0), n.bubbleNode.active = !0, n.bubbleNode.getComponent(S)
                                  .init(t), n.scheduleOnce((function () {
                                      n.removeBubble()
                                  }), 5)
                          }), c.form)
                      }, a.removeBubble = function () {
                          this.bubbleNode && (f.hideEntity(this.bubbleNode), this.bubbleNode = null)
                      }, a.execBargain = function () {
                          var t = this;
                          if (p.instance.townUI) {
                              var n = b.getRackById(this.boxId);
                              n && (this.bargainNode = {}, f.showEntity(C.form_townform + D.bargainInfomation, p.instance.townUI, (function (e) {
                                  p.instance.townUI || console.log("显示讲价信息，townUI 已经销毁");
                                  var o = e.getComponent(U)
                                      , i = 1;
                                  n.num > 3 ? i = y.randomNumBoth(1, 3) : n.num > 2 && (i = y.randomNumBoth(1, 2)), o.init(t.node.uuid, t.boxId, n.detailId, i), t.bargainNode = e
                              }), E.form))
                          }
                      }, a.removeBargain = function () {
                          v.instance.removeBargain(this.node.uuid), this.bargainNode && (f.hideEntity(this.bargainNode), this.bargainNode = null, console.log("removeBargain 删除讲价ICON"))
                      }, a.execPayment = function () {
                          var t = this
                              , n = v.instance.getIntKey("customer_move_again_ratio", 50)
                              , e = y.randomToRatio(0, 100, n)
                              , o = b.getRackById(this.boxId);
                          return o ? 0 == o.num ? (this.showBubble(x.get(9999)
                              .memo), void(e && this.triggerChangeDestination() || this.moveOut())) : (this.animator.playIdle(), void this.showPayment((function () {
                              e ? (console.log("支付完不退出，换一个目的地"), t.triggerChangeDestination() || t.moveOut()) : t.moveOut()
                          }))) : (this.showBubble(x.get(9999)
                              .memo), void(e && this.triggerChangeDestination() || this.moveOut()))
                      }, a.showPayment = function (t) {
                          var n = this;
                          this.removeBubble(), this.isPaying || (this.isPaying = !0, f.showEntity(D.paymentBar, p.instance.townUI, (function (e) {
                              n.paymentNode = e;
                              new u;
                              var o = b.getRackById(n.boxId)
                                  , i = L.getStoreDetailByDetailId(o.detailId);
                              e.getComponent(k)
                                  .init((function () {
                                      n.isPaying = !1;
                                      var e = b.getRackById(n.boxId);
                                      if (0 == e.num) return n.showBubble(x.get(9999)
                                          .memo), void n.moveOut();
                                      e.num--, b.updateRack(e), e.num;
                                      var o = R.get(e.level)
                                          , a = Math.round(i.Amount * (1 + o.addition / 100));
                                      console.log("实际支付金额：" + a);
                                      var s = v.instance.getIntKey("zs_video1", 0)
                                          , r = v.instance.getIntKey("moneyIndex", 0);
                                      r++, s > 0 && r % s == 0 && n.showCoin(n.node.position, a, (function (t) {}), !0), v.instance.setKey("moneyIndex", r), n.showCoin(n.node.position, a, (function (t) {
                                          y.randomToRatio(0, 100, v.instance.getIntKey("customer_payment_bubble_ratio", 30)) && n.randomBubble(O.LAMENT), b.addSales(10), M.missionEnd(A.SOLD, i.DetailId)
                                      })), n.removePayment(), t && t()
                                  }))
                          }), c.form))
                      }, a.removePayment = function () {
                          this.paymentNode && (f.hideEntity(this.paymentNode), this.paymentNode = null)
                      }, a.showCoin = function (t, n, e, o) {
                          var i = this;
                          void 0 === o && (o = !1), f.showEntity(D.money3d, this.node.parent, (function (a) {
                              var s = t.clone();
                              s.y += 2, a.position = s, a.setRotationFromEuler(new u(0, y.randomBoth(0, 360), 0));
                              var r = new u(y.randomBoth(-3, 3), 0, y.randomBoth(-3, 3))
                                  , l = new u(0, 0, 0);
                              (l = u.add(l, t, r))
                              .y = .1, a.qtJumpPosition(l, 2, 1, .3, {
                                      onStart: function () {}
                                      , onComplete: function () {}
                                  })
                                  .call((function () {
                                      a.getComponent(G)
                                          .reset(n, o), !i.firstCoin && P.showCoinGuide(a) && (i.firstCoin = !0), _.instance.setDropMoney(), e && e(a)
                                  }))
                                  .start()
                          }), c.town)
                      }, a.setDestination = function (t, n, e) {
                          return this.isOut = e, this.boxId = n, e && y.randomToRatio(0, 100, 30) && this.randomBubble(O.SLEEP), this.moveAgent(this.agent, t)
                      }, a.moveOut = function () {
                          this.isOut = !0, this.moveAgent(this.agent, this.outPos) || this.onMoveOutFailCallback()
                      }, a.moveAgent = function (t, n) {
                          var e = this.findPath(this.zone, t.node.position.clone(), n.clone());
                          if (e && e.length > 0) {
                              t.startMove(e);
                              for (var o = 0, i = 0; i < e.length; i++) this.setDebugNode(e[i], o), o += 50;
                              return !0
                          }
                          return t.stopMove(), this.animator.playIdle(), !1
                      }, a.findPath = function (t, n, e) {
                          var o = w.getGroup(t, n);
                          return w.findPath(n, e, t, o)
                      }, a.setDebugNode = function (t, n) {}, a.removeDebugNode = function () {
                          for (var t = 0; t < this.pointerList.length; t++) f.hideEntity(this.pointerList[t]), t--
                      }, a.update = function (t) {
                          if (p.instance.townUI && p.instance.townCamera) {
                              var n = u.add(this.tempPos, this.node.worldPosition, this.headOffset)
                                  , e = B.transWorldPositionToUI(n, p.instance.townUI, p.instance.townCamera);
                              this.paymentNode instanceof h && (this.paymentNode.position = u.add(this.tempPos, e, this.paymentOffset), this.paymentNode.parent = p.instance.townUI), this.bubbleNode instanceof h && (this.bubbleNode.position = u.add(this.tempPos, e, this.bubbleOffset), this.bubbleNode.parent = p.instance.townUI), this.bargainNode instanceof h ? (this.bargainNode.position = u.add(this.tempPos, e, this.bargainOffset), this.bargainNode.parent = p.instance.townUI) : null == this.bargainNode && v.instance.hasBargain(this.node.uuid) && this.execBargain()
                          }
                      }, n
                  }(m))
                  .prototype, "animator", [z], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), W = n(V.prototype, "navUrl", [H], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), q = n(V.prototype, "agent", [K], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), j = V)) || j));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/customerAnimator.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./animalAnimator.ts"], (function (t) {
      "use strict";
      var n, i, e, r, a, o, c, s;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, i = t.inheritsLoose, e = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, o = t._decorator, c = t.SkeletalAnimationComponent
          }, function (t) {
              s = t.animalAnimator
          }]
          , execute: function () {
              var l, u, p, m, f;
              a._RF.push({}, "3aaacixDOxG55vIYZTCAlLe", "customerAnimator", void 0);
              var y = o.ccclass
                  , h = o.property;
              t("customerAnimator", (l = y("customerAnimator"), u = h({
                  type: c
              }), l((f = n((m = function (t) {
                      function n() {
                          for (var n, i = arguments.length, a = new Array(i), o = 0; o < i; o++) a[o] = arguments[o];
                          return n = t.call.apply(t, [this].concat(a)) || this, e(n, "anm", f, r(n)), n
                      }
                      i(n, t);
                      var a = n.prototype;
                      return a.start = function () {}, a.playLoopAnm = function (t) {
                          this.isPlaying(t) || (this.anm.play(t), this.anmName = t)
                      }, a.OnStop = function () {
                          this.playIdle()
                      }, a.update = function (t) {}, n
                  }(s))
                  .prototype, "anm", [u], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), p = m)) || p));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/customerManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./memoryConfig.ts", "./ArrayUtil.ts", "./Common.ts", "./NavMeshAgent.ts", "./Builder.ts", "./NavMesh.ts", "./customer.ts", "./CustomDefine.ts", "./boxControl.ts", "./putonshelvesForm.ts"], (function (t) {
      "use strict";
      var e, n, o, i, r, s, a, u, c, l, h, m, f, d, p, v, g, y, b, I, B, C, x, D, L, _, N;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, o = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, s = t._decorator, a = t.Node, u = t.JsonAsset, c = t.game, l = t.Vec3
          }, function (t) {
              h = t.CategoryConst, m = t.BundlesConst
          }, function (t) {
              f = t.BaseObject
          }, function (t) {
              d = t.default
          }, function (t) {
              p = t.entityUtil
          }, function (t) {
              v = t.default
          }, function (t) {
              g = t.memoryConfig
          }, function (t) {
              y = t.default
          }, function (t) {
              b = t.default
          }, function (t) {
              I = t.NavMeshAgent
          }, function (t) {
              B = t.Builder
          }, function (t) {
              C = t.NavMesh
          }, function (t) {
              x = t.customer
          }, function (t) {
              D = t.eventDefine, L = t.entityDefine
          }, function (t) {
              _ = t.boxControl
          }, function (t) {
              N = t.putonshelvesForm
          }]
          , execute: function () {
              var R, A, P, w, T, E, U, K, M, F, S, V;
              r._RF.push({}, "8a8e2ODUCdOdpH+DnicW6ju", "customerManager", void 0);
              var k = s.ccclass
                  , z = s.property;
              t("customerManager", (R = k("customerManager"), A = z({
                  type: [a]
              }), P = z(a), w = z(u), T = z(a), R(((V = function (t) {
                      function e() {
                          for (var e, n = arguments.length, r = new Array(n), s = 0; s < n; s++) r[s] = arguments[s];
                          return e = t.call.apply(t, [this].concat(r)) || this, o(e, "birth", K, i(e)), o(e, "exitPoint", M, i(e)), o(e, "navUrl", F, i(e)), o(e, "road", S, i(e)), e.birthList = [], e.boxNum = 0, e.customerInterval = 0, e.prevTime = 0, e.leafletShopperIndex = 0, e.shopperIndex = 0, e.prevPutTime = 0, e
                      }
                      n(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          var t = this;
                          if (!e.customerPersist) {
                              e.customerPersist = !0, c.addPersistRootNode(this.node), g.instance.setKey("againAuto", 3), v.on(D.VIDEO_LEAFLET, this, this.onVideoLeaflet), v.on(D.BUILD_COMPLETED, this, this.onRefreshTask);
                              var n = B.buildZoneByJson(this.navUrl.json);
                              C.setZoneData(this.navUrl.name, n), this.birth.forEach((function (e) {
                                  t.birthList.push(e.position)
                              })), this.schedule(this.showAnimal, .5, b.randomBoth(3, 5), .3)
                          }
                      }, e.getBoxNum = function () {
                          for (var t = [], e = 0; e < 7; e++) t.push(h["AREA" + (e + 1)]);
                          var n = d.getLocalShopDetailByCategoryId.apply(d, t)
                              , o = 0;
                          return n.forEach((function (t) {
                              d.isUnlockByDetailId(t.detailId) && (o += 1)
                          })), o
                      }, r.onRefreshTask = function () {
                          this.boxNum = e.getBoxNum()
                      }, r.resetInterval = function () {
                          var t = g.instance.getFloatKey("customer_create_min", 2)
                              , e = g.instance.getFloatKey("customer_create_max", 6)
                              , n = this.boxNum * g.instance.getFloatKey("customer_create_interval", .2);
                          this.customerInterval = b.randomBoth(t, e) - n, this.customerInterval < t && (this.customerInterval = t)
                      }, r.onVideoLeaflet = function () {
                          this.leafletShopperIndex = 0, this.schedule(this.newLeafletShopper, g.instance.getIntKey("customer_leaflet_interval", .5))
                      }, r.newLeafletShopper = function () {
                          this.leafletShopperIndex++, this.newCustomer(), this.leafletShopperIndex >= g.instance.getIntKey("customer_leaflet_num", 20) && this.unschedule(this.newLeafletShopper)
                      }, r.getRandomBox = function (t, e) {
                          void 0 === e && (e = !1);
                          var n = this.node.getComponentsInChildren(_);
                          if (t) {
                              var o = [];
                              if (n.forEach((function (t) {
                                      d.isUnlockCategoryById(h["AREA" + (t.unlockLevel + 1)]) && ((e || d.getRackById(t.boxId)
                                          .num > 0) && o.push(t))
                                  })), o.length > 0) {
                                  var i = b.randomNumBoth(0, 100) % o.length;
                                  return o[i]
                              }
                          }
                          return n[b.randomNumBoth(0, 100) % n.length]
                      }, r.appendVec3 = function (t, e) {
                          var n = new l;
                          return l.add(n, t, e)
                      }, r.appendRandomVec3 = function (t, e, n) {
                          var o = b.randomBoth(e, n)
                              , i = b.randomBoth(e, n)
                              , r = b.randomBoth(e, n);
                          return this.appendVec3(t, new l(o, i, r))
                      }, r.getRandomBirth = function (t) {
                          if (void 0 === t && (t = -1), t < 0) {
                              var e = b.randomNumBoth(0, 100) % this.birthList.length;
                              return this.birthList[e].clone()
                          }
                          if (t < this.birthList.length) {
                              var n = y.clone(this.birthList);
                              n.splice(t, 1);
                              var o = b.randomNumBoth(0, 100) % n.length;
                              return this.birthList[o].clone()
                          }
                      }, r.newCustomer = function () {
                          var t = this;
                          this.shopperIndex++, p.getAllEntity(L.customer)
                              .length >= g.instance.getIntKey("customer_max_num", 10) || p.showEntity(L.customer, this.node, (function (e) {
                                  var n = t.appendRandomVec3(t.getRandomBirth(), -1, 1);
                                  n.y = 0, e.position = n, t.setCustomerDestination(e)
                              }), m.form)
                      }, r.getClosestNode = function (t) {
                          var e = this.navUrl.name
                              , n = C.getGroup(e, t);
                          return C.getClosestNode(t, e, n)
                      }, r.setCustomerDestination = function (t) {
                          var e = this
                              , n = t.getComponent(x)
                              , o = this.getExitPos();
                          n.init(o, (function () {
                              e.setRandomDestination(n, o, !0)
                          }), (function () {
                              n.setDestination(o, null, !0)
                          }), (function () {
                              e.setRandomDestination(n, o, !1)
                          }))
                      }, r.getExitPos = function () {
                          var t = this.exitPoint.position.clone();
                          return (t = this.appendRandomVec3(t, -5, 5))
                              .y = 0, this.getClosestNode(t)
                      }, r.setRandomDestination = function (t, e, n) {
                          if (b.randomToRatio(0, 100, g.instance.getIntKey("customer_buy_ratio", 100))) {
                              var o = this.getRandomBox(n);
                              if (!o) return void t.setDestination(e, null, !0);
                              var i = o.node.position.clone();
                              i.x += b.randomBoth(-4, 4), i.z += b.randomBoth(-4, 4);
                              var r = this.getClosestNode(i);
                              t.setDestination(r, o.boxId, !1)
                          } else t.setDestination(e, null, !0)
                      }, r.showTest = function (t) {}, r.customerMovement = function (t) {
                          var e = p.getAllEntity(L.customer);
                          e && e.forEach((function (e) {
                              var n = e.getComponent(I);
                              n && n.customUpdate(t)
                          }))
                      }, r.showAnimal = function () {}, r.update = function (t) {
                          var e = g.instance.getFloatKey("autoPutTime", 0);
                          (e -= t) <= 0 && (e = 0, 0 == g.instance.getIntKey("againAuto", 3) && g.instance.setKey("againAuto", 1));
                          g.instance.setKey("autoPutTime", e), this.prevPutTime += t, e > 0 && this.prevPutTime >= 1 && (N.putAll((function () {}), !1), this.prevPutTime = 0), this.customerMovement(t), this.prevTime += t, this.prevTime > this.customerInterval && (this.prevTime = 0, this.newCustomer(), this.resetInterval())
                      }, e
                  }(f))
                  .customerPersist = !1, V.nearDistance = 22500, K = e((U = V)
                      .prototype, "birth", [A], {
                          configurable: !0
                          , enumerable: !0
                          , writable: !0
                          , initializer: function () {
                              return []
                          }
                      }), M = e(U.prototype, "exitPoint", [P], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), F = e(U.prototype, "navUrl", [w], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), S = e(U.prototype, "road", [T], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), E = U)) || E));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/CustomOptions.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./BannerOptions.ts", "./CustomSize.ts"], (function (e) {
      "use strict";
      var n, t, r, s, i, c;
      return {
          setters: [function (e) {
              n = e.inheritsLoose, t = e.createClass
          }, function (e) {
              r = e.cclegacy, s = e.Vec2
          }, function (e) {
              i = e.BannerOptions
          }, function (e) {
              c = e.CustomSize
          }]
          , execute: function () {
              r._RF.push({}, "6f9a5ClK29MTasjaRl1MP2e", "CustomOptions", void 0);
              e("CustomOptions", function (e) {
                  function r() {
                      for (var n, t = arguments.length, r = new Array(t), s = 0; s < t; s++) r[s] = arguments[s];
                      return (n = e.call.apply(e, [this].concat(r)) || this)
                          .currentSize = c.One_One, n.isHorizontal = !0, n.headH = 30, n
                  }
                  return n(r, e), r.New = function (e, n, t, i, c) {
                      var u = new r;
                      return u.Horizontal = e, u.Vertical = n, u.Offset = t || s.ZERO, u.Left = i, u.Top = c, u
                  }, t(r, [{
                      key: "Width"
                      , get: function () {
                          switch (this.currentSize) {
                          case c.One_One:
                          case c.Two_One:
                          case c.Three_One:
                          case c.Four_One:
                          case c.Five_One:
                              return 72;
                          case c.One_Two:
                              return 144;
                          case c.One_Three:
                              return 216;
                          case c.One_Four:
                              return 288;
                          case c.One_Five:
                              return 360;
                          case c.Two_Five:
                          case c.Three_Five:
                          case c.Four_Five:
                          case c.Five_Five:
                              return 360;
                          default:
                              return 0
                          }
                      }
                      , set: function (e) {
                          this._width = e
                      }
                  }, {
                      key: "Height"
                      , get: function () {
                          switch (this.currentSize) {
                          case c.One_One:
                          case c.One_Two:
                          case c.One_Three:
                          case c.One_Four:
                          case c.One_Five:
                              return 106;
                          case c.Two_One:
                              return this.headH + 152;
                          case c.Three_One:
                              return this.headH + 228;
                          case c.Four_One:
                              return this.headH + 304;
                          case c.Five_One:
                              return this.headH + 380;
                          case c.Two_Five:
                              return 188;
                          case c.Three_Five:
                              return 243;
                          case c.Four_Five:
                              return 298;
                          case c.Five_Five:
                              return 353;
                          default:
                              return 0
                          }
                      }
                      , set: function (e) {
                          this._height = e
                      }
                  }]), r
              }(i));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/CustomSize.ts", ["cc"], (function (e) {
      "use strict";
      var n;
      return {
          setters: [function (e) {
              n = e.cclegacy
          }]
          , execute: function () {
              var _;
              e("CustomSize", void 0), n._RF.push({}, "3798ad7ziNAQLLv9Je1Ngqz", "CustomSize", void 0)
                  , function (e) {
                      e[e.One_One = 0] = "One_One", e[e.One_Two = 1] = "One_Two", e[e.One_Three = 2] = "One_Three", e[e.One_Four = 3] = "One_Four", e[e.One_Five = 4] = "One_Five", e[e.Two_One = 5] = "Two_One", e[e.Three_One = 6] = "Three_One", e[e.Four_One = 7] = "Four_One", e[e.Five_One = 8] = "Five_One", e[e.Two_Five = 9] = "Two_Five", e[e.Three_Five = 10] = "Three_Five", e[e.Four_Five = 11] = "Four_Five", e[e.Five_Five = 12] = "Five_Five"
                  }(_ || (_ = e("CustomSize", {}))), n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/dataUtil.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./eventUtil.ts", "./settingUtil.ts", "./Common.ts", "./Const.ts", "./GameStoreDetail.ts", "./shopModel.ts", "./autoTaskModel.ts", "./missionModel.ts", "./CustomDefine.ts", "./stepModel.ts", "./freeTrialModel.ts", "./unlockModel.ts", "./stoneModel.ts", "./Debug.ts", "./LevelModel.ts", "./checkinModel.ts"], (function (t) {
      "use strict";
      var e, n, o, i, a, s, r, l, u, c, h, d, C, A, f, v, _, g, E;
      return {
          setters: [function (t) {
              e = t.createClass
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              o = t.default
          }, function (t) {
              i = t.settingUtil
          }, function (t) {
              a = t.default
          }, function (t) {
              s = t.EventConst, r = t.CategoryConst
          }, function (t) {
              l = t.GameStoreDetail
          }, function (t) {
              u = t.shopModel
          }, function (t) {
              c = t.autoTaskModel
          }, function (t) {
              h = t.missionModel
          }, function (t) {
              d = t.eventDefine
          }, function (t) {
              C = t.stepModel
          }, function (t) {
              A = t.freeTrialModel
          }, function (t) {
              f = t.unlockModel
          }, function (t) {
              v = t.stoneModel
          }, function (t) {
              _ = t.Debug
          }, function (t) {
              g = t.levelModel
          }, function (t) {
              E = t.checkinModel
          }]
          , execute: function () {
              n._RF.push({}, "4c28d1++h5Kl5X/hSxpyvQb", "dataUtil", void 0);
              var O = t("default", function () {
                  function t() {}
                  return t.setFrameworkTag = function (t) {
                      i.setValue(this.CCC3_FRAMEWORK_TAG, t, !0)
                  }, t.getFrameworkTag = function () {
                      return i.getString(this.CCC3_FRAMEWORK_TAG, "")
                  }, t.getCoin = function () {
                      return i.getInt(this.COIN, 0)
                  }, t.subCoin = function (t) {
                      i.appendInt(this.COIN, -t), o.sendEventImmediately(s.COIN_CHANGED, this.mCoin)
                  }, t.addCoin = function (t) {
                      i.appendInt(this.COIN, t), o.sendEventImmediately(s.COIN_CHANGED, this.mCoin)
                  }, t.setCoin = function (t) {
                      i.setValue(this.COIN, "" + t, !1), o.sendEventImmediately(s.COIN_CHANGED, this.mCoin)
                  }, t.saveCoin = function () {
                      var t = this.getCoin();
                      i.setValue(this.COIN, t, !0)
                  }, t.addDollar = function (t) {
                      var e = i.appendInt(this.CCC3_FRAMEWORK_DOLLAR, t, !0);
                      o.sendEventImmediately(s.DOLLAR_CHANGED, e)
                  }, t.getDollar = function () {
                      return i.getInt(this.CCC3_FRAMEWORK_DOLLAR, 0)
                  }, t.getToken = function () {
                      return a.isEmpty(this.mUserToken) && (this.mUserToken = i.getString(this.TOKEN, "")), this.mUserToken
                  }, t.setToken = function (t) {
                      i.setValue(this.TOKEN, t, !0)
                  }, t.getIsNew = function () {
                      return i.getBool(this.CURRENT_NEW_USER, !0)
                  }, t.setIsNew = function (t) {
                      i.setBool(this.CURRENT_NEW_USER, t, !0)
                  }, t.getStepObject = function () {
                      return i.getObject(this.GUIDE_STEP, new Array)
                  }, t.getCurrentStep = function () {
                      var t = this.getStepObject()
                          , e = 0;
                      t = t.sort((function (t, e) {
                          return e.step - t.step
                      }));
                      for (var n = 0; n < t.length; n++)
                          if (null != t && t[n].step >= e) {
                              e = t[n].state ? t[n].step + 1 : t[n].step;
                              break
                          } return e
                  }, t.testStep = function (t) {
                      for (var e = this.getStepObject(), n = 0; n < e.length; n++)
                          if (null != e && e[n].step == t && 1 == e[n].state) return !0;
                      return !1
                  }, t.testStepCount = function (t, e) {
                      for (var n = this.getStepObject(), o = 0; o < n.length; o++)
                          if (null != n && n[o].step == t && 1 == n[o].state && n[o].count <= e) return !0;
                      return !1
                  }, t.stepEnd = function (t) {
                      var e = this.getStepObject()
                          , n = e.find((function (e) {
                              return e.step == t
                          }));
                      n ? (n.state = 1, n.count += 1) : (n = new C(t, 1, 1), e.push(n), n = new C(t + 1, 0, 0), e.push(n)), i.setObject(this.GUIDE_STEP, e, !0), o.dispatchEvent(d.SHOW_DIALOG, {
                          hide: !0
                      })
                  }, t.getCurrentLevel = function () {
                      this.getLevelObject();
                      var t = 0;
                      this.localLevelArray = this.localLevelArray.sort((function (t, e) {
                          return e.level - t.level
                      }));
                      for (var e = 0; e < this.localLevelArray.length; e++)
                          if (null != this.localLevelArray[e] && this.localLevelArray[e].level >= t) {
                              t = this.localLevelArray[e].state ? this.localLevelArray[e].level + 1 : this.localLevelArray[e].level;
                              break
                          } return t
                  }, t.addCurrentLevel = function (t) {
                      void 0 === t && (t = 1);
                      var e = this.getCurrentLevel();
                      this.updateLevel(e, !0, 0, 1), e += t, this.updateLevel(e, !1, 0, 1), o.dispatchEvent(s.LEVEL_CHANGED, e)
                  }, t.setCurrentLevel = function (t, e) {
                      this.getLevelObject(), this.updateLevel(t, e, 0, 1), this.saveLevel()
                  }, t.createLevelItem = function (t, e, n, o) {
                      void 0 === n && (n = 0), void 0 === o && (o = 1);
                      var i = new g;
                      return i.level = t, i.state = e, i.time = n, i.star = o, i
                  }, t.updateLevel = function (t, e, n, o) {
                      void 0 === n && (n = 0), void 0 === o && (o = 1);
                      var i = this.getLevelItemByNo(t);
                      if (null == i) {
                          var a = this.createLevelItem(t, e, n, o);
                          this.localLevelArray.push(a), this.saveLevel()
                      } else e && (i.state = e, n <= i.time && (i.time = n), o > i.star && (i.star = o), this.saveLevel())
                  }, t.getLevelItemByNo = function (t) {
                      this.getLevelObject();
                      for (var e = 0; e < this.localLevelArray.length; e++) {
                          if (null != this.localLevelArray[e] && this.localLevelArray[e].level == t) return this.localLevelArray[e]
                      }
                      return null
                  }, t.getLevelObject = function () {
                      if (null == this.localLevelArray) {
                          var t = i.getString(this.GAME_LEVEL, "");
                          a.isEmpty(t) ? this.localLevelArray = new Array : this.localLevelArray = JSON.parse(t), _.log('"GetLevelObject :{}" ', t)
                      }
                      return this.localLevelArray
                  }, t.saveLevel = function () {
                      if (null != this.localLevelArray) {
                          for (var t = 0; t < this.localLevelArray.length; t++) null == this.localLevelArray[t] && (this.localLevelArray.splice(t, 1), t--);
                          i.setObject(this.GAME_LEVEL, this.localLevelArray, !0)
                      }
                  }, t.getLocalUnlockCategoryAll = function () {
                      if (null == this.localCategory) {
                          var t = i.getString(this.UNLOCK_CATEGORY, "");
                          a.isEmpty(t) ? this.localCategory = new Array : this.localCategory = JSON.parse(t)
                      }
                      return this.localCategory
                  }, t.addLocalUnlockCategory = function (t) {
                      if (this.getLocalUnlockCategoryAll(), null != this.localCategory) {
                          var e = this.getLocalUnlockCategoryIndexByCategoryId(t.categoryId); - 1 == e ? this.localCategory.push(t) : this.localCategory[e], this.saveUnlockCategory()
                      }
                  }, t.getLocalUnlockCategoryIndexByCategoryId = function (t) {
                      for (var e = 0; e < this.localCategory.length; e++)
                          if (this.localCategory[e].categoryId == t) return e;
                      return -1
                  }, t.isUnlockCategoryById = function (t) {
                      this.getLocalUnlockCategoryAll();
                      var e = this.getLocalUnlockCategoryIndexByCategoryId(t);
                      return -1 != e && this.localCategory[e].isUnLocked
                  }, t.saveUnlockCategory = function () {
                      null != this.localCategory && i.setObject(this.UNLOCK_CATEGORY, this.localCategory, !0)
                  }, t.getLocalAllShopDetail = function () {
                      return null == this.localStoreDetail && (this.localStoreDetail = i.getObject(this.STORE_DETAIL, new Array)), this.localStoreDetail
                  }, t.getLocalShopDetailById = function (t) {
                      this.getLocalAllShopDetail();
                      for (var e = 0; e < this.localStoreDetail.length; e++) {
                          if (null != this.localStoreDetail[e] && this.localStoreDetail[e].detailId == t) return this.localStoreDetail[e]
                      }
                      return null
                  }, t.getLocalShopDetailIndexById = function (t) {
                      this.getLocalAllShopDetail();
                      for (var e = 0; e < this.localStoreDetail.length; e++)
                          if (null != this.localStoreDetail[e] && this.localStoreDetail[e].detailId == t) return e;
                      return -1
                  }, t.getLocalShopDetailByCategoryId = function () {
                      for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
                      return this.getLocalAllShopDetail(), this.localStoreDetail.filter((function (t) {
                          return -1 != e.indexOf(t.categoryId)
                      }))
                  }, t.createDetail = function (t, e, n, o, i) {
                      void 0 === o && (o = !1), void 0 === i && (i = !0);
                      var a = new u;
                      return a.detailId = e, a.categoryId = t, a.num = n, a.active = o, a.isLocked = i, a
                  }, t.getLocalDetailNumById = function (t) {
                      var e = this.getLocalShopDetailById(t);
                      return null == e ? 0 : e.num
                  }, t.addLocalDetailNum = function (t, e, n, o, i, a) {
                      void 0 === o && (o = !0), void 0 === i && (i = 1), void 0 === a && (a = !0);
                      var s = this.getLocalShopDetailById(e);
                      if (null == s) return s = this.createDetail(t, e, i, o, i < n), this.localStoreDetail.push(s), void(a && this.saveLocalStore());
                      var r = this.getLocalDetailNumById(e);
                      s.num = r + i, s.num >= n && (s.isLocked = !1, s.active = o || o);
                      var l = this.getLocalShopDetailIndexById(e);
                      l >= 0 && (this.localStoreDetail[l] = s), a && this.saveLocalStore()
                  }, t.setLocalDetailNum = function (t, e) {
                      void 0 === e && (e = 0);
                      var n = this.getLocalShopDetailById(t);
                      if (null != n) {
                          n.num = e;
                          var o = this.getLocalShopDetailIndexById(t);
                          o >= 0 && (this.localStoreDetail[o] = n), this.saveLocalStore()
                      }
                  }, t.setLocalDetailUnActiveByCategoryId = function (t) {
                      for (var e = 0; e < this.localStoreDetail.length; e++) {
                          this.localStoreDetail[e].categoryId == t && (this.localStoreDetail[e].active = !1)
                      }
                  }, t.getUnlockSubNum = function (t) {
                      var e = this
                          , n = 0;
                      return t.forEach((function (t) {
                          e.isUnlockByDetailId(t.DetailId) && e.isActiveByDetailId(t.DetailId) && n++
                      })), n
                  }, t.clearLocalStore = function () {
                      this.localStoreDetail = null, i.setObject(this.STORE_DETAIL, {}, !0)
                  }, t.isUnlockByDetailId = function (t) {
                      var e = l.getStoreDetailByDetailId(t);
                      if (null == e) return !1;
                      var n = this.getLocalDetailNumById(t)
                          , o = e.Amount <= 0 || n >= e.ChipNum;
                      if (!o) {
                          var i = this.getLocalShopDetailById(t);
                          i && !i.isLocked && (o = !0)
                      }
                      return o
                  }, t.isActiveByDetailId = function (t) {
                      if (null == l.getStoreDetailByDetailId(t)) return !1;
                      var e = this.getLocalShopDetailById(t);
                      return e && e.active
                  }, t.saveLocalStore = function () {
                      null != this.localStoreDetail && i.setObject(this.STORE_DETAIL, this.localStoreDetail, !0)
                  }, t.getRacksAll = function () {
                      return null == this.localRack && (this.localRack = i.getObject(this.LOCAL_RACK_INFO, new Array)), this.localRack
                  }, t.getRacksMaxLevel = function () {
                      var t = this.getRacksAll()
                          , e = 0;
                      return t.forEach((function (t) {
                          e < t.level && (e = t.level)
                      })), e
                  }, t.getRackIndexById = function (t) {
                      for (var e = this.getRacksAll(), n = 0; n < e.length; n++) {
                          if (e[n].rackId == t) return n
                      }
                      return -1
                  }, t.getRackById = function (t) {
                      for (var e = this.getRacksAll(), n = 0; n < e.length; n++) {
                          var o = e[n];
                          if (o.rackId == t) return o
                      }
                      return null
                  }, t.updateRack = function (t) {
                      this.getRacksAll();
                      var e = this.getRackIndexById(t.rackId);
                      if (-1 == e) this.localRack.push(t);
                      else {
                          var n = this.localRack[e];
                          n.detailId = t.detailId, n.num = t.num, this.localRack[e] = t
                      }
                      o.dispatchEvent(d.STALLS_UPDATED, {
                          detailId: t.rackId
                      })
                  }, t.getRackLevel = function (t) {
                      var e = this.getRackIndexById(t);
                      return e > -1 ? this.localRack[e].level : 0
                  }, t.addRackLevel = function (t) {
                      var e = this.getRackIndexById(t)
                          , n = this.localRack[e];
                      n.level++, this.localRack[e] = n, o.dispatchEvent(d.STALLS_UPDATED, {
                          detailId: n.rackId
                      }), this.saveRack()
                  }, t.clearRackById = function (t) {
                      this.getRacksAll();
                      var e = this.getRackIndexById(t);
                      this.localRack.splice(e, 1)
                  }, t.saveRack = function () {
                      null != this.localRack && i.setObject(this.LOCAL_RACK_INFO, this.localRack, !0)
                  }, t.addSales = function (t) {
                      this.getSales(), this.mSales += t, o.dispatchEvent(s.SALES_CHANGED, this.mSales)
                  }, t.getSales = function () {
                      return -1 == this.mSales && (this.mSales = i.getInt(this.LOCAL_SCALES, 0)), this.mSales
                  }, t.clearSales = function () {
                      this.mSales = 0
                  }, t.saveSales = function () {
                      i.setValue(this.LOCAL_SCALES, this.mSales, !0)
                  }, t.addAutoTask = function (t, e) {
                      this.getAutoTask(), this.mAutoTask[t] = new c(t, e), this.saveAutoTask()
                  }, t.getAutoTask = function () {
                      return null == this.mAutoTask && (this.mAutoTask = i.getObject(this.LOCAL_AUTO_TASK, new Array)), this.mAutoTask
                  }, t.getAutoTaskById = function (t) {
                      return this.getAutoTask(), this.mAutoTask.hasOwnProperty(t) ? this.mAutoTask[t] : null
                  }, t.getAutoMap = function () {
                      for (var e = l.getStoreByCategoryIdAndParentId(r.MAP, -1)
                              .sort((function (t, e) {
                                  return t.DetailId - e.DetailId
                              })), n = new Array, o = 0; o < e.length; o++) {
                          var i = e[o];
                          if (t.isUnlockByDetailId(i.DetailId)) {
                              var a = l.getStoreByCategoryIdAndParentId(r.MAP, i.DetailId)
                                  .filter((function (t) {
                                      return 0 == t.VideoNum
                                  }))
                                  , s = t.getUnlockSubNum(a);
                              a.length == s && n.push(i)
                          }
                      }
                      return n
                  }, t.getAutoTaskByMapId = function (t) {
                      for (var e in this.getAutoTask(), this.mAutoTask)
                          if (this.mAutoTask[e] && this.mAutoTask[e].mapId == t) return this.mAutoTask[e];
                      return null
                  }, t.getAutoMapByMapId = function (t) {
                      for (var e = l.getStoreByCategoryIdAndParentId(r.MAP, -1), n = 0; n < e.length; n++) {
                          var o = e[n];
                          if (o.DetailId == t) return o
                      }
                      return null
                  }, t.clearTask = function (t) {
                      null != this.mAutoTask && this.mAutoTask.hasOwnProperty(t) && (delete this.mAutoTask[t], this.saveAutoTask())
                  }, t.saveAutoTask = function () {
                      null != this.mAutoTask && i.setObject(this.LOCAL_AUTO_TASK, this.mAutoTask, !0)
                  }, t.getAutoTaskGoods = function () {
                      null == this.mAutoTaskGoods && (this.mAutoTaskGoods = i.getObject(this.LOCAL_AUTO_TASK_GOODS, {}))
                  }, t.getAutoTaskGoodsById = function (t) {
                      return this.getAutoTaskGoods(), this.mAutoTaskGoods.hasOwnProperty(t) ? this.mAutoTaskGoods[t] : null
                  }, t.addAutoTaskGoods = function (t, e, n, o) {
                      void 0 === o && (o = !0), this.getAutoTaskGoods();
                      var i = Date.now();
                      if (this.mAutoTaskGoods.hasOwnProperty(t)) {
                          for (var a = this.mAutoTaskGoods[t].goods, s = !1, r = 0; r < a.length; r++)
                              if (a[r].detailId == e) {
                                  a[r].num += n, s = !0;
                                  break
                              } s || a.push({
                              detailId: e
                              , num: n
                              , receiveNum: 0
                          }), this.mAutoTaskGoods[t].goods = a, this.mAutoTaskGoods[t].lastTime = i
                      } else this.mAutoTaskGoods[t] = {
                          goods: [{
                              detailId: e
                              , num: n
                              , receiveNum: 0
                          }]
                          , lastTime: i
                      };
                      o && this.saveAutoTaskGoods()
                  }, t.getAutoTaskGoodsNumById = function (t) {
                      this.getAutoTaskGoods();
                      var e = 0;
                      if (this.mAutoTaskGoods.hasOwnProperty(t))
                          for (var n = this.mAutoTaskGoods[t].goods, o = 0; o < n.length; o++) e += n[o].num;
                      return e
                  }, t.getAutoTaskAllNumById = function (t) {
                      this.getAutoTaskGoods();
                      var e = 0;
                      if (this.mAutoTaskGoods.hasOwnProperty(t))
                          for (var n = this.mAutoTaskGoods[t].goods, o = 0; o < n.length; o++) e += n[o].num + n[o].receiveNum;
                      return e
                  }, t.receiveAutoTaskGoods = function (t) {
                      if (this.getAutoTaskGoods(), this.mAutoTaskGoods.hasOwnProperty(t)) {
                          for (var e = this.mAutoTaskGoods[t].goods, n = 0; n < e.length; n++) e[n].receiveNum += e[n].num, e[n].num = 0;
                          this.saveAutoTaskGoods()
                      }
                  }, t.clearAutoTaskGoods = function (t) {
                      this.mAutoTaskGoods.hasOwnProperty(t) && (delete this.mAutoTaskGoods[t], this.saveAutoTaskGoods())
                  }, t.saveAutoTaskGoods = function () {
                      null != this.mAutoTaskGoods && i.setObject(this.LOCAL_AUTO_TASK_GOODS, this.mAutoTaskGoods, !0)
                  }, t.getCurrentMission = function () {
                      return i.getObject(this.CURRENT_MISSION, new h(1))
                  }, t.setCurrentMission = function (t, e, n) {
                      void 0 === e && (e = !0), i.setObject(this.CURRENT_MISSION, t, e)
                  }, t.saveCurrentMission = function () {
                      var t = this.getCurrentMission();
                      i.setObject(this.CURRENT_MISSION, t, !0)
                  }, t.getCurrentMap = function () {
                      for (var e = l.getStoreByCategoryIdAndParentId(r.MAP, -1)
                              .sort((function (t, e) {
                                  return t.DetailId - e.DetailId
                              })), n = e[0], o = 0; o < e.length; o++) {
                          var i = e[o];
                          if (!t.isUnlockByDetailId(i.DetailId)) break;
                          n = i
                      }
                      for (var a = l.getStoreByCategoryIdAndParentId(r.MAP, n.DetailId), s = a[0], u = 0; u < a.length; u++) {
                          var c = a[u];
                          if (!t.isUnlockByDetailId(c.DetailId)) {
                              s = c;
                              break
                          }
                          s = c
                      }
                      return s
                  }, t.getFreeTrial = function (t) {
                      var e = i.getObject(this.CCC3_FRAMEWORK_FREE_TRIAL, new Array);
                      if (e.length > 0) {
                          var n = e.find((function (e) {
                              return e.key == t
                          }));
                          return n || null
                      }
                      return null
                  }, t.isFreeTrial = function (t, e) {
                      void 0 === e && (e = 1);
                      var n = i.getObject(this.CCC3_FRAMEWORK_FREE_TRIAL, new Array);
                      if (n.length > 0) {
                          var o = n.find((function (e) {
                              return e.key == t
                          }));
                          if (o) {
                              var s = new Date(o.date);
                              if (a.formatTime(s) == a.formatTime(new Date)) return o.num < e
                          }
                      }
                      return !0
                  }, t.addFreeTrial = function (t, e, n) {
                      void 0 === n && (n = 1);
                      var o = i.getObject(this.CCC3_FRAMEWORK_FREE_TRIAL, new Array)
                          , s = o.find((function (e) {
                              return e.key == t
                          }));
                      if (s) {
                          var r = new Date(s.date)
                              , l = a.formatTime(r)
                              , u = a.formatTime(new Date);
                          s.detailId = e, l == u ? s.num += n : (s.num = n, s.date = Date.now())
                      } else {
                          var c = new A;
                          c.key = t, c.num = n, c.detailId = e, c.date = Date.now(), o.push(c)
                      }
                      i.setObject(this.CCC3_FRAMEWORK_FREE_TRIAL, o, !0)
                  }, t.getUnlockModel = function (t, e) {
                      var n = i.getObject(this.CCC3_FRAMEWORK_UNLOCK, new Array)
                          .find((function (n) {
                              return n.detailId == t && n.category == e
                          }));
                      return n || null
                  }, t.isUnlockById = function (t, e, n, o) {
                      void 0 === n && (n = 1), void 0 === o && (o = 1);
                      var i = !1
                          , a = this.getUnlockModel(t, e);
                      return a && (i = a.num >= n || 0 == a.locked || a.videoNum >= o), i
                  }, t.isVideoUnlockByDetailId = function (t, e, n) {
                      void 0 === n && (n = 1);
                      var o = !1
                          , i = this.getUnlockModel(t, e);
                      return i && (o = 0 == i.locked || i.videoNum >= n), o
                  }, t.addUnlock = function (t, e, n, o) {
                      void 0 === n && (n = 1), void 0 === o && (o = 1);
                      var a = i.getObject(this.CCC3_FRAMEWORK_UNLOCK, new Array)
                          , s = a.find((function (n) {
                              return n.detailId == t && n.category == e
                          }));
                      if (s) s.num += n, s.locked && (s.locked = !(s.num >= o));
                      else {
                          var r = new f;
                          r.detailId = t, r.category = e, r.num = n, r.locked = !(n >= o), a.push(r)
                      }
                      i.setObject(this.CCC3_FRAMEWORK_UNLOCK, a, !0)
                  }, t.addVideoUnlock = function (t, e, n, o) {
                      void 0 === n && (n = 1), void 0 === o && (o = 1);
                      var a = i.getObject(this.CCC3_FRAMEWORK_UNLOCK, new Array)
                          , s = a.find((function (n) {
                              return n.detailId == t && n.category == e
                          }));
                      if (s) s.videoNum += n, s.locked && (s.locked = s.videoNum >= o);
                      else {
                          var r = new f;
                          r.detailId = t, r.category = e, r.videoNum = n, r.locked = s.videoNum >= o, a.push(r)
                      }
                      i.setObject(this.CCC3_FRAMEWORK_UNLOCK, a, !0)
                  }, t.getUnlockNumByDetailId = function (t, e) {
                      var n = this.getUnlockModel(t, e);
                      return null == n ? 0 : n.num
                  }, t.setCheckin = function (t, e, n, o) {
                      var a = i.getObject(this.CCC3_FRAMEWORK_CHECK_IN, new Array)
                          , s = a.find((function (e) {
                              return e.index == t
                          }))
                          , r = Date.now();
                      s ? (s.num = e, s.targetId = o, s.state = n) : (s = new E(t, e, r, n, o), a.push(s)), i.setObject(this.CCC3_FRAMEWORK_CHECK_IN, a, !1)
                  }, t.saveCheckin = function () {
                      var t = i.getObject(this.CCC3_FRAMEWORK_CHECK_IN, new Array);
                      i.setObject(this.CCC3_FRAMEWORK_CHECK_IN, t, !0)
                  }, t.isCheckin = function (t) {
                      return !!i.getObject(this.CCC3_FRAMEWORK_CHECK_IN, new Array)
                          .find((function (e) {
                              return e.index == t && 1 == e.state
                          }))
                  }, t.hasCheckinData = function (t) {
                      return !!i.getObject(this.CCC3_FRAMEWORK_CHECK_IN, new Array)
                          .find((function (e) {
                              return e.index == t
                          }))
                  }, t.getCheckinDayIndex = function () {
                      var t = i.getObject(this.CCC3_FRAMEWORK_CHECK_IN, new Array)
                          .find((function (t) {
                              return 0 == t.index
                          }));
                      return t ? t.index + a.diffDate(Date.now(), t.date) : 0
                  }, t.isCheckinToday = function () {
                      var t = i.getObject(this.CCC3_FRAMEWORK_CHECK_IN, new Array)
                          , e = t.find((function (t) {
                              return 0 == t.index
                          }));
                      if (e) {
                          var n = a.formatTime(new Date(e.date));
                          console.log("isCheckinToday", n);
                          var o = a.diffDate(Date.now(), e.date);
                          if (0 == o) return 1 != e.state;
                          var s = t.find((function (t) {
                              return t.index == o
                          }));
                          return !!s && 1 != s.state
                      }
                  }, t.getDropMoney = function () {
                      return i.getObject(this.CCC3_DROP_MONEY, new Array)
                  }, t.setDropMoney = function (t) {
                      i.setObject(this.CCC3_DROP_MONEY, t, !0)
                  }, t.saveDropMoney = function () {
                      var t = this.getDropMoney();
                      i.setObject(this.CCC3_DROP_MONEY, t, !0)
                  }, t.getOutlineTime = function () {
                      return i.getInt(this.CCC3_FRAMEWORK_OUTLINE_TIME, Date.now())
                  }, t.setOutlineTime = function (t) {
                      i.setValue(this.CCC3_FRAMEWORK_OUTLINE_TIME, t, !0)
                  }, t.getTreasureProp = function () {
                      return i.getFloat(this.TREASURE_PROP, 0)
                  }, t.addTreasureProp = function (t) {
                      void 0 === t && (t = .1);
                      var e = this.getTreasureProp();
                      e += t, i.setValue(this.TREASURE_PROP, e, !0)
                  }, t.resetTreasureProp = function () {
                      i.setValue(this.TREASURE_PROP, 0, !0)
                  }, t.getEnterCavernTime = function () {
                      return i.getFloat(this.ENTER_CAVERN_TIME, 0)
                  }, t.addEnterCavernTime = function (t) {
                      void 0 === t && (t = .1);
                      var e = this.getEnterCavernTime();
                      e += t, i.setValue(this.ENTER_CAVERN_TIME, e, !0)
                  }, t.setEnterCavernTime = function (t) {
                      i.setValue(this.ENTER_CAVERN_TIME, t, !0)
                  }, t.getStoneState = function () {
                      return i.getObject(this.STONE_STATE, new v)
                  }, t.setStoneState = function (t) {
                      i.setObject(this.STONE_STATE, t, !0)
                  }, t.getHummerNum = function () {
                      return i.getInt(this.HAMMER_NUM, 0)
                  }, t.setHummerNum = function (t) {
                      i.setValue(this.HAMMER_NUM, t, !0)
                  }, t.getPusaMoney = function () {
                      return i.getObject(this.CCC3_PUSA_MONEY, new Array)
                  }, t.setPusaMoney = function (t) {
                      i.setObject(this.CCC3_PUSA_MONEY, t, !0)
                  }, t.savePusaMoney = function () {
                      var t = this.getDropMoney();
                      i.setObject(this.CCC3_PUSA_MONEY, t, !0)
                  }, t.getPusaMoneyTime = function () {
                      return i.getInt(this.CCC3_PUSA_MONEY_TIME, Date.now())
                  }, t.setPusaMoneyTime = function (t) {
                      i.setValue(this.CCC3_PUSA_MONEY_TIME, t, !0)
                  }, e(t, null, [{
                      key: "isVibrate"
                      , get: function () {
                          return i.getBool(this.VIBRATE_SWITCH, !0)
                      }
                      , set: function (t) {
                          i.setBool(this.VIBRATE_SWITCH, t, !0), o.sendEventImmediately(s.VIBRATESWITCH_CHANGED, t)
                      }
                  }]), t
              }());
              O.TOKEN = "CCC3_FRAMEWORK_TOKEN", O.COIN = "CCC3_FRAMEWORK_COIN", O.CCC3_FRAMEWORK_DOLLAR = "CCC3_FRAMEWORK_DOLLAR", O.GUIDE_STEP = "CCC3_FRAMEWORK_GUIDE_STEP", O.CURRENT_NEW_USER = "CCC3_FRAMEWORK_NEW_USER", O.CURRENT_MISSION = "CURRENT_MISSION", O.CCC3_DROP_MONEY = "CCC3_DROP_MONEY", O.CCC3_FRAMEWORK_CHECK_IN = "CCC3_FRAMEWORK_CHECK_IN", O.LOCAL_RACK_INFO = "LOCAL_RACK_INFO", O.LOCAL_SCALES = "LOCAL_SCALES", O.LOCAL_AUTO_TASK = "LOCAL_AUTO_TASK", O.LOCAL_AUTO_TASK_GOODS = "LOCAL_AUTO_TASK_GOODS", O.mUserToken = "", O.VIBRATE_SWITCH = "CCC3_FRAMEWORK_VIBRATE_SWITCH", O.GAME_LEVEL = "GAME_LEVEL", O.CURRENT_LEVEL = "CURRENT_LEVEL", O.STORE_DETAIL = "STORE_DETAIL", O.UNLOCK_CATEGORY = "UNLOCK_CATEGORY", O.CCC3_FRAMEWORK_TAG = "CCC3_FRAMEWORK_TAG", O.mCoin = 0, O.localLevelArray = null, O.localCategory = null, O.localStoreDetail = null, O.localRack = void 0, O.mSales = -1, O.mAutoTask = null, O.mAutoTaskGoods = null, O.CCC3_FRAMEWORK_FREE_TRIAL = "CCC3_FRAMEWORK_FREE_TRIAL", O.CCC3_FRAMEWORK_UNLOCK = "CCC3_FRAMEWORK_UNLOCK", O.CCC3_FRAMEWORK_OUTLINE_TIME = "CCC3_FRAMEWORK_OUTLINE_TIME", O.TREASURE_PROP = "TREASURE_PROP", O.ENTER_CAVERN_TIME = "ENTER_CAVERN_TIME", O.STONE_STATE = "STONE_STATE", O.HAMMER_NUM = "HAMMER_NUM", O.CCC3_PUSA_MONEY = "CCC3_PUSA_MONEY", O.CCC3_PUSA_MONEY_TIME = "CCC3_PUSA_MONEY_TIME", n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Debug.ts", ["cc", "./Const.ts", "./platformConf.ts"], (function (n) {
      "use strict";
      var r, o, t;
      return {
          setters: [function (n) {
              r = n.cclegacy
          }, function (n) {
              o = n.AppConst
          }, function (n) {
              t = n.platformConf
          }]
          , execute: function () {
              r._RF.push({}, "3a56eKv4t9GErmamJ8WUf0v", "Debug", void 0), n("Debug", function () {
                      function n() {}
                      return n.log = function (r) {
                          if (t.currentApp == o.WEB || n.isAlwaysLog) {
                              for (var c, e = arguments.length, a = new Array(e > 1 ? e - 1 : 0), s = 1; s < e; s++) a[s - 1] = arguments[s];
                              (c = console)
                              .log.apply(c, [r].concat(a))
                          }
                      }, n.warn = function (r) {
                          if (t.currentApp == o.WEB || n.isAlwaysLog) {
                              for (var c, e = arguments.length, a = new Array(e > 1 ? e - 1 : 0), s = 1; s < e; s++) a[s - 1] = arguments[s];
                              (c = console)
                              .warn.apply(c, [r].concat(a))
                          }
                      }, n.error = function (r) {
                          if (t.currentApp == o.WEB || n.isAlwaysLog) {
                              for (var c, e = arguments.length, a = new Array(e > 1 ? e - 1 : 0), s = 1; s < e; s++) a[s - 1] = arguments[s];
                              (c = console)
                              .error.apply(c, [r].concat(a))
                          }
                      }, n
                  }())
                  .isAlwaysLog = !1, r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/dialogForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./eventUtil.ts", "./uiForm.ts", "./CustomDefine.ts"], (function (t) {
      "use strict";
      var i, e, n, o, r, s, a, c, l, u, p, f, d, h;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, e = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, s = t._decorator, a = t.Label, c = t.UITransform, l = t.View, u = t.Vec3
          }, function (t) {
              p = t.default
          }, function (t) {
              f = t.UiForm
          }, function (t) {
              d = t.guideStep, h = t.eventDefine
          }]
          , execute: function () {
              var g, m, b, v, y, C;
              r._RF.push({}, "5bfe6nlcbZA6o+o0e11K8ZU", "dialogForm", void 0);
              var F = s.ccclass
                  , k = s.property
                  , w = ((g = {})[d.buildClick] = "来建造一个摊位，用来售卖找到的山货", g[d.putClick] = "恭喜你摊位建造好了，我们来摆上山货吧", g[d.receiveCoin] = "山货售卖成功！捡起客人支付的钱币吧", g[d.missionConfirm] = "任务完成，可以获得大量奖励哦", g[d.onlineReward] = "现在可以去领取【外快】奖励啦", g[d.startGame] = "我们继续去赶山吧", g[d.bargainClick] = "老板！有人找你，我们去看一看吧", g[d.bargainInformationClick] = "这个顾客好像有点话想跟你聊一聊", g[d.putConfirm] = "选择想要摆放的山货吧", g[d.putCompleted] = "已经摆了山货了，待会客人会买走这些山货的,我们继续去赶山吧", g[d.upClick] = "点击升级按钮，升级摊位,可以装下更多的山货", g);
              t("dialogForm", (m = F("dialogForm"), b = k({
                  type: a
              }), m((C = i((y = function (t) {
                      function i() {
                          for (var i, e = arguments.length, r = new Array(e), s = 0; s < e; s++) r[s] = arguments[s];
                          return i = t.call.apply(t, [this].concat(r)) || this, n(i, "txtMsg", C, o(i)), i.bottom = 230, i
                      }
                      e(i, t);
                      var r = i.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.node, (function () {
                              p.dispatchEvent(h.SHOW_DIALOG, {
                                  hide: !0
                              })
                          }))
                      }, r.init = function (t, i) {
                          if (w.hasOwnProperty(i))
                              if (this.txtMsg.string = w[i], i == d.putCompleted) {
                                  var e = this.node.position.clone();
                                  e.y = 0, this.node.position = e
                              } else {
                                  var n = this.node.getComponent(c)
                                      , o = -(l.instance.getVisibleSize()
                                          .height / 2 - n.height / 2 - this.bottom);
                                  this.node.position = new u(0, o, 0)
                              }
                          else this.txtMsg.string = t
                      }, r.update = function (t) {}, i
                  }(f))
                  .prototype, "txtMsg", [b], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), v = y)) || v));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/digGinsengForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./entityUtil.ts", "./uiManager.ts", "./uiForm.ts", "./TransformUtil.ts", "./CustomDefine.ts", "./GameData.ts", "./guidForm.ts"], (function (t) {
      "use strict";
      var i, n, e, s, o, a, r, h, c, u, l, p, g, m, T, f, b, v, k, y, d, C, E, P, w, H, D;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, n = t.inheritsLoose, e = t.initializerDefineProperty, s = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, a = t._decorator, r = t.Node, h = t.Label, c = t.Sprite, u = t.Mask, l = t.Color, p = t.Graphics, g = t.Rect, m = t.Vec2, T = t.Intersection2D
          }, function (t) {
              f = t.BundlesConst
          }, function (t) {
              b = t.default
          }, function (t) {
              v = t.entityUtil
          }, function (t) {
              k = t.uiManager
          }, function (t) {
              y = t.UiForm
          }, function (t) {
              d = t.CoordinateTool
          }, function (t) {
              C = t.guideStep, E = t.formDefine
          }, function (t) {
              P = t.GameData
          }, function (t) {
              w = t.guidForm, H = t.FingerInfo, D = t.FingerType
          }]
          , execute: function () {
              var G, O, U, M, F, _, z, L, x, N, S, A, I, R, B, V, j, J, Y, K, q, Q, W, Z, X, $, tt, it, nt, et, st, ot, at, rt, ht, ct, ut, lt, pt, gt, mt, Tt, ft, bt, vt, kt, yt, dt, Ct;
              o._RF.push({}, "5b91dQONzZCyJ4G3L4ac5Rg", "digGinsengForm", void 0);
              var Et = a.ccclass
                  , Pt = a.property;
              t("digGinsengForm", (G = Et("digGinsengForm"), O = Pt(r), U = Pt(r), M = Pt(h), F = Pt(c), _ = Pt(r), z = Pt(r), L = Pt(r), x = Pt(r), N = Pt(r), S = Pt(r), A = Pt(r), I = Pt(r), R = Pt(r), B = Pt(r), V = Pt(r), j = Pt(r), J = Pt(r), Y = Pt(r), K = Pt(r), q = Pt(r), Q = Pt(r), W = Pt(h), Z = Pt(r), G((tt = i(($ = function (t) {
                      function i() {
                          for (var i, n = arguments.length, o = new Array(n), a = 0; a < n; a++) o[a] = arguments[a];
                          return (i = t.call.apply(t, [this].concat(o)) || this)
                              .ginseng = null, i.graphics = null, i.tempDrawPoints = [], i.polygonPointsList = [], e(i, "btnDig", tt, s(i)), e(i, "btnBack", it, s(i)), e(i, "lbProgress", nt, s(i)), e(i, "spProgress", et, s(i)), i.uiGinseng = null, i.touchImg = null, e(i, "maskGinseng", st, s(i)), e(i, "maskPeanut", ot, s(i)), e(i, "maskPotato", at, s(i)), e(i, "maskFotou", rt, s(i)), e(i, "maskHsw", ht, s(i)), e(i, "maskDxh", ct, s(i)), e(i, "maskCr", ut, s(i)), e(i, "picGinseng", lt, s(i)), e(i, "picPeanut", pt, s(i)), e(i, "picPotato", gt, s(i)), e(i, "picFotou", mt, s(i)), e(i, "picHsw", Tt, s(i)), e(i, "picDxh", ft, s(i)), e(i, "picCr", bt, s(i)), e(i, "ndMessage", vt, s(i)), e(i, "btnYes", kt, s(i)), e(i, "btnNo", yt, s(i)), e(i, "lbPer", dt, s(i)), e(i, "ndGrass", Ct, s(i)), i.per = 0, i
                      }
                      n(i, t);
                      var o = i.prototype;
                      return o.start = function () {
                          this.bindTouchEnd(this.btnDig, this.openMessage), this.bindTouchEnd(this.btnBack, this.back), this.bindTouchEnd(this.btnYes, this.finish), this.bindTouchEnd(this.btnNo, this.closeMessage), this.maskGinseng.on(r.EventType.TOUCH_MOVE, this.onTouchMove, this), this.maskGinseng.on(r.EventType.TOUCH_START, this.onTouchStart, this), this.maskGinseng.on(r.EventType.TOUCH_END, this.onTouchEnd, this), this.maskGinseng.on(r.EventType.TOUCH_CANCEL, this.onTouchEnd, this), this.maskPeanut.on(r.EventType.TOUCH_MOVE, this.onTouchMove, this), this.maskPeanut.on(r.EventType.TOUCH_START, this.onTouchStart, this), this.maskPeanut.on(r.EventType.TOUCH_END, this.onTouchEnd, this), this.maskPeanut.on(r.EventType.TOUCH_CANCEL, this.onTouchEnd, this), this.maskPotato.on(r.EventType.TOUCH_MOVE, this.onTouchMove, this), this.maskPotato.on(r.EventType.TOUCH_START, this.onTouchStart, this), this.maskPotato.on(r.EventType.TOUCH_END, this.onTouchEnd, this), this.maskPotato.on(r.EventType.TOUCH_CANCEL, this.onTouchEnd, this), this.maskFotou.on(r.EventType.TOUCH_MOVE, this.onTouchMove, this), this.maskFotou.on(r.EventType.TOUCH_START, this.onTouchStart, this), this.maskFotou.on(r.EventType.TOUCH_END, this.onTouchEnd, this), this.maskFotou.on(r.EventType.TOUCH_CANCEL, this.onTouchEnd, this), this.maskCr.on(r.EventType.TOUCH_MOVE, this.onTouchMove, this), this.maskCr.on(r.EventType.TOUCH_START, this.onTouchStart, this), this.maskCr.on(r.EventType.TOUCH_END, this.onTouchEnd, this), this.maskCr.on(r.EventType.TOUCH_CANCEL, this.onTouchEnd, this), this.maskDxh.on(r.EventType.TOUCH_MOVE, this.onTouchMove, this), this.maskDxh.on(r.EventType.TOUCH_START, this.onTouchStart, this), this.maskDxh.on(r.EventType.TOUCH_END, this.onTouchEnd, this), this.maskDxh.on(r.EventType.TOUCH_CANCEL, this.onTouchEnd, this), this.maskHsw.on(r.EventType.TOUCH_MOVE, this.onTouchMove, this), this.maskHsw.on(r.EventType.TOUCH_START, this.onTouchStart, this), this.maskHsw.on(r.EventType.TOUCH_END, this.onTouchEnd, this), this.maskHsw.on(r.EventType.TOUCH_CANCEL, this.onTouchEnd, this)
                      }, o.init = function (t) {
                          var i = this;
                          P.instance.showShakeOrDigToGameForm(), this.ginseng = t, this.reset(), b.testStep(C.digGinseng) || this.scheduleOnce((function () {
                              v.showEntity("gameform/" + E.guidForm, i.node, (function (t) {
                                  var n = i.ndGrass.worldPosition.clone();
                                  n.y -= 50;
                                  var e = n.clone();
                                  e.y -= 300, t.getComponent(w)
                                      .init(C.digGinseng, new H(D.Move, [n, e]))
                              }), f.form)
                          }), .1)
                      }, o.reset = function () {
                          var t = this;
                          switch (this.ndMessage.active = !1, this.maskGinseng.active = !1, this.maskPeanut.active = !1, this.maskPotato.active = !1, this.maskFotou.active = !1, this.maskHsw.active = !1, this.maskDxh.active = !1, this.maskCr.active = !1, this.picGinseng.active = !1, this.picPeanut.active = !1, this.picPotato.active = !1, this.picFotou.active = !1, this.picHsw.active = !1, this.picDxh.active = !1, this.picCr.active = !1, this.ginseng.ginSengType) {
                          case 0:
                              this.maskGinseng.active = !0, this.picGinseng.active = !0, this.touchImg = this.maskGinseng, this.uiGinseng = this.maskGinseng.children[1].getComponent(c);
                              break;
                          case 1:
                              this.maskPeanut.active = !0, this.picPeanut.active = !0, this.touchImg = this.maskPeanut, this.uiGinseng = this.maskPeanut.children[1].getComponent(c);
                              break;
                          case 2:
                              this.maskPotato.active = !0, this.picPotato.active = !0, this.touchImg = this.maskPotato, this.uiGinseng = this.maskPotato.children[1].getComponent(c);
                              break;
                          case 3:
                              this.maskFotou.active = !0, this.picFotou.active = !0, this.touchImg = this.maskFotou, this.uiGinseng = this.maskFotou.children[1].getComponent(c);
                              break;
                          case 4:
                              this.maskHsw.active = !0, this.picHsw.active = !0, this.touchImg = this.maskHsw, this.uiGinseng = this.maskHsw.children[1].getComponent(c);
                              break;
                          case 5:
                              this.maskDxh.active = !0, this.picDxh.active = !0, this.touchImg = this.maskDxh, this.uiGinseng = this.maskDxh.children[1].getComponent(c);
                              break;
                          case 6:
                              this.maskCr.active = !0, this.picCr.active = !0, this.touchImg = this.maskCr, this.uiGinseng = this.maskCr.children[1].getComponent(c)
                          }
                          var i = this.touchImg.getComponent(u);
                          this.graphics = i.graphics, this.graphics.fillColor = l.BLACK, this.graphics.strokeColor = l.BLACK, this.graphics.lineWidth = 100, this.graphics.lineCap = p.LineCap.ROUND, this.graphics.lineJoin = p.LineJoin.ROUND, this.graphics.clear(), this.tempDrawPoints = [], this.polygonPointsList = [], this.scheduleOnce((function () {
                              for (var i = t.uiGinseng.spriteFrame.width, n = t.uiGinseng.spriteFrame.height, e = t.uiGinseng.node.position.x, s = t.uiGinseng.node.position.y, o = 0; o < i; o += 20)
                                  for (var a = 0; a < n; a += 20) t.polygonPointsList.push({
                                      rect: new g(e + o, s + a, 20, 20)
                                      , isHit: !1
                                  })
                          }), .1), this.setProgress(0)
                      }, o.openMessage = function () {
                          100 == this.per ? this.finish() : (this.ndMessage.active = !0, this.lbPer.string = this.per + "%")
                      }, o.closeMessage = function () {
                          this.ndMessage.active = !1
                      }, o.finish = function () {
                          this.ginseng.finishDigGinseng(this.per), this.hideThis()
                      }, o.back = function () {
                          this.ginseng.backDigGinseng(), this.hideThis()
                      }, o.hideThis = function () {
                          k.hideUIFormByNode(this.node), P.instance.showAllGameForm()
                      }, o.onTouchEnd = function (t) {}, o.onTouchStart = function (t) {
                          P.instance.isStartGame && P.instance.guid && P.instance.guid.onClose();
                          var i = d.transEventTouchToLocalPos(this.touchImg, t);
                          this.clearMask(i)
                      }, o.onTouchMove = function (t) {
                          var i = d.transEventTouchToLocalPos(this.touchImg, t);
                          this.clearMask(i)
                      }, o.clearMask = function (t) {
                          var i = this.graphics
                              , n = this.tempDrawPoints.length
                              , e = !1;
                          if (this.tempDrawPoints.forEach((function (i) {
                                  m.squaredDistance(i, t) < 10 && (e = !0)
                              })), !e) {
                              if (P.instance.subPhysical(1, !1), this.tempDrawPoints.push(t), n <= 1) i.circle(t.x, t.y, 50), i.fill();
                              else {
                                  var s = this.tempDrawPoints[n - 2]
                                      , o = this.tempDrawPoints[n - 1];
                                  i.moveTo(s.x, s.y), i.lineTo(o.x, o.y), i.stroke(), this.polygonPointsList.forEach((function (t) {
                                      t.isHit = t.isHit || T.lineRect(s, o, t.rect)
                                  }))
                              }
                              this.polygonPointsList.forEach((function (i) {
                                  if (!i.isHit) {
                                      var n = t.x > i.rect.x && t.x < i.rect.x + i.rect.width
                                          , e = t.y > i.rect.y && t.y < i.rect.y + i.rect.height;
                                      n && e && (i.isHit = !0)
                                  }
                              })), this.judgeProgress()
                          }
                      }, o.judgeProgress = function () {
                          var t = 0;
                          this.polygonPointsList.forEach((function (i) {
                              i.isHit && t++
                          }));
                          var i = parseInt("" + t / this.polygonPointsList.length * 100);
                          this.setProgress(i)
                      }, o.setProgress = function (t) {
                          t *= 3, t = Math.min(t, 100), this.per = t, this.lbProgress.string = t + "%", this.spProgress.fillRange = t / 100
                      }, i
                  }(y))
                  .prototype, "btnDig", [O], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), it = i($.prototype, "btnBack", [U], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), nt = i($.prototype, "lbProgress", [M], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), et = i($.prototype, "spProgress", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), st = i($.prototype, "maskGinseng", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ot = i($.prototype, "maskPeanut", [z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), at = i($.prototype, "maskPotato", [L], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), rt = i($.prototype, "maskFotou", [x], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ht = i($.prototype, "maskHsw", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ct = i($.prototype, "maskDxh", [S], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ut = i($.prototype, "maskCr", [A], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), lt = i($.prototype, "picGinseng", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), pt = i($.prototype, "picPeanut", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), gt = i($.prototype, "picPotato", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), mt = i($.prototype, "picFotou", [V], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Tt = i($.prototype, "picHsw", [j], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ft = i($.prototype, "picDxh", [J], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), bt = i($.prototype, "picCr", [Y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), vt = i($.prototype, "ndMessage", [K], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), kt = i($.prototype, "btnYes", [q], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), yt = i($.prototype, "btnNo", [Q], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), dt = i($.prototype, "lbPer", [W], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Ct = i($.prototype, "ndGrass", [Z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), X = $)) || X));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/direction.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./memoryConfig.ts", "./AdHorizontal.ts", "./AdVertical.ts", "./CustomOptions.ts", "./platformUtil.ts", "./guidForm.ts", "./CustomDefine.ts", "./gameCameraLogic.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var i, n, e, o, a, r, c, s, u, h, l, m, f, b, p, g, d, C, v, y, D, w, L, N, S, U;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, n = t.inheritsLoose, e = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, r = t._decorator, c = t.Node, s = t.find, u = t.Vec2
          }, function (t) {
              h = t.BundlesConst
          }, function (t) {
              l = t.BaseObject
          }, function (t) {
              m = t.default
          }, function (t) {
              f = t.entityUtil
          }, function (t) {
              b = t.memoryConfig
          }, function (t) {
              p = t.AdHorizontal
          }, function (t) {
              g = t.AdVertical
          }, function (t) {
              d = t.CustomOptions
          }, function (t) {
              C = t.platformUtil
          }, function (t) {
              v = t.guidForm, y = t.FingerInfo, D = t.FingerType
          }, function (t) {
              w = t.guideStep, L = t.formDefine
          }, function (t) {
              N = t.gameCameraLogic, S = t.CameraDirection
          }, function (t) {
              U = t.GameData
          }]
          , execute: function () {
              var T, B, R, E, z, P, A, F, _, j, H;
              a._RF.push({}, "1a450relsZHZoUw4ynYkKSx", "direction", void 0);
              var O = r.ccclass
                  , I = r.property;
              t("direction", (T = O("direction"), B = I(c), R = I(c), E = I(c), z = I(c), T((F = i((A = function (t) {
                      function i() {
                          for (var i, n = arguments.length, a = new Array(n), r = 0; r < n; r++) a[r] = arguments[r];
                          return i = t.call.apply(t, [this].concat(a)) || this, e(i, "btnUp", F, o(i)), e(i, "btnDown", _, o(i)), e(i, "btnLeft", j, o(i)), e(i, "btnRight", H, o(i)), i.moveNum = 0, i.gameCameraLogic = null, i
                      }
                      n(i, t);
                      var a = i.prototype;
                      return a.init = function () {
                          this.gameCameraLogic = s("Main Camera")
                              .getComponent(N), this.gameCameraLogic.init();
                          var t = this.gameCameraLogic.judgePosition();
                          this.judgeDirectionBtn(t), this.setDirectionSP(!1), U.instance.initDirection(this), this.moveNum = 0
                      }, a.start = function () {
                          var t = this;
                          this.bindTouchStart(this.btnUp, (function (t) {
                              t.bubbles = !0
                          })), this.bindTouchStart(this.btnDown, (function (t) {
                              t.bubbles = !0
                          })), this.bindTouchStart(this.btnLeft, (function (t) {
                              t.bubbles = !0
                          })), this.bindTouchStart(this.btnRight, (function (t) {
                              t.bubbles = !0
                          })), this.bindTouchEnd(this.btnUp, (function (i) {
                              i.propagationStopped = !0, t.onCameraDirection(S.UP)
                          })), this.bindTouchEnd(this.btnDown, (function (i) {
                              i.propagationStopped = !0, t.onCameraDirection(S.DOWN)
                          })), this.bindTouchEnd(this.btnLeft, (function (i) {
                              i.propagationStopped = !0, t.onCameraDirection(S.LEFT)
                          })), this.bindTouchEnd(this.btnRight, (function (i) {
                              i.propagationStopped = !0, t.onCameraDirection(S.RIGHT)
                          }))
                      }, a.onCameraDirection = function (t) {
                          U.instance.moveDirection(t);
                          var i = b.instance.getIntKey("zs_game_show_switch2", 0);
                          this.moveNum++, (-1 == i || 0 != i && this.moveNum % (i + 1) == 0) && this.showCustomAd()
                      }, a.showCustomAd = function () {
                          var t = d.New(p.CENTER, g.CENTER, new u(0, 0), null, null);
                          C.currentPlatform.showCustomAd(t, 2, (function () {}))
                      }, a.judgeDirectionBtn = function (t) {
                          this.btnDown.active = t.isDown, this.btnUp.active = t.isUp, this.btnLeft.active = t.isLeft, this.btnRight.active = t.isRight
                      }, a.setDirectionSP = function (t) {
                          var i = this;
                          this.btnDown.getChildByName("0")
                              .active = !t, this.btnDown.getChildByName("1")
                              .active = t, this.btnUp.getChildByName("0")
                              .active = !t, this.btnUp.getChildByName("1")
                              .active = t, this.btnLeft.getChildByName("0")
                              .active = !t, this.btnLeft.getChildByName("1")
                              .active = t, this.btnRight.getChildByName("0")
                              .active = !t, this.btnRight.getChildByName("1")
                              .active = t, t && (1002 != b.instance.level || m.testStep(w.moveScene) || f.showEntity("gameform/" + L.guidForm, this.node, (function (t) {
                                  var n = i.btnUp.worldPosition;
                                  t.getComponent(v)
                                      .init(w.moveScene, new y(D.Point, [n]))
                              }), h.form))
                      }, i
                  }(l))
                  .prototype, "btnUp", [B], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), _ = i(A.prototype, "btnDown", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), j = i(A.prototype, "btnLeft", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), H = i(A.prototype, "btnRight", [z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), P = A)) || P));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/DragComponent.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Debug.ts"], (function (t) {
      "use strict";
      var i, e, o, n, s, r, a, h, d, c, g, f, u, l, p, y;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, e = t.inheritsLoose, o = t.initializerDefineProperty, n = t.assertThisInitialized
          }, function (t) {
              s = t.cclegacy, r = t._decorator, a = t.Node, h = t.Vec3, d = t.EventHandler, c = t.UIOpacity, g = t.UITransform, f = t.v2, u = t.rect, l = t.Component, p = t.v3
          }, function (t) {
              y = t.Debug
          }]
          , execute: function () {
              var v, E, T, b, _, C, P, x, O, m, w, U, D;
              s._RF.push({}, "39f6cUphxBOx7jeSKiKs/UF", "DragComponent", void 0);
              var S = r.ccclass
                  , z = r.property;
              t("DragComponent", (v = S("DragComponent"), E = z({
                  tooltip: "拖拽目标"
                  , type: a
              }), T = z({
                  tooltip: "如果不填，使用物体本身的size作为范围。"
              }), b = z(h), _ = z({
                  type: [d]
              }), C = z({
                  type: [d]
              }), v((O = i((x = function (t) {
                      function i() {
                          for (var i, e = arguments.length, s = new Array(e), r = 0; r < e; r++) s[r] = arguments[r];
                          return i = t.call.apply(t, [this].concat(s)) || this, o(i, "target", O, n(i)), o(i, "offset", m, n(i)), o(i, "dragEndPosition", w, n(i)), o(i, "dragSuccess_cb", U, n(i)), o(i, "dragFail_cb", D, n(i)), i.dragTarget = void 0, i.dragOffset = void 0, i.orginPos = void 0, i.zIndex = void 0, i.targetRange = [], i._opacity = void 0, i
                      }
                      e(i, t);
                      var s = i.prototype;
                      return s.onLoad = function () {}, s.start = function () {
                          for (var t in this.startListener(), this._opacity = this.getComponent(c) || this.addComponent(c), this.zIndex = this.node.getSiblingIndex(), this.orginPos = this.node.getWorldPosition(), this.target) {
                              var i = this.target[t].getComponent(g);
                              this.setTargetPos(this.target[t].worldPosition.x, this.target[t].worldPosition.y, 0 == this.offset.x ? i.width : this.offset.x, 0 == this.offset.y ? i.height : this.offset.y)
                          }
                      }, s.setTargetPos = function (t, i, e, o) {
                          this.dragTarget = f(t, i), this.dragOffset = f(e, o), this.targetRange.push(u(this.dragTarget.x - this.dragOffset.x / 2, this.dragTarget.y - this.dragOffset.y / 2, this.dragOffset.x, this.dragOffset.y))
                      }, s.touchStart = function () {
                          this._opacity.opacity = 200, this.node.setSiblingIndex(99)
                      }, s.touchMove = function (t) {
                          var i = this.node.worldPosition;
                          this.node.setWorldPosition(i.x + t.getUIDelta()
                              .x, i.y + t.getUIDelta()
                              .y, 0)
                      }, s.touchEnd = function () {
                          for (var t in this._opacity.opacity = 255, this.node.setSiblingIndex(this.zIndex), this.targetRange)
                              if (this.targetRange[t].contains(f(this.node.worldPosition.x, this.node.worldPosition.y))) return void this.dragEnd(!0, t);
                          this.node.setWorldPosition(this.orginPos.clone()), this.dragEnd(!1, "")
                      }, s.dragEnd = function (t, i) {
                          if (t) {
                              y.log("over");
                              var e = new h;
                              h.add(e, this.target[i].worldPosition, this.dragEndPosition), this.node.setWorldPosition(e), this.endListener(), d.emitEvents(this.dragSuccess_cb, i)
                          } else d.emitEvents(this.dragFail_cb, i)
                      }, s.startListener = function () {
                          this.node.on(a.EventType.TOUCH_START, this.touchStart, this), this.node.on(a.EventType.TOUCH_MOVE, this.touchMove, this), this.node.on(a.EventType.TOUCH_END, this.touchEnd, this), this.node.on(a.EventType.TOUCH_CANCEL, this.touchEnd, this)
                      }, s.endListener = function () {
                          this.node.off(a.EventType.TOUCH_START, this.touchStart, this), this.node.off(a.EventType.TOUCH_MOVE, this.touchMove, this), this.node.off(a.EventType.TOUCH_END, this.touchEnd, this), this.node.off(a.EventType.TOUCH_CANCEL, this.touchEnd, this)
                      }, i
                  }(l))
                  .prototype, "target", [E], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return []
                      }
                  }), m = i(x.prototype, "offset", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return f(0, 0)
                  }
              }), w = i(x.prototype, "dragEndPosition", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return p(0, 0, 0)
                  }
              }), U = i(x.prototype, "dragSuccess_cb", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), D = i(x.prototype, "dragFail_cb", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), P = x)) || P));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/DragonBonesEx.ts", ["cc"], (function () {
      "use strict";
      var e;
      return {
          setters: [function (t) {
              e = t.cclegacy
          }]
          , execute: function () {
              e._RF.push({}, "e4f05yecKpNAaGPVydlY7qT", "DragonBonesEx", void 0), e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/dropMoneyModel.ts", ["cc"], (function (e) {
      "use strict";
      var o, t;
      return {
          setters: [function (e) {
              o = e.cclegacy, t = e.Vec3
          }]
          , execute: function () {
              o._RF.push({}, "4c23cis1LVLOpNelyH6/qOB", "dropMoneyModel", void 0);
              e("dropMoneyModel", (function (e, o, i) {
                  void 0 === i && (i = 1), this.position = new t(0, 0, 0), this.amount = 0, this.isVideo = !1, this.moneyType = 1, this.position = e, this.amount = o, this.moneyType = i
              }));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/earning.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GameData.ts"], (function (n) {
      "use strict";
      var i, t, r, e, a, l, o, s, u, c;
      return {
          setters: [function (n) {
              i = n.applyDecoratedDescriptor, t = n.inheritsLoose, r = n.initializerDefineProperty, e = n.assertThisInitialized
          }, function (n) {
              a = n.cclegacy, l = n._decorator, o = n.Label, s = n.Sprite, u = n.Component
          }, function (n) {
              c = n.GameData
          }]
          , execute: function () {
              var p, g, f, b, h, y, v, E, d;
              a._RF.push({}, "540d5vhdVdHLZt8j8pTVHzL", "earning", void 0);
              var m = l.ccclass
                  , z = l.property;
              n("earning", (p = m("earning"), g = z(o), f = z(s), b = z(o), p((v = i((y = function (n) {
                      function i() {
                          for (var i, t = arguments.length, a = new Array(t), l = 0; l < t; l++) a[l] = arguments[l];
                          return i = n.call.apply(n, [this].concat(a)) || this, r(i, "lbEarning", v, e(i)), r(i, "spEarning", E, e(i)), r(i, "lbTips", d, e(i)), i
                      }
                      t(i, n);
                      var a = i.prototype;
                      return a.init = function () {
                          c.instance.initEarning(this), this.setEarning(0)
                      }, a.setEarning = function (n) {
                          var i = 100 * n;
                          i = parseInt("" + i), this.lbTips.string = i <= 50 ? "血亏" : i <= 100 ? "小亏" : i <= 120 ? "勉强回本" : i <= 150 ? "小挣一笔" : i <= 200 ? "大挣一笔" : "大发横财", this.lbEarning.string = i.toString() + "%", i = Math.min(i, 100), this.spEarning.fillRange = -n / 2
                      }, i
                  }(u))
                  .prototype, "lbEarning", [g], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), E = i(y.prototype, "spEarning", [f], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), d = i(y.prototype, "lbTips", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), h = y)) || h));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/entityUtil.ts", ["cc", "./poolManager.ts", "./poolComponent.ts", "./resourceUtil.ts", "./Debug.ts"], (function (t) {
      "use strict";
      var e, n, i, o, r, a, l;
      return {
          setters: [function (t) {
              e = t.cclegacy, n = t._decorator, i = t.Prefab
          }, function (t) {
              o = t.poolManager
          }, function (t) {
              r = t.poolComponent
          }, function (t) {
              a = t.resourceUtil
          }, function (t) {
              l = t.Debug
          }]
          , execute: function () {
              var c, u;
              e._RF.push({}, "2a987pC8EZA9I2Y2IOgBRqi", "entityUtil", void 0);
              var s = n.ccclass;
              n.property, t("entityUtil", s("EntityModule")(((u = function () {
                      function t() {}
                      return t.getAllEntity = function (t) {
                          var e = o.getStack(t);
                          return null == e ? [] : e
                      }, t.showEntity = function (t, e, n, i, o) {
                          var r = this;
                          void 0 === i && (i = ""), void 0 === o && (o = !1), this._showEntity(t, e, i, (function (t) {
                              t.setSiblingIndex(r._serializeId++), n && n(t)
                          }), o)
                      }, t.hideEntity = function (t, e) {
                          void 0 === e && (e = !1), this._hideEntity(t, e)
                      }, t.hideAllEntity = function (t, e) {
                          void 0 === e && (e = !1);
                          var n = o.getStack(t);
                          if (null != n)
                              for (var i = 0; i < n.length; i++) {
                                  var r = n[i];
                                  this.hideEntity(r, e), i--
                              }
                      }, t._showEntity = function (t, e, n, r, c) {
                          var u = this;
                          void 0 === c && (c = !1);
                          var s = t.split("/")
                              , d = s[s.length - 1];
                          null != o.getPrefab(d) ? this.loadEntityPrefabCompleteCall(t, e, r, c) : "" == n ? a.loadAsset(t, i, (function (n, i) {
                              n ? l.error(n) : (o.addPrefab(i), u.loadEntityPrefabCompleteCall(t, e, r, c))
                          })) : a.loadBundleRes(n, t, (function (n, i) {
                              n ? l.error(n) : (o.addPrefab(i), u.loadEntityPrefabCompleteCall(t, e, r, c))
                          }))
                      }, t.loadEntityPrefabCompleteCall = function (t, e, n, i) {
                          void 0 === i && (i = !1);
                          try {
                              var a = t.split("/")
                                  , c = a[a.length - 1]
                                  , u = o.getPrefab(c)
                                  , s = o.getNode(u, e, i);
                              (s.getComponent(r) || s.addComponent(r))
                              .tag = c, s.active = !0, null != s && n && n(s)
                          } catch (t) {
                              l.warn(t)
                          }
                      }, t._hideEntity = function (t, e, n) {
                          void 0 === n && (n = !1), t && (n ? (t.active = !1, t.removeFromParent(), t.destroy(), o.removeStack(t)) : (t.active = !1, o.putNode(t)))
                      }, t
                  }())
                  ._serializeId = 0, c = u)) || c);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/eventAnswerForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./uiManager.ts", "./uiForm.ts"], (function (e) {
      "use strict";
      var t, n, r, i, o, s, a, c, u;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, n = e.inheritsLoose, r = e.initializerDefineProperty, i = e.assertThisInitialized
          }, function (e) {
              o = e.cclegacy, s = e._decorator, a = e.Label
          }, function (e) {
              c = e.uiManager
          }, function (e) {
              u = e.UiForm
          }]
          , execute: function () {
              var l, p, f, g, v;
              o._RF.push({}, "ba74dA/jQ5L2qEIAM6pBH5P", "eventAnswerForm", void 0);
              var d = s.ccclass
                  , h = s.property;
              e("eventAnswerForm", (l = d("eventAnswerForm"), p = h(a), l((v = t((g = function (e) {
                      function t() {
                          for (var t, n = arguments.length, o = new Array(n), s = 0; s < n; s++) o[s] = arguments[s];
                          return t = e.call.apply(e, [this].concat(o)) || this, r(t, "lbMessage", v, i(t)), t
                      }
                      n(t, e);
                      var o = t.prototype;
                      return o.start = function () {}, o.onMaskMouseDown = function (e) {
                          e.propagationStopped = !0, c.hideUIFormByNode(this.node)
                      }, o.init = function (e) {
                          this.lbMessage.string = e
                      }, t
                  }(u))
                  .prototype, "lbMessage", [p], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), f = g)) || f));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/eventEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./entityUtil.ts", "./baseGameEntity.ts"], (function (t) {
      "use strict";
      var e, n, i, o, r, a, s, c, y, l, u, p, h;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, s = t.CCInteger, c = t.Tween, y = t.tween
          }, function (t) {
              l = t.entityUtil
          }, function (t) {
              u = t.GameEntityType, p = t.GameEntityState, h = t.baseGameEntity
          }]
          , execute: function () {
              var f, v, d, g, E;
              r._RF.push({}, "0cec0fDtdpKz5XAq3oxfYG2", "eventEntity", void 0);
              var T = a.ccclass
                  , m = a.property;
              t("eventEntity", (f = T("eventEntity"), v = m(s), f((E = e((g = function (t) {
                      function e() {
                          for (var e, n = arguments.length, r = new Array(n), a = 0; a < n; a++) r[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(r)) || this, i(e, "eventType", E, o(e)), e.entityType = u.Stone, e.physicalCost = 100, e
                      }
                      n(e, t);
                      var r = e.prototype;
                      return r.triggerTouch = function () {
                          var e = this;
                          t.prototype.triggerTouch.call(this), this.showEntity((function () {
                              e.takeEntity((function () {
                                  e.eventType > 0 && e.showEvent(e.eventType)
                              }))
                          }))
                      }, r.takeEntity = function (t) {
                          var e = this;
                          void 0 === t && (t = null), this.state = p.Took, c.stopAllByTarget(this.node), y(this.node)
                              .to(.3, {
                                  position: this.gameCameraLogic.takePosNode.worldPosition
                                  , rotation: this.gameCameraLogic.takePosNode.worldRotation
                              })
                              .call((function () {
                                  t && t(), l.hideEntity(e.node)
                              }))
                              .start()
                      }, e
                  }(h))
                  .prototype, "eventType", [v], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return 0
                      }
                  }), d = g)) || d));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/eventForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./dataUtil.ts", "./uiManager.ts", "./uiForm.ts", "./CustomDefine.ts", "./GameData.ts", "./eventAnswerForm.ts"], (function (e) {
      "use strict";
      var n, t, i, r, o, a, l, s, u, c, f, b, h, m, p;
      return {
          setters: [function (e) {
              n = e.applyDecoratedDescriptor, t = e.inheritsLoose, i = e.initializerDefineProperty, r = e.assertThisInitialized
          }, function (e) {
              o = e.cclegacy, a = e._decorator, l = e.Node, s = e.Label
          }, function (e) {
              u = e.default
          }, function (e) {
              c = e.uiManager
          }, function (e) {
              f = e.UiForm
          }, function (e) {
              b = e.formDefine, h = e.BundlesDefine
          }, function (e) {
              m = e.GameData
          }, function (e) {
              p = e.eventAnswerForm
          }]
          , execute: function () {
              var d, w, v, y, g, B, I, F, A, z, C, D, M, N, R, S, T, P, U;
              o._RF.push({}, "95460Usi89CG6E/1OgPpiyv", "eventForm", void 0);
              var x = a.ccclass
                  , _ = a.property;
              e("eventForm", (d = x("eventForm"), w = _(l), v = _(l), y = _(s), g = _(s), B = _(s), I = _(s), F = _(l), A = _(s), d((D = n((C = function (e) {
                      function n() {
                          for (var n, t = arguments.length, o = new Array(t), a = 0; a < t; a++) o[a] = arguments[a];
                          return n = e.call.apply(e, [this].concat(o)) || this, i(n, "btn1", D, r(n)), i(n, "btn2", M, r(n)), i(n, "lbName", N, r(n)), i(n, "lbMemo", R, r(n)), i(n, "lbBtn1", S, r(n)), i(n, "lbBtn2", T, r(n)), i(n, "moneyBox", P, r(n)), i(n, "lbMoney", U, r(n)), n.eventInfo = null, n
                      }
                      t(n, e);
                      var o = n.prototype;
                      return o.start = function () {
                          this.bindTouchEnd(this.btn1, this.onBtn1), this.bindTouchEnd(this.btn2, this.onBtn2)
                      }, o.init = function (e) {
                          this.eventInfo = e, this.lbName.string = e.name, this.lbMemo.string = e.memo, this.lbBtn1.string = e.select1, this.lbBtn2.string = e.select2, this.moneyBox.active = 2 == e.eventType, this.lbMoney.string = e.select1Cost.toString()
                      }, o.onBtn1 = function () {
                          this.pay() ? (this["getReward" + this.eventInfo.rewardType](), this.closeAndShowAnswer(this.eventInfo.answer1)) : this.closeAndShowAnswer("很抱歉,金钱不足,努力赚钱吧!")
                      }, o.onBtn2 = function () {
                          this.closeAndShowAnswer(this.eventInfo.answer2)
                      }, o.pay = function () {
                          return !(2 == this.eventInfo.eventType && u.getCoin() < this.eventInfo.select1Cost)
                      }, o.getReward1 = function () {
                          u.addCoin(this.eventInfo.rewardNum), u.saveCoin()
                      }, o.getReward2 = function () {
                          m.instance.addPhysicalPer(this.eventInfo.rewardNum)
                      }, o.getReward3 = function () {
                          m.instance.addRewardCacheItem(this.eventInfo.rewardDetailId, this.eventInfo.rewardNum)
                      }, o.closeAndShowAnswer = function (e) {
                          c.hideUIFormByNode(this.node, (function () {
                              c.pushUIForm("gameform/" + b.eventAnswerForm, (function (n) {
                                  n.getComponent(p)
                                      .init(e)
                              }), h.form)
                          }))
                      }, n
                  }(f))
                  .prototype, "btn1", [w], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), M = n(C.prototype, "btn2", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), N = n(C.prototype, "lbName", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), R = n(C.prototype, "lbMemo", [g], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), S = n(C.prototype, "lbBtn1", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), T = n(C.prototype, "lbBtn2", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), P = n(C.prototype, "moneyBox", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), U = n(C.prototype, "lbMoney", [A], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), z = C)) || z));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/eventUtil.ts", ["cc", "./ArrayUtil.ts"], (function (e) {
      "use strict";
      var t, n;
      return {
          setters: [function (e) {
              t = e.cclegacy
          }, function (e) {
              n = e.default
          }]
          , execute: function () {
              t._RF.push({}, "f72ebqMuRpHsa2kVOUNlQeT", "eventUtil", void 0), e("default", function () {
                      function e() {}
                      return e.addListener = function (e, t, n, o) {
                          void 0 === o && (o = !1), this._addListener(e, t, o, n)
                      }, e.on = function (e, t, n, o) {
                          void 0 === o && (o = !1), this.addListener(e, t, n, o)
                      }, e.sendEventImmediately = function (e, t) {
                          this.dispatchEvent(e, t)
                      }, e.dispatchEvent = function (e, t) {
                          this._sendEvent(e, t)
                      }, e.off = function (e, t) {
                          this.removeListener(e, t)
                      }, e.offAll = function (e) {
                          this.removeAllListener(e)
                      }, e.removeListener = function (e, t) {
                          if (null != e && "" != e) {
                              if (this.eventPool.hasOwnProperty(e)) {
                                  for (var o = this.eventPool[e], i = 0; i < o.length; i++) {
                                      var r = o[i];
                                      if (r.target === t) {
                                          n.remove(o, r);
                                          break
                                      }
                                  }
                                  this.eventPool[e] = o
                              }
                          } else console.error("eventName:" + e + "不合法！")
                      }, e.removeAllListener = function (e) {
                          if (null == e) this.eventPool = {};
                          else
                              for (var t in this.eventPool) {
                                  for (var o = this.eventPool[t], i = 0; i < o.length; i++) {
                                      var r = o[i];
                                      if (r.target === e) {
                                          n.remove(o, r);
                                          break
                                      }
                                  }
                                  this.eventPool[t] = o
                              }
                      }, e._addListener = function (e, t, n, i) {
                          if (null != e && "" != e) {
                              var r = new o;
                              i instanceof Function ? r.callback = i : console.error("callback不是一个方法"), t ? r.target = t : console.error("target为空"), r.once = n;
                              var l = !1;
                              if (this.eventPool.hasOwnProperty(e)) {
                                  for (var s = this.eventPool[e], a = 0; a < s.length; a++) {
                                      if (s[a].target === r.target) {
                                          l = !0;
                                          break
                                      }
                                  }
                                  l || this.eventPool[e].push(r)
                              } else this.eventPool[e] = [r]
                          } else console.error("eventName:" + e + "不合法！")
                      }, e._sendEvent = function (e, t) {
                          if (null != e && "" != e) {
                              if (this.eventPool.hasOwnProperty(e)) {
                                  for (var o = this.eventPool[e], i = 0; i < o.length; i++) {
                                      var r = o[i];
                                      r.callback.call(r.target, t), r.once && (n.remove(o, r), i--)
                                  }
                                  this.eventPool[e] = o
                              }
                          } else console.error("eventName:" + e + "不合法！")
                      }, e
                  }())
                  .eventPool = {};
              var o = e("MListener", (function () {
                  this.callback = function () {}, this.target = [], this.once = !1, this.callback = function () {}, this.target = null, this.once = !1
              }));
              t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/findItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./entityUtil.ts", "./uiManager.ts", "./CustomDefine.ts", "./GameData.ts"], (function (n) {
      "use strict";
      var i, t, e, o, r, a, s, c, u, l, f, m, h, d, g, p, C, F, y;
      return {
          setters: [function (n) {
              i = n.applyDecoratedDescriptor, t = n.inheritsLoose, e = n.initializerDefineProperty, o = n.assertThisInitialized
          }, function (n) {
              r = n.cclegacy, a = n._decorator, s = n.Node, c = n.find, u = n.Camera, l = n.Button, f = n.Sprite, m = n.Color
          }, function (n) {
              h = n.BundlesConst
          }, function (n) {
              d = n.BaseObject
          }, function (n) {
              g = n.entityUtil
          }, function (n) {
              p = n.uiManager
          }, function (n) {
              C = n.formDefine, F = n.BundlesDefine
          }, function (n) {
              y = n.GameData
          }]
          , execute: function () {
              var b, v, D, I, w;
              r._RF.push({}, "6f9f3udu3dNAqyhc3IApoXF", "findItem", void 0);
              var B = a.ccclass
                  , E = a.property;
              n("findItem", (b = B("findItem"), v = E(s), b((w = i((I = function (n) {
                      function i() {
                          for (var i, t = arguments.length, r = new Array(t), a = 0; a < t; a++) r[a] = arguments[a];
                          return (i = n.call.apply(n, [this].concat(r)) || this)
                              .gameCamera = null, i.uiCamera = null, i.canClick = !1, i.isFinger = !1, i.finger = null, e(i, "gameForm", w, o(i)), i
                      }
                      t(i, n);
                      var r = i.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.node, this.onBtnFind)
                      }, r.init = function () {
                          y.instance.initFind(this), this.gameCamera = c("Main Camera")
                              .getComponent(u), this.uiCamera = c("Canvas/Camera")
                              .getComponent(u), this.setEnable(!0), this.hideFinger()
                      }, r.onBtnFind = function () {
                          this.canClick && p.pushUIForm("gameform/" + C.gameFindForm, null, F.form)
                      }, r.setEnable = function (n) {
                          this.node.getComponent(l)
                              .interactable = n, this.node.getComponent(f)
                              .color = n ? m.WHITE : m.GRAY, this.canClick = n
                      }, r.showFinger = function (n) {
                          var i = this;
                          if (!this.isFinger) {
                              this.isFinger = !0;
                              var t = this.gameCamera.worldToScreen(n.worldPosition)
                                  , e = this.uiCamera.screenToWorld(t);
                              e.y += 50, g.showEntity("finger", this.node, (function (n) {
                                  i.finger = n, i.finger.worldPosition = e
                              }), h.common)
                          }
                      }, r.hideFinger = function () {
                          this.isFinger = !1, this.finger && (g.hideEntity(this.finger), this.finger = null)
                      }, i
                  }(d))
                  .prototype, "gameForm", [v], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), D = I)) || D));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/fingerUtil.ts", ["cc", "./Const.ts", "./cameraManager.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./uiManager.ts", "./gameState.ts", "./TransformUtil.ts", "./CustomDefine.ts"], (function (n) {
      "use strict";
      var t, e, o, i, l, s, r, a, d, f, u, h, c, g, w, v;
      return {
          setters: [function (n) {
              t = n.cclegacy, e = n._decorator, o = n.Vec3, i = n.director
          }, function (n) {
              l = n.BundlesConst
          }, function (n) {
              s = n.default
          }, function (n) {
              r = n.default
          }, function (n) {
              a = n.entityUtil
          }, function (n) {
              d = n.default
          }, function (n) {
              f = n.uiManager
          }, function (n) {
              u = n.gameState
          }, function (n) {
              h = n.CoordinateTool
          }, function (n) {
              c = n.entityDefine, g = n.formDefine, w = n.guideStep, v = n.eventDefine
          }]
          , execute: function () {
              var N, m;
              t._RF.push({}, "f1a25G2oNZDc5+32gPSZRQG", "fingerUtil", void 0);
              var I = e.ccclass;
              e.property, n("fingerUtil", I("fingerUtil")(((m = function () {
                      function n() {}
                      return n.hasFinger = function () {
                          return null != this.handNode
                      }, n.showFinger = function (n, t) {
                          void 0 === t && (t = new o(0, 0, 0)), this.removeFollow(), this.removeFinger(), this.followOffset = t, this.createFinger(c.guideFinger, n)
                      }, n.createFinger = function (n, t) {
                          var e = this;
                          null == this.handNode ? a.showEntity(n, f.uiRoot, (function (n) {
                              e.handNode = n, e.handNode.setWorldPosition(t), e.handNode.setSiblingIndex(f.uiRoot.children.length - 1)
                          }), l.common) : null != this.handNode.parent && (this.handNode.setWorldPosition(t), this.handNode.setSiblingIndex(f.uiRoot.children.length - 1))
                      }, n.followUI = function (n) {
                          var t = this;
                          this.followNode = n, this.followInterval = setInterval((function () {
                              if (null != t.handNode && null != t.handNode.parent && null != t.followNode) {
                                  t.handNode.setWorldPosition(o.add(t.tempPos, n.worldPosition, t.followOffset));
                                  var e = f.getUIForm(g.checkinForm);
                                  e ? t.handNode.setSiblingIndex(e.getSiblingIndex() - 1) : t.handNode.setSiblingIndex(f.uiRoot.children.length - 1)
                              }
                          }), 20)
                      }, n.follow3D = function (n) {
                          var t = this;
                          this.removeFollow(), this.followNode = n, this.followInterval = setInterval((function () {
                              if (u.instance.townUI && u.instance.townCamera) {
                                  var e = h.transWorldPositionToUI(n.worldPosition, u.instance.townUI, u.instance.townCamera);
                                  t.handNode && (t.handNode.position = o.add(t.tempPos, e, t.followOffset))
                              }
                          }), 20)
                      }, n.removeFollow = function () {
                          null != this.followInterval && (clearInterval(this.followInterval), this.followInterval = null)
                      }, n.removeFinger = function () {
                          null != this.handNode && (a.hideEntity(this.handNode), this.handNode = null)
                      }, n.showCoinGuide = function (t) {
                          var e = i.getScene()
                              .getComponentInChildren(s);
                          return !(!e || !e.isVisibleOn3dCamera(t.getWorldPosition())) && (r.testStep(w.receiveCoin) || (n.showFinger(t.getWorldPosition()), n.follow3D(t), d.dispatchEvent(v.SHOW_DIALOG, {
                              step: w.receiveCoin
                          })), !0)
                      }, n
                  }())
                  .handNode = null, m.followNode = null, m.followInterval = null, m.tempPos = new o(0, 0, 0), m.followOffset = new o(0, 0, 0), N = m)) || N);
              t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/formModel.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (e) {
      "use strict";
      var t, r;
      return {
          setters: [function (e) {
              t = e.createClass
          }, function (e) {
              r = e.cclegacy
          }]
          , execute: function () {
              r._RF.push({}, "012e5rcZrJPR4ySwn9hSWEd", "formModel", void 0);
              e("formModel", function () {
                  function e(e, t, r) {
                      this.formPathOrName = void 0, this.callback = void 0, this.bundleKey = void 0, this.formPathOrName = e, this.callback = t, this.bundleKey = r
                  }
                  return t(e, [{
                      key: "formName"
                      , get: function () {
                          var e = this.formPathOrName.split("/");
                          return e[e.length - 1]
                      }
                  }]), e
              }());
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/framingLoadingUtil.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Debug.ts", "./baseObject.ts"], (function (e) {
      "use strict";
      var t, n, r, i, o, a, u;
      return {
          setters: [function (e) {
              t = e.inheritsLoose, n = e.asyncToGenerator
          }, function (e) {
              r = e.cclegacy, i = e._decorator, o = e.game
          }, function (e) {
              a = e.Debug
          }, function (e) {
              u = e.BaseObject
          }]
          , execute: function () {
              var c, s;
              r._RF.push({}, "f4405jxjylM2run4qekCnaQ", "framingLoadingUtil", void 0);
              var f = i.ccclass;
              i.property, e("framingLoadingUtil", f("framingLoadingUtil")(((s = function (e) {
                      function r() {
                          return e.apply(this, arguments) || this
                      }
                      return t(r, e), r.prototype.start = function () {
                          o.addPersistRootNode(this.node)
                      }, r.framingLoad = function () {
                          var e = n((function* (e, t, n) {
                              void 0 === n && (n = 3), yield this.executePreFrame(this.getItemGenerator(e, t), n)
                          }));
                          return function (t, n, r) {
                              return e.apply(this, arguments)
                          }
                      }(), r.executePreFrame = function (e, t) {
                          return new Promise((function (n, r) {
                              var i = e;
                              ! function e() {
                                  for (var r = (new Date)
                                          .getTime(), o = i.next();; o = i.next()) {
                                      if (null == o || o.done) return void n(null);
                                      if ((new Date)
                                          .getTime() - r > t) return void setTimeout((function () {
                                          e()
                                      }), 0)
                                  }
                              }()
                          }))
                      }, r.getItemGenerator = function* (e, t) {
                          for (var n = 0; n < e; n++) yield t(n)
                      }, r.addFramingLoadQueue = function () {
                          var e = n((function* (e, t, n) {
                              void 0 === n && (n = 1);
                              for (var r = this.framingLoadQueue.length, i = 0; i < e; i++) this.framingLoadQueue.push({
                                  groupIndex: r + i
                                  , index: i
                                  , callback: t
                              });
                              null == this.generator && (this.generator = this.getQueueGenerator(), yield this.executePreFrame(this.generator, n), a.log("粉针加载队列结束"), this.generator = null)
                          }));
                          return function (t, n, r) {
                              return e.apply(this, arguments)
                          }
                      }(), r.getQueueGenerator = function* () {
                          for (; r.framingLoadQueue.length > 0;) {
                              var e = r.framingLoadQueue.shift();
                              yield e.callback(e.index)
                          }
                      }, r
                  }(u))
                  .framingLoadQueue = [], s.generator = void 0, c = s)) || c);
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/freeTrialModel.ts", ["cc"], (function (e) {
      "use strict";
      var i;
      return {
          setters: [function (e) {
              i = e.cclegacy
          }]
          , execute: function () {
              i._RF.push({}, "495f7wrGclB2qnoFQ0mM+re", "freeTrialModel", void 0);
              e("freeTrialModel", (function () {
                  this.key = void 0, this.detailId = void 0, this.date = void 0, this.num = void 0
              }));
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/fruitEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./MSG.ts", "./dataUtil.ts", "./entityUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./platformUtil.ts", "./MathUtils.ts", "./TransformUtil.ts", "./GameStoreDetail.ts", "./guidForm.ts", "./shakeTreeForm.ts", "./CustomDefine.ts", "./baseGameEntity.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var e, i, n, o, s, a, r, u, c, h, m, d, l, f, g, p, y, F, T, v, E, C, G, U, k, w, D;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              i = t.cclegacy, n = t._decorator, o = t.Vec3, s = t.Quat, a = t.Tween, r = t.view
          }, function (t) {
              u = t.BundlesConst
          }, function (t) {
              c = t.VIDEO_STATUS
          }, function (t) {
              h = t.default
          }, function (t) {
              m = t.entityUtil
          }, function (t) {
              d = t.httpUtil
          }, function (t) {
              l = t.memoryConfig
          }, function (t) {
              f = t.uiManager
          }, function (t) {
              g = t.platformUtil
          }, function (t) {
              p = t.default
          }, function (t) {
              y = t.CoordinateTool
          }, function (t) {
              F = t.GameStoreDetail
          }, function (t) {
              T = t.guidForm, v = t.FingerInfo, E = t.FingerType
          }, function (t) {
              C = t.shakeTreeForm
          }, function (t) {
              G = t.guideStep, U = t.formDefine
          }, function (t) {
              k = t.baseGameEntity, w = t.GameEntityType
          }, function (t) {
              D = t.GameData
          }]
          , execute: function () {
              var S;
              i._RF.push({}, "6c19cFS1CdLopw+FhRdRjEW", "fruitEntity", void 0);
              var A = n.ccclass;
              n.property, t("fruitEntity", A("fruitEntity")(S = function (t) {
                  function i() {
                      for (var e, i = arguments.length, n = new Array(i), o = 0; o < i; o++) n[o] = arguments[o];
                      return (e = t.call.apply(t, [this].concat(n)) || this)
                          .entityType = w.Fruit, e.time = 3, e.isGuid = !1, e.isVideo = !1, e
                  }
                  e(i, t);
                  var n = i.prototype;
                  return n.onEnable = function () {
                      t.prototype.onEnable.call(this)
                  }, n.init = function (t, e, i) {
                      var n = this;
                      void 0 === i && (i = !1), this.isVideo = i, this.node.children[1].active = i, this.isGuid = 1003 == l.instance.level && 1 == e && !h.testStep(G.getFruit);
                      var a = new o(p.randomFloatBetween(-.13, .13), t.y, t.z)
                          , r = new s;
                      s.fromEuler(r, 0, 0, p.randomNumBoth(-45, 45));
                      var u = this.node.name; - 1 != this.node.name.indexOf("yangmei") ? u = "yangmei" : -1 != this.node.name.indexOf("juzi") && (u = "juzi");
                      var c = F.getStoreByImg3DName(u);
                      this.setPosAndRotateAndAreaAndNum(a, r, o.ONE, "00", c.DetailId, 1), this.node.qtPositionY(0, this.time)
                          .call((function () {
                              n.missFruit()
                          }))
                          .start()
                  }, n.setPosAndRotateAndAreaAndNum = function (t, e, i, n, o, s) {
                      void 0 === s && (s = 1), this.node.setPosition(t), e && this.node.children[0].setRotation(e), i && this.node.setScale(i), this.area = n, this.detailId = o, this.num = s
                  }, n.triggerTouch = function () {
                      t.prototype.triggerTouch.call(this), t.prototype.customEntity.call(this), this.takeFruit()
                  }, n.takeFruit = function () {
                      var t = this;
                      this.isVideo ? (D.instance.pauseGame(), d.reportVideoStart("点击水果", "" + l.instance.level), g.currentPlatform.showVideo((function (e) {
                          switch (e) {
                          case c.END:
                              f.showToast("奖励翻倍!"), d.reportVideoFinish("点击水果", "" + l.instance.level), f.getUIForm(U.shakeTreeForm)
                                  .getComponent(C)
                                  .isVideo = !0, t.scheduleOnce((function () {
                                      D.instance.resumeGame(), t.trueTake()
                                  }), 1);
                              break;
                          case c.ERR:
                              D.instance.resumeGame(), t.trueTake();
                              break;
                          case c.NOTEND:
                              f.getUIForm(U.shakeTreeForm)
                                  .getComponent(C)
                                  .showDouble(), t.trueTake()
                          }
                      }))) : this.trueTake()
                  }, n.trueTake = function () {
                      D.instance.addFruitCacheItem(this.detailId, this.area, this.num, this);
                      var t = y.trans3DToUI(this.node, "Main Camera", "Canvas/Camera");
                      D.instance.gameForm.showAddOne(t), this.hideThis()
                  }, n.missFruit = function () {
                      this.hideThis()
                  }, n.hideThis = function () {
                      a.stopAllByTarget(this.node), m.hideEntity(this.node)
                  }, n.update = function () {
                      if (this.isGuid) {
                          var t = y.trans3DToUI(this.node, "Main Camera", "Canvas/Camera");
                          t.y < 3 * r.getVisibleSize()
                              .y / 4 && (this.isGuid = !1, m.showEntity("gameform/" + U.guidForm, f.getUIForm(U.gameForm), (function (e) {
                                  e.getComponent(T)
                                      .init(G.getFruit, new v(E.Point, [t]), !0)
                              }), u.form))
                      }
                  }, i
              }(k)) || S);
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/fruitObEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MathUtils.ts", "./baseGameEntity.ts", "./fruitEntity.ts"], (function (t) {
      "use strict";
      var i, n, e, r, o, u, s, a;
      return {
          setters: [function (t) {
              i = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy, e = t._decorator, r = t.Vec3, o = t.Quat
          }, function (t) {
              u = t.default
          }, function (t) {
              s = t.GameEntityType
          }, function (t) {
              a = t.fruitEntity
          }]
          , execute: function () {
              var c;
              n._RF.push({}, "0940dB0dgtMo5i9B9bizo+k", "fruitObEntity", void 0);
              var f = e.ccclass;
              e.property, t("fruitObEntity", f("fruitObEntity")(c = function (t) {
                  function n() {
                      for (var i, n = arguments.length, e = new Array(n), r = 0; r < n; r++) e[r] = arguments[r];
                      return (i = t.call.apply(t, [this].concat(e)) || this)
                          .entityType = s.FruitOb, i
                  }
                  i(n, t);
                  var e = n.prototype;
                  return e.takeFruit = function () {
                      this.hideThis()
                  }, e.init = function (t) {
                      var i = this
                          , n = new r(u.randomFloatBetween(-.15, .15), t.y, t.z)
                          , e = new o;
                      o.fromEuler(e, 0, 0, u.randomNumBoth(-45, 45)), this.setPosAndRotateAndAreaAndNum(n, e, r.ONE, "00", 0, 1), this.node.qtPositionY(0, this.time)
                          .call((function () {
                              i.missFruit()
                          }))
                          .start()
                  }, n
              }(a)) || c);
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/gameCameraLogic.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./entityUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./TransformUtil.ts", "./guidForm.ts", "./CustomDefine.ts", "./GameData.ts"], (function (e) {
      "use strict";
      var t, o, i, n, a, s, r, c, u, m, l, h, d, P, f, g, p, y, N, v, D, b, T, V;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, o = e.inheritsLoose, i = e.initializerDefineProperty, n = e.assertThisInitialized
          }, function (e) {
              a = e.cclegacy, s = e._decorator, r = e.Node, c = e.Vec2, u = e.Tween, m = e.tween, l = e.easing, h = e.Component
          }, function (e) {
              d = e.BundlesConst
          }, function (e) {
              P = e.default
          }, function (e) {
              f = e.entityUtil
          }, function (e) {
              g = e.memoryConfig
          }, function (e) {
              p = e.uiManager
          }, function (e) {
              y = e.CoordinateTool
          }, function (e) {
              N = e.guidForm, v = e.FingerInfo, D = e.FingerType
          }, function (e) {
              b = e.guideStep, T = e.formDefine
          }, function (e) {
              V = e.GameData
          }]
          , execute: function () {
              var A, C, F, w, B, R, I, x, L, U, E, _, k;
              e("CameraDirection", void 0), a._RF.push({}, "e88c2ekCeFAHqKhyRqfgeZb", "gameCameraLogic", void 0);
              var z, S = s.ccclass
                  , G = s.property;
              ! function (e) {
                  e[e.UP = 0] = "UP", e[e.DOWN = 1] = "DOWN", e[e.LEFT = 2] = "LEFT", e[e.RIGHT = 3] = "RIGHT"
              }(z || (z = e("CameraDirection", {})));
              e("gameCameraLogic", (A = S("gameCameraLogic"), C = G(r), F = G(r), w = G(r), B = G(r), R = G(r), A((L = t((x = function (e) {
                      function t() {
                          for (var t, o = arguments.length, a = new Array(o), s = 0; s < o; s++) a[s] = arguments[s];
                          return t = e.call.apply(e, [this].concat(a)) || this, i(t, "cameraPositionParent", L, n(t)), i(t, "showPosNode", U, n(t)), i(t, "takePosNode", E, n(t)), i(t, "dropPosNode", _, n(t)), i(t, "parPosNode", k, n(t)), t.isAni = !1, t.cameraPosVec2 = new c(0, 0), t.cameraPositionNode = null, t
                      }
                      o(t, e);
                      var a = t.prototype;
                      return a.onEnable = function () {}, a.init = function () {
                          this.isAni = !1;
                          var e = g.instance.level - 1e3;
                          this.cameraPositionNode = this.cameraPositionParent.getChildByName(e + "");
                          var t = this.cameraPositionNode.children[0];
                          this.cameraPosVec2.set(parseInt(t.name[0]), parseInt(t.name[1])), this.setPosAndRotation(t.position, t.rotation), V.instance.hasDirections.push("" + this.cameraPosVec2.x + this.cameraPosVec2.y)
                      }, a.update = function (e) {}, a.moveByDirection = function (e) {
                          if (this.isAni) return null;
                          var t = this.getPosNodeByDirection(e);
                          return t ? (this.moveToPosAndRotation(t.position, t.rotation, 2, (function () {
                              if (1002 == g.instance.level && !P.testStep(b.moveStone)) {
                                  var e = V.instance.findItemByAreaAndName("01", "mg_niuganjun");
                                  e && f.showEntity("gameform/" + T.guidForm, V.instance.gameForm.node, (function (t) {
                                      var o = y.trans3DToUI(e, "Main Camera", "Canvas/Camera");
                                      o.y += 50, o.x += 50, t.getComponent(N)
                                          .init(b.moveStone, new v(D.Point, [o]))
                                  }), d.form)
                              }
                          })), this.cameraPosVec2.x = parseInt(t.name[0]), this.cameraPosVec2.y = parseInt(t.name[1]), V.instance.hasDirections.push("" + this.cameraPosVec2.x + this.cameraPosVec2.y), this.judgePosition()) : null
                      }, a.getPosNodeByDirection = function (e) {
                          var t = "";
                          switch (e) {
                          case z.UP:
                              t = "" + this.cameraPosVec2.x + (this.cameraPosVec2.y + 1);
                              break;
                          case z.DOWN:
                              t = "" + this.cameraPosVec2.x + (this.cameraPosVec2.y - 1);
                              break;
                          case z.LEFT:
                              t = "" + (this.cameraPosVec2.x - 1) + this.cameraPosVec2.y;
                              break;
                          case z.RIGHT:
                              t = "" + (this.cameraPosVec2.x + 1) + this.cameraPosVec2.y
                          }
                          return this._getPosNodeByName(t)
                      }, a._getPosNodeByName = function (e) {
                          return this.cameraPositionNode.getChildByName(e)
                      }, a.moveToPosAndRotation = function (e, t, o, i) {
                          var n = this;
                          void 0 === o && (o = 2), void 0 === i && (i = null), this.isAni || (u.stopAllByTarget(this.node), V.instance.gameForm.node.pauseSystemEvents(!1), this.isAni = !0, m(this.node)
                              .to(o, {
                                  position: e
                                  , rotation: t
                              }, {
                                  easing: l.quadInOut
                              })
                              .delay(.1)
                              .call((function () {
                                  n.isAni = !1, V.instance.gameForm.node.resumeSystemEvents(!1), i && i()
                              }))
                              .start())
                      }, a.moveToNowPosAndRotation = function (e, t) {
                          void 0 === e && (e = 2), void 0 === t && (t = null);
                          var o = "" + this.cameraPosVec2.x + this.cameraPosVec2.y
                              , i = this._getPosNodeByName(o);
                          this.moveToPosAndRotation(i.position, i.rotation, e, t)
                      }, a.setToNowPosAndRotation = function () {
                          var e = "" + this.cameraPosVec2.x + this.cameraPosVec2.y
                              , t = this._getPosNodeByName(e);
                          this.setPosAndRotation(t.position, t.rotation)
                      }, a.setPosAndRotation = function (e, t) {
                          this.node.position = e, this.node.rotation = t
                      }, a.judgePosition = function () {
                          return {
                              isUp: !!this.getPosNodeByDirection(z.UP)
                              , isDown: !!this.getPosNodeByDirection(z.DOWN)
                              , isLeft: !!this.getPosNodeByDirection(z.LEFT)
                              , isRight: !!this.getPosNodeByDirection(z.RIGHT)
                          }
                      }, a.showFlashing = function () {
                          var e = this;
                          f.showEntity("particle/flashing", this.parPosNode, (function () {
                              p.getUIForm(T.takeTipsForm) || e.hideFlashing()
                          }), d.tdPrefabs)
                      }, a.hideFlashing = function () {
                          f.hideAllEntity("flashing")
                      }, t
                  }(h))
                  .prototype, "cameraPositionParent", [C], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), U = t(x.prototype, "showPosNode", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), E = t(x.prototype, "takePosNode", [w], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = t(x.prototype, "dropPosNode", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), k = t(x.prototype, "parPosNode", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), I = x)) || I));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/GameData.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioManager.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./resourceUtil.ts", "./uiManager.ts", "./ArrayUtil.ts", "./GameStoreDetail.ts", "./CustomDefine.ts", "./missionUtil.ts"], (function (t) {
      "use strict";
      var e, i, s, a, n, r, h, o, c, u, l, m, d, f, I, g, p, y, v, A;
      return {
          setters: [function (t) {
              e = t.createClass
          }, function (t) {
              i = t.cclegacy, s = t._decorator, a = t.TweenSystem, n = t.director
          }, function (t) {
              r = t.audioManager
          }, function (t) {
              h = t.default
          }, function (t) {
              o = t.entityUtil
          }, function (t) {
              c = t.default
          }, function (t) {
              u = t.httpUtil
          }, function (t) {
              l = t.memoryConfig
          }, function (t) {
              m = t.resourceUtil
          }, function (t) {
              d = t.uiManager
          }, function (t) {
              f = t.default
          }, function (t) {
              I = t.GameStoreDetail
          }, function (t) {
              g = t.formDefine, p = t.BundlesDefine, y = t.missionType, v = t.eventDefine
          }, function (t) {
              A = t.missionUtil
          }]
          , execute: function () {
              i._RF.push({}, "4248fqVdxVLF5I1Cz+SXy19", "GameData", void 0);
              s.ccclass, s.property;
              t("GameData", function () {
                      function t() {
                          this.physical = null, this.gameTargetList = null, this.direction = null, this.area = null, this.earning = null, this.find = null, this.guid = null, this.levelInfo = null, this.physicalNum = 0, this.areaInfo = {}, this.maxAreaInfo = {}, this.hasItems = [], this.cacheItems = [], this.boxItems = [], this.hasDirections = [], this.gameForm = null, this.putBoxForm = null, this.levelCtl = null, this.isShowPhysicalForm = !1, this.isStartGame = !1, this.isTreasure = !1, this.hasTreasure = !1, this.treasureProp = 0, this.actions = [], this.schedulers = [], this.isPause = !1
                      }
                      var i = t.prototype;
                      return i.resumeGame = function () {
                          this.isPause && (this.isPause = !1, this.actions.length > 0 && (a.instance.ActionManager.resumeTargets(this.actions), this.actions = []), this.schedulers.length > 0 && (n.getScheduler()
                              .resumeTargets(this.schedulers), this.schedulers = []))
                      }, i.pauseGame = function () {
                          this.isPause || (this.isPause = !0, this.actions = a.instance.ActionManager.pauseAllRunningActions(), this.schedulers = n.getScheduler()
                              .pauseAllTargets())
                      }, i.init = function (t) {
                          this.areaInfo = {}, this.maxAreaInfo = {}, this.cacheItems = [], this.boxItems = [], this.hasItems = [], this.hasDirections = [], this.physicalNum = 0, this.levelInfo = I.getStoreDetailByDetailId(l.instance.level), this.levelCtl = t, this.isShowPhysicalForm = !1, this.isStartGame = !0, this.isPause = !1, u.levelStart(l.instance.level.toString())
                      }, i.initGameForm = function (t) {
                          this.gameForm = t
                      }, i.initPutBoxForm = function (t) {
                          this.putBoxForm = t
                      }, i.addItemToArea = function (t, e, i) {
                          this.areaInfo[t] ? this.areaInfo[t] += e : this.areaInfo[t] = e, this.maxAreaInfo[t] = this.areaInfo[t], this.hasItems.push(i)
                      }, i.subItemFromArea = function (t, e, i) {
                          return void 0 === e && (e = 1), this.areaInfo[t] ? this.areaInfo[t] -= e : this.areaInfo[t] = 0, f.remove(this.hasItems, i), 0 == this.hasItems.length && this.gameForm.gameOver(!0), this.areaInfo[t]
                      }, i.initPhysical = function (t) {
                          this.physical = t;
                          var e = this.levelInfo.physical;
                          this.setPhysical(e)
                      }, i.setPhysical = function (e) {
                          t.instance.physicalNum = e, this.physical.setPhysical(e)
                      }, i.subPhysical = function (t, e) {
                          if (void 0 === e && (e = !0), !this.isShowPhysicalForm) return this.physicalNum - t <= 0 ? (d.pushUIForm("gameform/" + g.gamePhysicalForm, null, p.form), this.isShowPhysicalForm = !0, !1) : (this.physicalNum -= t, this.setPhysical(this.physicalNum), e && this.physical.showSubPhysicalNum(t), !0)
                      }, i.addPhysicalPer = function (t) {
                          var e = parseInt("" + this.levelInfo.physical * t)
                              , i = this.physicalNum + e;
                          i = i > this.levelInfo.physical ? this.levelInfo.physical : i, this.setPhysical(0), this.setPhysical(i)
                      }, i.resetPhysical = function () {
                          this.setPhysical(0), this.setPhysical(this.levelInfo.physical)
                      }, i.initGameTarget = function (t) {
                          this.gameTargetList = t, this.gameTargetList.setTreasure(this.levelInfo), this.gameTargetList.setTarget(this.levelInfo.levelTarget)
                      }, i.initDirection = function (t) {
                          this.direction = t
                      }, i.moveDirection = function (t) {
                          var e = this.direction.gameCameraLogic.getPosNodeByDirection(t)
                              .name;
                          if (!this.direction.gameCameraLogic.isAni && (-1 != this.hasDirections.findIndex((function (t) {
                                  return t == e
                              })) || this.subPhysical(500))) {
                              var i = this.direction.gameCameraLogic.moveByDirection(t);
                              i && this.direction.judgeDirectionBtn(i), this.updateAreaAndDirectionAndFind(), this.updateShowAreaItems()
                          }
                      }, i.initArea = function (t) {
                          this.area = t
                      }, i.initEarning = function (t) {
                          this.earning = t
                      }, i.initFind = function (t) {
                          this.find = t, this.updateAreaAndDirectionAndFind(), this.updateShowAreaItems()
                      }, i.findItemFromArea = function () {
                          var t = this
                              , e = this.hasItems.findIndex((function (e) {
                                  return e.area == "" + t.direction.gameCameraLogic.cameraPosVec2.x + t.direction.gameCameraLogic.cameraPosVec2.y
                              }));
                          this.find.showFinger(this.hasItems[e].node)
                      }, i.findItemByAreaAndName = function (t, e) {
                          var i = this.hasItems.findIndex((function (i) {
                              return i.area == t && i.node.name == e
                          }));
                          return -1 != i ? this.hasItems[i].node : null
                      }, i.addCacheItem = function (t, e, i, s) {
                          A.missionEnd(y.RECEIVE_TARGET, t), this.cacheItems.push({
                              detailId: t
                              , num: i
                          }), this.gameForm.showTakeIcon(I.getStoreDetailByDetailId(t)
                              .ImgLogo), this.subItemFromArea(e, i, s), this.updateTarget(t, i), this.updateAreaAndDirectionAndFind(), this.updateEarning()
                      }, i.subItem = function (t, e, i) {
                          this.subItemFromArea(t, e, i), this.updateAreaAndDirectionAndFind()
                      }, i.getCacheItemNum = function (t) {
                          var e = this.cacheItems.filter((function (e) {
                              return e.detailId == t
                          }));
                          if (e.length > 0) {
                              var i = 0;
                              return e.forEach((function (t) {
                                  i += t.num
                              })), i
                          }
                          return 0
                      }, i.doubleCacheItem = function (t) {
                          var e = this.cacheItems.filter((function (e) {
                              return e.detailId == t
                          }));
                          e.length > 0 && e.forEach((function (t) {
                              t.num *= 2
                          }))
                      }, i.getCacheItems = function () {
                          return this.cacheItems
                      }, i.addBoxItem = function (t, e) {
                          this.boxItems.push({
                              detailId: t
                              , num: e
                          }), this.refreshCoin()
                      }, i.subBoxItem = function (t, e) {
                          var i = this.boxItems.findIndex((function (i) {
                              return i.detailId == t && i.num == e
                          })); - 1 != i && (this.putBoxForm.addCard(this.boxItems[i].detailId, this.boxItems[i].num), this.boxItems.splice(i, 1), this.refreshCoin())
                      }, i.refreshCoin = function () {
                          for (var t = 0, e = 0; e < this.boxItems.length; e++) t += this.boxItems[e].num * I.getStoreDetailByDetailId(this.boxItems[e].detailId)
                              .Amount;
                          this.putBoxForm.setCoin(t)
                      }, i.getBoxItems = function () {
                          return this.boxItems
                      }, i.GameOver = function (t, e) {
                          void 0 === e && (e = !1), this.isStartGame && (this.isStartGame = !1, this.levelInfo.treasureProp > 0 && (this.isTreasure ? h.resetTreasureProp() : h.addTreasureProp()), l.instance.setKey("game_end_time", Date.now()), o.hideAllEntity("gameTarget"), o.hideAllEntity("taskTarget"), o.hideAllEntity("grass_cut"), o.hideAllEntity("grass_cut2"), r.stopMusic(), e || (t ? this.cacheItems.forEach((function (t) {
                              var e = I.getStoreDetailByDetailId(t.detailId);
                              h.addLocalDetailNum(e.CategoryId, e.DetailId, e.ChipNum, !0, t.num)
                          })) : this.boxItems.forEach((function (t) {
                              var e = I.getStoreDetailByDetailId(t.detailId);
                              h.addLocalDetailNum(e.CategoryId, e.DetailId, e.ChipNum, !0, t.num)
                          }))), h.saveLocalStore(), c.dispatchEvent(v.SHOW_LOADING, !0), u.levelEnd(l.instance.level.toString(), !0), m.loadScene("town", (function () {
                              c.dispatchEvent(v.SHOW_LOADING, {
                                  show: !1
                                  , callback: function () {
                                      console.log("过渡动画关闭")
                                  }
                              })
                          })))
                      }, i.addTreeCacheItem = function (t, e, i, s) {
                          this.subItemFromArea(e, i, s), this.updateAreaAndDirectionAndFind()
                      }, i.addFruitCacheItem = function (t, e, i, s) {
                          A.missionEnd(y.RECEIVE_TARGET, t);
                          var a = this.cacheItems.findIndex((function (e) {
                              return e.detailId == t && e.num < 8
                          })); - 1 != a ? this.cacheItems[a].num += i : this.cacheItems.push({
                              detailId: t
                              , num: i
                          }), this.updateTarget(t, i), this.updateEarning()
                      }, i.addRewardCacheItem = function (t, e) {
                          this.cacheItems.push({
                              detailId: t
                              , num: e
                          }), this.gameForm.showTakeIcon(I.getStoreDetailByDetailId(t)
                              .ImgLogo), this.updateTarget(t, e), this.updateEarning()
                      }, i.addTreasureCacheItem = function (t, e, i, s) {
                          this.hasTreasure = !0, this.addCacheItem(t, e, i, s)
                      }, i.updateTarget = function (t, e) {
                          this.gameTargetList.updateTarget(t, e)
                      }, i.updateAreaAndDirectionAndFind = function () {
                          var t = "" + this.direction.gameCameraLogic.cameraPosVec2.x + this.direction.gameCameraLogic.cameraPosVec2.y
                              , e = this.areaInfo[t];
                          this.maxAreaInfo[t];
                          0 == e ? (this.direction.setDirectionSP(!0), this.area.showClear(), this.find.setEnable(!1)) : (e < 2 ? this.area.setAreaLevel(2) : e < 3 ? this.area.setAreaLevel(1) : this.area.setAreaLevel(0), this.direction.setDirectionSP(!1), this.area.showLeft(), this.find.setEnable(!0))
                      }, i.updateShowAreaItems = function () {
                          var t = "" + this.direction.gameCameraLogic.cameraPosVec2.x + this.direction.gameCameraLogic.cameraPosVec2.y;
                          this.levelCtl.showAreaItems(t)
                      }, i.updateEarning = function () {
                          for (var t = 0, e = 0; e < this.cacheItems.length; e++) {
                              var i = this.cacheItems[e];
                              t += I.getStoreDetailByDetailId(i.detailId)
                                  .Amount * i.num
                          }
                          this.earning.setEarning(t / this.levelInfo.Amount)
                      }, i.showShakeOrDigToGameForm = function () {
                          this.gameForm.showShakeOrDig()
                      }, i.showAllGameForm = function () {
                          this.gameForm.showAll()
                      }, e(t, null, [{
                          key: "instance"
                          , get: function () {
                              return null == t._instance && (t._instance = new t), t._instance
                          }
                      }]), t
                  }())
                  ._instance = null, i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/gameEntry.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./settingUtil.ts", "./baseObject.ts", "./audioManager.ts", "./appConfig.ts", "./Const.ts", "./dataUtil.ts", "./Common.ts", "./eventUtil.ts", "./memoryConfig.ts", "./platformConf.ts", "./framingLoadingUtil.ts", "./Debug.ts"], (function (t) {
      "use strict";
      var e, n, i, o, a, r, s, u, c, f, l, p, m, g, v, d, y, h, b, C, D, T, E, w, _;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, r = t._decorator, s = t.AudioSource, u = t.Label, c = t.game, f = t.Game, l = t.log, p = t.director
          }, function (t) {
              m = t.settingUtil
          }, function (t) {
              g = t.BaseObject
          }, function (t) {
              v = t.audioManager
          }, function (t) {
              d = t.appConfig
          }, function (t) {
              y = t.AppConst, h = t.EventConst
          }, function (t) {
              b = t.default
          }, function (t) {
              C = t.default
          }, function (t) {
              D = t.default
          }, function (t) {
              T = t.memoryConfig
          }, function (t) {
              E = t.platformConf
          }, function (t) {
              w = t.framingLoadingUtil
          }, function (t) {
              _ = t.Debug
          }]
          , execute: function () {
              var I, N, O, A, S, L, U, k, H, M;
              a._RF.push({}, "15f5e+mScBAYpaAtCqytcPN", "gameEntry", void 0);
              var P = r.ccclass
                  , R = r.property;
              t("gameEntry", (I = P("gameEntry"), N = R({
                  type: s
                  , displayName: "音频源"
              }), O = R({
                  type: d
                  , displayName: "广告配置"
              }), A = R(u), I((U = e((L = function (t) {
                      function e() {
                          for (var e, n = arguments.length, a = new Array(n), r = 0; r < n; r++) a[r] = arguments[r];
                          return e = t.call.apply(t, [this].concat(a)) || this, i(e, "audioSource", U, o(e)), i(e, "platformConf", k, o(e)), i(e, "txtVersion", H, o(e)), i(e, "saveInterval", M, o(e)), e.nowTime = 0, e
                      }
                      n(e, t);
                      var a = e.prototype;
                      return a.onLoad = function () {
                          this.init(), T.instance.setKey("online_time", Date.now())
                      }, a.init = function () {
                          var t = this;
                          v.instance.init(this.audioSource);
                          var e = this.platformConf.find((function (t) {
                              return t.appConst == E.currentApp
                          }));
                          e || (e = this.platformConf.find((function (t) {
                              return t.appConst == y.WX
                          }))), E.config = e, this.txtVersion.string = "版本号 " + E.config.version, "" == b.getFrameworkTag() && (m.removeAll(), b.setFrameworkTag("" + Date.now())), C.isEmpty(b.getToken()) && (b.setIsNew(!0), b.setCoin(1e3), b.setToken(C.generateUUID()), b.saveCoin()), b.setPusaMoneyTime(Date.now()), c.on(f.EVENT_SHOW, (function () {
                              l("Game.EVENT_SHOW"), p.resume(), c.resume()
                          })), c.on(f.EVENT_HIDE, (function () {
                              l("Game.EVENT_HIDE"), b.setOutlineTime(Date.now()), t.saveData(), p.pause(), c.pause()
                          })), c.frameRate = 60, D.on(h.ON_PLATFORM_SHOW, this, (function () {})), D.on(h.ON_PLATFORM_HIDE, this, (function () {
                              b.setOutlineTime(Date.now()), _.log("退到后台，保存数据"), t.saveData()
                          })), this.saveInterval = T.instance.getIntKey("save_interval", 20), c.addPersistRootNode(this.node)
                      }, a.saveData = function () {
                          this.nowTime = 0, w.framingLoad(5, (function (t) {
                              0 == t && b.saveRack(), 1 == t && b.saveCoin(), 2 == t && b.saveAutoTaskGoods(), 3 == t && b.saveSales(), 4 == t && b.saveDropMoney()
                          })), _.log("返回到后台时，保存数据")
                      }, a.onEnable = function () {}, a.update = function (t) {
                          this.nowTime += t, this.nowTime >= this.saveInterval && this.saveData()
                      }, e
                  }(g))
                  .prototype, "audioSource", [N], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return []
                      }
                  }), k = e(L.prototype, "platformConf", [O], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), H = e(L.prototype, "txtVersion", [A], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), M = e(L.prototype, "saveInterval", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 20
                  }
              }), S = L)) || S));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/gameExitForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./entityUtil.ts", "./uiManager.ts", "./uiForm.ts", "./CustomDefine.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var n, i, e, o, r, a, u, l, s, c, b, d;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, i = t.inheritsLoose, e = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, u = t.Node
          }, function (t) {
              l = t.entityUtil
          }, function (t) {
              s = t.uiManager
          }, function (t) {
              c = t.UiForm
          }, function (t) {
              b = t.formDefine
          }, function (t) {
              d = t.GameData
          }]
          , execute: function () {
              var f, m, h, p, y, g, v, F, L, x, B, C, E;
              r._RF.push({}, "5b683bOYHZIKKULCJq+ydyy", "gameExitForm", void 0);
              var z = a.ccclass
                  , D = a.property;
              t("gameExitForm", (f = z("gameExitForm"), m = D(u), h = D(u), p = D(u), y = D(u), g = D(u), f((L = n((F = function (t) {
                      function n() {
                          for (var n, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                          return n = t.call.apply(t, [this].concat(r)) || this, e(n, "btnVideo", L, o(n)), e(n, "btnClose", x, o(n)), e(n, "ndLb1", B, o(n)), e(n, "ndLb2", C, o(n)), e(n, "ndLb3", E, o(n)), n.exitType = 1, n
                      }
                      i(n, t);
                      var r = n.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnVideo, this.onBtnExit), this.bindTouchEnd(this.btnClose, this.onBtnClose)
                      }, r.init = function (t) {
                          this.exitType = t, this.ndLb1.active = !1, this.ndLb2.active = !1, this.ndLb3.active = !1, this["ndLb" + t].active = !0
                      }, r.onBtnExit = function () {
                          1 == this.exitType ? this.onBtnVideo() : (this.onBtnClose(), d.instance.gameForm.trueGameOver())
                      }, r.onBtnVideo = function () {
                          this.onBtnClose(), l.hideAllEntity(b.guidForm), s.hideUIForm(b.gameForm), d.instance.GameOver(!1, !1)
                      }, r.onBtnClose = function () {
                          s.hideUIFormByNode(this.node)
                      }, n
                  }(c))
                  .prototype, "btnVideo", [m], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), x = n(F.prototype, "btnClose", [h], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), B = n(F.prototype, "ndLb1", [p], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), C = n(F.prototype, "ndLb2", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), E = n(F.prototype, "ndLb3", [g], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), v = F)) || v));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/gameFindForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./httpUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./uiForm.ts", "./platformUtil.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var n, e, i, o, r, a, s, c, l, u, f, m, d, h, p;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, e = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, s = t.Node
          }, function (t) {
              c = t.VIDEO_STATUS, l = t.VIDEO_MSG
          }, function (t) {
              u = t.httpUtil
          }, function (t) {
              f = t.memoryConfig
          }, function (t) {
              m = t.uiManager
          }, function (t) {
              d = t.UiForm
          }, function (t) {
              h = t.platformUtil
          }, function (t) {
              p = t.GameData
          }]
          , execute: function () {
              var b, F, g, y, v, D, V;
              r._RF.push({}, "e92ce9xsG1Fq7KLgjxaP5mm", "gameFindForm", void 0);
              var E = a.ccclass
                  , T = a.property;
              t("gameFindForm", (b = E("gameFindForm"), F = T(s), g = T(s), b((D = n((v = function (t) {
                      function n() {
                          for (var n, e = arguments.length, r = new Array(e), a = 0; a < e; a++) r[a] = arguments[a];
                          return n = t.call.apply(t, [this].concat(r)) || this, i(n, "btnVideo", D, o(n)), i(n, "btnClose", V, o(n)), n
                      }
                      e(n, t);
                      var r = n.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnVideo, this.onBtnVideo), this.bindTouchEnd(this.btnClose, this.onBtnClose)
                      }, r.onBtnVideo = function () {
                          var t = this;
                          u.reportVideoStart("查找山货", "" + f.instance.level), h.currentPlatform.showVideo((function (n) {
                              switch (n) {
                              case c.END:
                                  p.instance.findItemFromArea(), u.reportVideoFinish("查找山货", "" + f.instance.level), t.onBtnClose();
                                  break;
                              case c.ERR:
                                  m.showToast(l.ERR);
                                  break;
                              case c.NOTEND:
                                  m.showToast(l.NOTEND)
                              }
                          }))
                      }, r.onBtnClose = function () {
                          m.hideUIFormByNode(this.node)
                      }, n
                  }(d))
                  .prototype, "btnVideo", [F], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), V = n(v.prototype, "btnClose", [g], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), y = v)) || y));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/gameForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./audioManager.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./memoryConfig.ts", "./resourceUtil.ts", "./uiManager.ts", "./uiForm.ts", "./AdHorizontal.ts", "./AdVertical.ts", "./CustomOptions.ts", "./platformUtil.ts", "./TransformUtil.ts", "./CustomDefine.ts", "./addOne.ts", "./area.ts", "./baseGameEntity.ts", "./direction.ts", "./earning.ts", "./findItem.ts", "./GameData.ts", "./gameTargetList.ts", "./physical.ts", "./gameExitForm.ts", "./guidForm.ts", "./putBoxForm.ts", "./takeIcon.ts"], (function (t) {
      "use strict";
      var e, n, i, a, o, r, s, u, c, l, m, f, d, g, h, p, y, v, C, T, b, w, F, A, E, O, G, D, I, B, U, L, R, S, z, M, _, P, N, k, H, x, j, V, W, q, J, K, Q, X, Y;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, a = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, r = t._decorator, s = t.Node, u = t.geometry, c = t.Prefab, l = t.PhysicsSystem, m = t.find, f = t.Camera, d = t.Vec2, g = t.Animation
          }, function (t) {
              h = t.BundlesConst
          }, function (t) {
              p = t.audioManager
          }, function (t) {
              y = t.default
          }, function (t) {
              v = t.entityUtil
          }, function (t) {
              C = t.default
          }, function (t) {
              T = t.memoryConfig
          }, function (t) {
              b = t.resourceUtil
          }, function (t) {
              w = t.uiManager
          }, function (t) {
              F = t.UiForm
          }, function (t) {
              A = t.AdHorizontal
          }, function (t) {
              E = t.AdVertical
          }, function (t) {
              O = t.CustomOptions
          }, function (t) {
              G = t.platformUtil
          }, function (t) {
              D = t.CoordinateTool
          }, function (t) {
              I = t.pathDefine, B = t.entityDefine, U = t.guideStep, L = t.formDefine, R = t.eventDefine, S = t.BundlesDefine
          }, function (t) {
              z = t.addOne
          }, function (t) {
              M = t.area
          }, function (t) {
              _ = t.baseGameEntity, P = t.GameEntityState, N = t.GameEntityType
          }, function (t) {
              k = t.direction
          }, function (t) {
              H = t.earning
          }, function (t) {
              x = t.findItem
          }, function (t) {
              j = t.GameData
          }, function (t) {
              V = t.gameTargetList
          }, function (t) {
              W = t.physical
          }, function (t) {
              q = t.gameExitForm
          }, function (t) {
              J = t.guidForm, K = t.FingerInfo, Q = t.FingerType
          }, function (t) {
              X = t.putBoxForm
          }, function (t) {
              Y = t.takeIcon
          }]
          , execute: function () {
              var Z, $, tt, et, nt, it, at, ot, rt, st, ut, ct, lt, mt, ft, dt, gt, ht, pt, yt, vt, Ct, Tt;
              o._RF.push({}, "6f4e10nnHBNcoM/8A4nTWun", "gameForm", void 0);
              var bt = r.ccclass
                  , wt = r.property;
              t("gameForm", (Z = bt("gameForm"), $ = wt(s), tt = wt(s), et = wt(s), nt = wt(s), it = wt(W), at = wt(V), ot = wt(k), rt = wt(M), st = wt(H), ut = wt(x), Z((mt = e((lt = function (t) {
                      function e() {
                          for (var e, n = arguments.length, o = new Array(n), r = 0; r < n; r++) o[r] = arguments[r];
                          return e = t.call.apply(t, [this].concat(o)) || this, i(e, "btnEnd", mt, a(e)), i(e, "ndClearAni", ft, a(e)), i(e, "topLeft", dt, a(e)), i(e, "topRight", gt, a(e)), i(e, "physical", ht, a(e)), i(e, "gameTargetList", pt, a(e)), i(e, "direction", yt, a(e)), i(e, "area", vt, a(e)), i(e, "earning", Ct, a(e)), i(e, "find", Tt, a(e)), e.gameCamera = null, e.uiCamera = null, e.outRay = new u.Ray, e.isGameOver = !1, e
                      }
                      n(e, t);
                      var o = e.prototype;
                      return o.start = function () {
                          this.node.on(s.EventType.TOUCH_END, this.onGameFormClick, this), this.bindTouchEnd(this.btnEnd, this.onBtnEnd), this.scheduleOnce((function () {
                                  b.preloadScene("town", null, null, h.town), b.preloadBundleDir(h.form, c, I.form_townform), b.preloadBundleDir(h.form, c, I.form_prefabs_character), b.preloadBundleDir(h.town, c, B.customerManager)
                              }), 4), //!预加载putBoxCard
                              this.node.on(s.EventType.TOUCH_START, (function (t) {
                                  j.instance.isStartGame && j.instance.guid && j.instance.guid.onClose()
                              }), this)
                      }, o.onBtnEnd = function () {
                          this.isGameOver || this.gameOver()
                      }, o.onGameFormClick = function (t) {
                          this.isGameOver || (this.gameTargetList.hasShowTips() && "gameTarget" != t.target.name ? this.gameTargetList.closeTips() : this.onRayCast(t))
                      }, o.onRayCast = function (t) {
                          var e = t.touch.getLocation();
                          if (this.gameCamera.screenPointToRay(e.x, e.y, this.outRay), this.find.isFinger && this.find.hideFinger(), l.instance.raycastClosest(this.outRay)) {
                              var n = l.instance.raycastClosestResult;
                              console.log("raycastClosestResult:" + n.collider.node.name);
                              var i = n.collider.node.getComponent(_);
                              i.state == P.Init && (i.entityType != N.Tree && i.entityType != N.Fruit ? j.instance.subPhysical(i.physicalCost) && i.triggerTouch() : i.triggerTouch())
                          }
                      }, o.onEnable = function () {
                          var t = this;
                          p.playMusic("BGM"), console.log("gameForm onLoad"), this.gameCamera = m("Main Camera")
                              .getComponent(f), this.uiCamera = m("Canvas/Camera")
                              .getComponent(f), this.node.pauseSystemEvents(!1), j.instance.initGameForm(this), this.physical.init(), this.gameTargetList.init((function () {
                                  if (1001 == T.instance.level && !y.testStep(U.getGoods)) {
                                      var e = j.instance.findItemByAreaAndName("00", "mg_jiyoujun");
                                      e && v.showEntity("gameform/" + L.guidForm, t.node, (function (t) {
                                          var n = D.trans3DToUI(e, "Main Camera", "Canvas/Camera");
                                          n.y += 50, t.getComponent(J)
                                              .init(U.getGoods, new K(Q.Point, [n]))
                                      }), h.form)
                                  }
                                  if (1003 == T.instance.level && !y.testStep(U.findTree)) {
                                      var n = j.instance.findItemByAreaAndName("00", "yaoshu");
                                      n && v.showEntity("gameform/" + L.guidForm, t.node, (function (t) {
                                          var e = D.trans3DToUI(n, "Main Camera", "Canvas/Camera");
                                          e.y += 150, t.getComponent(J)
                                              .init(U.findTree, new K(Q.Point, [e]))
                                      }), h.form)
                                  }
                                  if (1005 == T.instance.level && !y.testStep(U.findGinseng)) {
                                      var i = j.instance.findItemByAreaAndName("00", "renshen_bn");
                                      i && v.showEntity("gameform/" + L.guidForm, t.node, (function (t) {
                                          var e = D.trans3DToUI(i, "Main Camera", "Canvas/Camera");
                                          e.y += 150, t.getComponent(J)
                                              .init(U.findGinseng, new K(Q.Point, [e]))
                                      }), h.form)
                                  }
                                  t.node.resumeSystemEvents(!1)
                              })), this.direction.init(), this.area.init(), this.earning.init(), this.find.init(), this.showAll(), this.isGameOver = !1, this.ndClearAni.active = !1, C.dispatchEvent(R.SHOW_LOADING, {
                                  show: !1
                                  , callback: function () {
                                      console.log("过渡动画关闭")
                                  }
                              })
                      }, o.onDisable = function () {
                          C.offAll(this), G.currentPlatform.hideCustomAd()
                      }, o.showShakeOrDig = function () {
                          this.direction.node.active = !1, this.topRight.active = !1, this.gameTargetList.node.active = !1, this.area.node.active = !1, G.currentPlatform.hideCustomAd()
                      }, o.showAll = function () {
                          this.direction.node.active = !0, this.topRight.active = !0, this.gameTargetList.node.active = !0, this.area.node.active = !0;
                          var t = O.New(A.CENTER, E.BOTTOM, new d(0, 0), null, null);
                          G.currentPlatform.showCustomAd(t, 3, (function () {}))
                      }, o.showTakeIcon = function (t) {
                          v.showEntity("takeIcon", this.btnEnd, (function (e) {
                              e.getComponent(Y)
                                  .init(t)
                          }), h.form)
                      }, o.gameOver = function (t) {
                          void 0 === t && (t = !1), this.isGameOver || (this.isGameOver = !0, t ? (p.playAudio("finish"), this.ndClearAni.active = !0, this.ndClearAni.getComponent(g)
                              .play(), this.scheduleOnce(this.trueGameOver, 1.2)) : this.gameOverHandler())
                      }, o.gameOverHandler = function () {
                          var t = j.instance.getCacheItems();
                          if (t.length > 0 && j.instance.gameTargetList.isComplete && (!j.instance.isTreasure || j.instance.isTreasure && j.instance.hasTreasure)) this.trueGameOver();
                          else {
                              this.isGameOver = !1;
                              var e = 1;
                              e = 0 == t.length ? 1 : j.instance.isTreasure && !j.instance.hasTreasure ? 3 : 2, w.pushUIForm(I.form_gameform + L.gameExitForm, (function (t) {
                                  t.getComponent(q)
                                      .init(e)
                              }), S.form)
                          }
                      }, o.trueGameOver = function () {
                          v.hideAllEntity(L.guidForm);
                          var t = j.instance.getCacheItems();
                          w.hideUIFormByNode(this.node), w.pushUIForm(I.form_gameform + L.putBoxForm, (function (e) {
                              e.getComponent(X)
                                  .init(t)
                          }), S.form)
                      }, o.showAddOne = function (t) {
                          v.showEntity("addOne", this.node, (function (e) {
                              e.getComponent(z)
                                  .init(t)
                          }), h.form)
                      }, e
                  }(F))
                  .prototype, "btnEnd", [$], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), ft = e(lt.prototype, "ndClearAni", [tt], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), dt = e(lt.prototype, "topLeft", [et], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), gt = e(lt.prototype, "topRight", [nt], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ht = e(lt.prototype, "physical", [it], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), pt = e(lt.prototype, "gameTargetList", [at], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), yt = e(lt.prototype, "direction", [ot], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), vt = e(lt.prototype, "area", [rt], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Ct = e(lt.prototype, "earning", [st], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Tt = e(lt.prototype, "find", [ut], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ct = lt)) || ct));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/gamePhysicalForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./httpUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./uiForm.ts", "./platformUtil.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var n, e, i, o, r, s, a, c, l, u, h, f, p, m, d;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, e = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, s = t._decorator, a = t.Node
          }, function (t) {
              c = t.VIDEO_STATUS, l = t.VIDEO_MSG
          }, function (t) {
              u = t.httpUtil
          }, function (t) {
              h = t.memoryConfig
          }, function (t) {
              f = t.uiManager
          }, function (t) {
              p = t.UiForm
          }, function (t) {
              m = t.platformUtil
          }, function (t) {
              d = t.GameData
          }]
          , execute: function () {
              var y, b, g, F, v, D, E;
              r._RF.push({}, "73333xEbyFGJqxLp+7Lj+Lg", "gamePhysicalForm", void 0);
              var V = s.ccclass
                  , P = s.property;
              t("gamePhysicalForm", (y = V("gamePhysicalForm"), b = P(a), g = P(a), y((D = n((v = function (t) {
                      function n() {
                          for (var n, e = arguments.length, r = new Array(e), s = 0; s < e; s++) r[s] = arguments[s];
                          return n = t.call.apply(t, [this].concat(r)) || this, i(n, "btnVideo", D, o(n)), i(n, "btnClose", E, o(n)), n
                      }
                      e(n, t);
                      var r = n.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnVideo, this.onBtnVideo), this.bindTouchEnd(this.btnClose, this.onBtnClose)
                      }, r.onBtnVideo = function () {
                          var t = this;
                          u.reportVideoStart("增加体力", "" + h.instance.level), m.currentPlatform.showVideo((function (n) {
                              switch (n) {
                              case c.END:
                                  d.instance.resetPhysical(), u.reportVideoFinish("增加体力", "" + h.instance.level), t.onBtnClose();
                                  break;
                              case c.ERR:
                                  f.showToast(l.ERR);
                                  break;
                              case c.NOTEND:
                                  f.showToast(l.NOTEND)
                              }
                          }))
                      }, r.onBtnClose = function () {
                          f.hideUIFormByNode(this.node), d.instance.isShowPhysicalForm = !1
                      }, n
                  }(p))
                  .prototype, "btnVideo", [b], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), E = n(v.prototype, "btnClose", [g], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), F = v)) || F));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/gameState.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./eventUtil.ts", "./dataUtil.ts", "./uiManager.ts", "./httpUtil.ts", "./audioManager.ts", "./Const.ts", "./resourceUtil.ts", "./CustomDefine.ts", "./memoryConfig.ts", "./GameStoreDetail.ts", "./Debug.ts", "./homeForm.ts"], (function (t) {
      "use strict";
      var e, n, i, a, s, o, r, u, m, c, h, f, l, g, p, d, S, _, E, v, M, A;
      return {
          setters: [function (t) {
              e = t.createClass
          }, function (t) {
              n = t.cclegacy, i = t._decorator, a = t.director, s = t.Camera
          }, function (t) {
              o = t.default
          }, function (t) {
              r = t.default
          }, function (t) {
              u = t.uiManager
          }, function (t) {
              m = t.httpUtil
          }, function (t) {
              c = t.audioManager
          }, function (t) {
              h = t.FormConst, f = t.BundlesConst, l = t.EventConst
          }, function (t) {
              g = t.resourceUtil
          }, function (t) {
              p = t.eventDefine, d = t.pathDefine, S = t.BundlesDefine, _ = t.formDefine
          }, function (t) {
              E = t.memoryConfig
          }, function (t) {
              v = t.GameStoreDetail
          }, function (t) {
              M = t.Debug
          }, function (t) {
              A = t.homeForm
          }]
          , execute: function () {
              var y, G;
              n._RF.push({}, "4e7c0xnQzpNAp+oW3/5/nqo", "gameState", void 0);
              var T = i.ccclass;
              i.property, t("gameState", T("gameState")(((G = function () {
                      function t() {
                          this.gamePause = !0, this.gameStarted = !1, this.respawnNum = 0, this.gameCoin = 0, this.gameScore = 0, this.multiple = 1, this.canRespawnNum = 0, this.player = void 0, this._cameraNode = null, o.on(l.GAME_STATE_START, this, this.startGame), o.on(l.GAME_STATE_OVER, this, this.gameOver), o.on(l.GAME_STATE_RESPAWN, this, this.respawn), o.on(l.GAME_STATE_RESUME, this, this.resumeGame), o.on(l.GAME_STATE_PAUSE, this, this.pauseGame), o.on(l.GAME_STATE_NEXT, this, this.nextGame), o.on(l.ON_PLATFORM_HIDE, this, this.stopMusic), o.on(l.ON_PLATFORM_SHOW, this, this.playBgMusic)
                      }
                      var n = t.prototype;
                      return n.onEnable = function () {
                          t._instance = this
                      }, n.playBgMusic = function () {
                          if (this.gameStarted) {
                              this.stopMusic();
                              var t = v.getStoreDetailByDetailId(E.instance.level);
                              M.log("levelInfo", t), 2004 == t.ParentId ? c.playMusic("BGM2") : c.playMusic("BGM")
                          }
                      }, n.stopMusic = function () {
                          c.stopMusic()
                      }, n.startGame = function (t) {
                          E.instance.setKey("isYjyScene", 0), this.gamePause = !1, this.gameStarted = !0, this.respawnNum = 0, this.gameCoin = 0, c.stopMusic(), u.hideUIForm(h.homeForm), m.startGame(r.getCurrentLevel() + ""), o.dispatchEvent(p.SHOW_LOADING, !0), g.preloadScene(t, (function (t, e, n) {}), (function (e) {
                              E.instance.setKey("game_start_time", Date.now()), g.loadScene(t)
                          }), f.tdPrefabs)
                      }, n.pauseGame = function () {
                          this.gamePause = !0
                      }, n.resumeGame = function () {
                          this.gamePause = !1
                      }, n.gameOver = function (t) {
                          this.gameStarted && (this.gameStarted = !1, this.vibrate(!0), o.dispatchEvent(l.GAME_STATE_PAUSE, null), c.stopMusic(), m.endGame(r.getCurrentLevel() + "", t.isWin), t.isWin ? c.playAudio("win") : c.playAudio("fail"), u.hideUIForm(h.gameForm), u.pushUIForm(h.EndForm, (function () {})))
                      }, n.nextGame = function (t) {
                          this.gameStarted || (this.gameCoin = 0, this.canRespawnNum = 0, m.endGame(r.getCurrentLevel() + "", !0), o.sendEventImmediately(l.GAME_STATE_RESET, null), u.pushUIForm(d.form_townform + h.homeForm, (function (t) {
                              t.getComponent(A)
                                  .init()
                          }), S.form))
                      }, n.respawn = function (t) {
                          this.gameStarted && (this.gamePause || (this.respawnNum++, this.gamePause = !0, u.pushUIForm(h.RespawnForm, t)))
                      }, n.vibrate = function (t) {}, e(t, [{
                          key: "townCamera"
                          , get: function () {
                              return a.getScene()
                                  .getComponentInChildren(s)
                          }
                      }, {
                          key: "townUI"
                          , get: function () {
                              var t = u.getUIForm(_.homeForm);
                              if (t && t.parent) {
                                  var e = t.getChildByName("townUI");
                                  if (e && e.parent) return e
                              }
                              var n = u.getUIForm(_.yjyForm);
                              if (n && n.parent) {
                                  var i = n.getChildByName("cavernUI");
                                  if (i && i.parent) return i
                              }
                              return null
                          }
                      }], [{
                          key: "instance"
                          , get: function () {
                              return this._instance || (this._instance = new t), this._instance
                          }
                      }]), t
                  }())
                  ._instance = void 0, y = G)) || y);
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/GameStore.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./sheetManager.ts", "./Sheets.ts"], (function (e) {
      "use strict";
      var t, n, r, o;
      return {
          setters: [function (e) {
              t = e.inheritsLoose
          }, function (e) {
              n = e.cclegacy
          }, function (e) {
              r = e.SheetManager
          }, function (e) {
              o = e.GameStoreBase
          }]
          , execute: function () {
              n._RF.push({}, "63911/Qm/9ITYQUmS6sMquD", "GameStore", void 0);
              e("GameStore", function (e) {
                  function n() {
                      return e.apply(this, arguments) || this
                  }
                  return t(n, e), n.get = function (e) {
                      return this[e] ? this[e] : r.get("GameStore", e, n)
                  }, n.getAll = function () {
                      return r.getAllSheets("GameStore", n)
                  }, n.getStoreByLevel = function (e) {
                      for (var t = this.getAll(), n = 0; n < t.length; n++)
                          if (t[n].UnlockLevel == e + 1) return t[n]
                  }, n
              }(o));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/GameStoreDetail.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./sheetManager.ts", "./Sheets.ts"], (function (t) {
      "use strict";
      var e, r, n, i;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              r = t.cclegacy
          }, function (t) {
              n = t.SheetManager
          }, function (t) {
              i = t.GameStoreDetailBase
          }]
          , execute: function () {
              r._RF.push({}, "3cd64OOhNBDMpuy4gnA+Mar", "GameStoreDetail", void 0);
              t("GameStoreDetail", function (t) {
                  function r() {
                      return t.apply(this, arguments) || this
                  }
                  return e(r, t), r.get = function (t) {
                      return this[t] ? this[t] : n.get("GameStoreDetail", t, r)
                  }, r.getAll = function () {
                      return n.getAllSheets("GameStoreDetail", r)
                  }, r.getStoreDetailByDetailId = function (t) {
                      for (var e = this.getAll(), r = 0; r < e.length; r++)
                          if (e[r].DetailId == t) return e[r]
                  }, r.getDetailListByDetailId = function () {
                      for (var t = this.getAll(), e = [], r = arguments.length, n = new Array(r), i = 0; i < r; i++) n[i] = arguments[i];
                      for (var a = 0; a < t.length; a++) n.indexOf(t[a].DetailId) > -1 && e.push(t[a]);
                      return e
                  }, r.getStoreByCategoryId = function () {
                      for (var t = this.getAll(), e = [], r = arguments.length, n = new Array(r), i = 0; i < r; i++) n[i] = arguments[i];
                      for (var a = 0; a < t.length; a++) n.indexOf(t[a].CategoryId) > -1 && e.push(t[a]);
                      return e
                  }, r.getStoreByCategoryIdAndParentId = function (t) {
                      for (var e = this.getAll(), r = [], n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), a = 1; a < n; a++) i[a - 1] = arguments[a];
                      for (var o = 0; o < e.length; o++) t == e[o].CategoryId && i.indexOf(e[o].ParentId) > -1 && r.push(e[o]);
                      return r
                  }, r.getRackNum = function (t, e) {
                      var r = this.getStoreDetailByDetailId(t);
                      return r.StoreNum + r.UpStoreNum * e
                  }, r.getStoreByImg3DName = function (t) {
                      for (var e = this.getAll(), r = 0; r < e.length; r++)
                          if (e[r].Img3DName == t) return e[r];
                      return null
                  }, r
              }(i));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/gameTarget.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./GameStoreDetail.ts"], (function (i) {
      "use strict";
      var t, e, n, r, a, s, o, l, u, c, p;
      return {
          setters: [function (i) {
              t = i.applyDecoratedDescriptor, e = i.inheritsLoose, n = i.initializerDefineProperty, r = i.assertThisInitialized
          }, function (i) {
              a = i.cclegacy, s = i._decorator, o = i.Node, l = i.Label, u = i.Vec3
          }, function (i) {
              c = i.BaseObject
          }, function (i) {
              p = i.GameStoreDetail
          }]
          , execute: function () {
              var h, b, f, g, m, d, T, v, y, w, z, N, S, D, F, I, P;
              a._RF.push({}, "2c12734yZ5P7aZ2rm1+cr1L", "gameTarget", void 0);
              var L = s.ccclass
                  , _ = s.property;
              i("gameTarget", (h = L("gameTarget"), b = _(o), f = _(o), g = _(o), m = _(o), d = _(l), T = _(l), v = _(l), h((z = t((w = function (i) {
                      function t() {
                          for (var t, e = arguments.length, a = new Array(e), s = 0; s < e; s++) a[s] = arguments[s];
                          return t = i.call.apply(i, [this].concat(a)) || this, n(t, "iconQues", z, r(t)), n(t, "iconStar", N, r(t)), n(t, "iconYes", S, r(t)), n(t, "ndTips", D, r(t)), n(t, "lbTips", F, r(t)), n(t, "lbTarget", I, r(t)), n(t, "lbNum", P, r(t)), t.detailId = 0, t.num = 0, t.isFinish = !1, t
                      }
                      e(t, i);
                      var a = t.prototype;
                      return a.start = function () {
                          this.bindTouchEnd(this.node, this.openTips)
                      }, a.openTips = function (i) {
                          this.ndTips.active = !this.ndTips.active
                      }, a.closeTips = function () {
                          this.ndTips.active = !1
                      }, a.init = function () {
                          this.ndTips.active = !1, this.isFinish = !1, this.isCollectTarget(!1)
                      }, a.setTarget = function (i, t) {
                          this.detailId = i;
                          var e = p.getStoreDetailByDetailId(i);
                          this.lbTarget.string = e.ProductName, this.lbTips.string = e.tips, this.setNum(t)
                      }, a.updateTarget = function (i, t) {
                          if (i == this.detailId && this.num > 0) {
                              var e = this.num - t;
                              this.setNum(e), this.isCollectTarget(this.num <= 0)
                          }
                      }, a.setNum = function (i) {
                          this.num = i, this.lbNum.string = "x" + i
                      }, a.isCollectTarget = function (i) {
                          i && !this.isFinish && (this.node.qtPunchScale(new u(.2, .2, .2), .2, {
                                  vibrato: 1
                                  , elasticity: 0
                              })
                              .start(), this.isFinish = !0), this.lbNum.node.active = !i, this.iconQues.active = !i, this.iconStar.active = i, this.iconYes.active = i
                      }, t
                  }(c))
                  .prototype, "iconQues", [b], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), N = t(w.prototype, "iconStar", [f], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), S = t(w.prototype, "iconYes", [g], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), D = t(w.prototype, "ndTips", [m], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), F = t(w.prototype, "lbTips", [d], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), I = t(w.prototype, "lbTarget", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), P = t(w.prototype, "lbNum", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), y = w)) || y));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/gameTargetList.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./entityUtil.ts", "./CustomDefine.ts", "./missionUtil.ts", "./GameData.ts", "./gameTarget.ts", "./taskTarget.ts"], (function (t) {
      "use strict";
      var e, i, n, a, r, s, o, l, u, c, g, f, p, h, m, d, T, b, L, v, y, k;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, a = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, s = t._decorator, o = t.Layout, l = t.Node, u = t.Label, c = t.tween, g = t.Vec3, f = t.easing, p = t.Component
          }, function (t) {
              h = t.CategoryConst
          }, function (t) {
              m = t.default
          }, function (t) {
              d = t.entityUtil
          }, function (t) {
              T = t.missionType, b = t.BundlesDefine
          }, function (t) {
              L = t.missionUtil
          }, function (t) {
              v = t.GameData
          }, function (t) {
              y = t.gameTarget
          }, function (t) {
              k = t.taskTarget
          }]
          , execute: function () {
              var C, w, I, P, D, z, U, M, N, S, _, x, A;
              r._RF.push({}, "c613ff0SrtJC4NbiUw+Pp55", "gameTargetList", void 0);
              var E = s.ccclass
                  , G = s.property;
              t("gameTargetList", (C = E("gameTargetList"), w = G(o), I = G(o), P = G(l), D = G(u), z = G(l), C((N = e((M = function (t) {
                      function e() {
                          for (var e, i = arguments.length, r = new Array(i), s = 0; s < i; s++) r[s] = arguments[s];
                          return e = t.call.apply(t, [this].concat(r)) || this, n(e, "lyList", N, a(e)), n(e, "taskList", S, a(e)), n(e, "ndTask", _, a(e)), n(e, "lbTreasure", x, a(e)), n(e, "ndTreasure", A, a(e)), e.targetList = [], e.callback = null, e.isComplete = !1, e
                      }
                      i(e, t);
                      var r = e.prototype;
                      return r.init = function (t) {
                          void 0 === t && (t = null), this.targetList = [], v.instance.initGameTarget(this), this.callback = t, this.isComplete = !1
                      }, r.setTreasure = function (t) {
                          if (t.treasureProp > 0) {
                              var e = 100 * (t.treasureProp + m.getTreasureProp());
                              e = e > 100 ? 100 : Math.floor(e), e = Math.max(e, v.instance.treasureProp), this.lbTreasure.string = v.instance.treasureProp + "%", this.ndTreasure.active = !0
                          } else this.ndTreasure.active = !1
                      }, r.setTarget = function (t) {
                          for (var e = this, i = function (i) {
                                  var n = t[i];
                                  console.log(n), d.showEntity("gameform/gameTarget", e.lyList.node, (function (t) {
                                      var i = t.getComponent(y);
                                      i.init(), i.setTarget(n.detailId, n.number), t.setSiblingIndex(0), e.targetList.push(i)
                                  }), b.form), d.showEntity("gameform/taskTarget", e.taskList.node, (function (t) {
                                      t.getComponent(k)
                                          .init(n.detailId, n.number), t.setSiblingIndex(0)
                                  }), b.form)
                              }, n = 0; n < t.length; n++) i(n);
                          this.ndTask.setPosition(0, 100), this.ndTask.active = !0, c(this.ndTask)
                              .delay(2)
                              .to(.6, {
                                  position: new g(0, 375, 0)
                              }, {
                                  easing: f.quadInOut
                              })
                              .delay(.5)
                              .call((function () {
                                  e.ndTask.active = !1, e.callback && e.callback()
                              }))
                              .start()
                      }, r.updateTarget = function (t, e) {
                          if (!this.isComplete) {
                              for (var i = !0, n = 0; n < this.targetList.length; n++) {
                                  var a = this.targetList[n];
                                  a.updateTarget(t, e), a.isFinish || (i = !1)
                              }
                              console.log("this.targetList", this.targetList), i && (this.isComplete = !0, L.missionEnd(T.MAP_TARGET, v.instance.levelInfo.DetailId), m.addLocalDetailNum(h.MAP, v.instance.levelInfo.DetailId, v.instance.levelInfo.ChipNum, !0, v.instance.levelInfo.ChipNum, !0))
                          }
                      }, r.hasShowTips = function () {
                          for (var t = !1, e = 0; e < this.targetList.length; e++) {
                              t = this.targetList[e].ndTips.active
                          }
                          return t
                      }, r.closeTips = function () {
                          for (var t = 0; t < this.targetList.length; t++) {
                              this.targetList[t].closeTips()
                          }
                      }, e
                  }(p))
                  .prototype, "lyList", [w], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), S = e(M.prototype, "taskList", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = e(M.prototype, "ndTask", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), x = e(M.prototype, "lbTreasure", [D], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), A = e(M.prototype, "ndTreasure", [z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), U = M)) || U));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/gameTreasureForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./dataUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./uiForm.ts", "./platformUtil.ts"], (function (t) {
      "use strict";
      var n, e, i, o, r, a, c, s, l, u, h, f, d, p, m;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, e = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, c = t.Node
          }, function (t) {
              s = t.VIDEO_STATUS, l = t.VIDEO_MSG
          }, function (t) {
              u = t.default
          }, function (t) {
              h = t.httpUtil
          }, function (t) {
              f = t.memoryConfig
          }, function (t) {
              d = t.uiManager
          }, function (t) {
              p = t.UiForm
          }, function (t) {
              m = t.platformUtil
          }]
          , execute: function () {
              var b, C, T, g, k, y, V;
              r._RF.push({}, "21412OseVhCHoIEY6EQYMSV", "gameTreasureForm", void 0);
              var v = a.ccclass
                  , E = a.property;
              t("gameTreasureForm", (b = v("gameTreasureForm"), C = E(c), T = E(c), b((y = n((k = function (t) {
                      function n() {
                          for (var n, e = arguments.length, r = new Array(e), a = 0; a < e; a++) r[a] = arguments[a];
                          return n = t.call.apply(t, [this].concat(r)) || this, i(n, "btnVideo", y, o(n)), i(n, "btnClose", V, o(n)), n.callback = null, n.canClick = !0, n
                      }
                      e(n, t);
                      var r = n.prototype;
                      return r.init = function (t) {
                          this.canClick = !0, this.callback = t
                      }, r.start = function () {
                          this.bindTouchEnd(this.btnVideo, this.onBtnVideo), this.bindTouchEnd(this.btnClose, this.onBtnClose)
                      }, r.onBtnVideo = function () {
                          var t = this;
                          this.canClick && (this.canClick = !1, h.reportVideoStart("分金罗盘", "" + f.instance.level), m.currentPlatform.showVideo((function (n) {
                              switch (n) {
                              case s.END:
                                  u.addTreasureProp(1), d.showToast("下次必出珍宝!"), h.reportVideoFinish("分金罗盘", "" + f.instance.level), t.onCloseHandler();
                                  break;
                              case s.ERR:
                                  t.canClick = !0, d.showToast(l.ERR);
                                  break;
                              case s.NOTEND:
                                  t.canClick = !0, d.showToast(l.NOTEND)
                              }
                          })))
                      }, r.onBtnClose = function () {
                          this.canClick && (this.canClick = !1, this.onCloseHandler())
                      }, r.onCloseHandler = function () {
                          var t = this;
                          this.scheduleOnce((function () {
                              t.callback(), d.hideUIFormByNode(t.node)
                          }), .5)
                      }, n
                  }(p))
                  .prototype, "btnVideo", [C], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), V = n(k.prototype, "btnClose", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), g = k)) || g));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/ginsengEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./entityUtil.ts", "./uiManager.ts", "./MathUtils.ts", "./digGinsengForm.ts", "./takeTipsForm.ts", "./CustomDefine.ts", "./baseGameEntity.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var n, i, e, o, a, s, r, c, u, g, m, l, f, p, y, h, d, C, G;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, i = t.inheritsLoose, e = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, s = t._decorator, r = t.Node, c = t.CCInteger
          }, function (t) {
              u = t.entityUtil
          }, function (t) {
              g = t.uiManager
          }, function (t) {
              m = t.default
          }, function (t) {
              l = t.digGinsengForm
          }, function (t) {
              f = t.takeTipsForm
          }, function (t) {
              p = t.formDefine, y = t.BundlesDefine
          }, function (t) {
              h = t.GameEntityType, d = t.GameEntityState, C = t.baseGameEntity
          }, function (t) {
              G = t.GameData
          }]
          , execute: function () {
              var b, E, T, D, v, F, w;
              a._RF.push({}, "0038cbx5zRCJozyGYEoKYgt", "ginsengEntity", void 0);
              var I = s.ccclass
                  , R = s.property;
              t("ginsengEntity", (b = I("ginsengEntity"), E = R(r), T = R(c), b((F = n((v = function (t) {
                      function n() {
                          for (var n, i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
                          return n = t.call.apply(t, [this].concat(a)) || this, e(n, "ndCloseCamera", F, o(n)), n.entityType = h.Ginseng, e(n, "ginSengType", w, o(n)), n
                      }
                      i(n, t);
                      var a = n.prototype;
                      return a.triggerTouch = function () {
                          this.state == d.Init && (t.prototype.customEntity.call(this), this.startDigGinseng())
                      }, a.startDigGinseng = function () {
                          var t = this;
                          this.gameCameraLogic.moveToPosAndRotation(this.ndCloseCamera.worldPosition, this.ndCloseCamera.worldRotation, 1, (function () {
                              g.pushUIForm("gameform/" + p.digGinsengForm, (function (n) {
                                  n.getComponent(l)
                                      .init(t)
                              }), y.form)
                          }))
                      }, a.finishDigGinseng = function (t) {
                          var n = this;
                          this.gameCameraLogic.setToNowPosAndRotation(), m.probabilityCanHappen(t) ? this.showEntity((function () {
                              g.pushUIForm("gameform/" + p.takeTipsForm, (function (t) {
                                  t.getComponent(f)
                                      .init(n.detailId, (function () {
                                          n.takeEntity()
                                      }))
                              }), y.form)
                          })) : (G.instance.subItem(this.area, this.num, this), u.hideEntity(this.node), g.showToast("好可惜，挖取失败"))
                      }, a.backDigGinseng = function () {
                          this.gameCameraLogic.setToNowPosAndRotation(), this.state = d.Init
                      }, n
                  }(C))
                  .prototype, "ndCloseCamera", [E], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), w = n(v.prototype, "ginSengType", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), D = v)) || D));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/grassEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./entityUtil.ts", "./baseGameEntity.ts", "./particle.ts", "./sickle.ts"], (function (t) {
      "use strict";
      var n, e, i, s, o, r, a, c, u, l;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy, i = t._decorator
          }, function (t) {
              s = t.BundlesConst
          }, function (t) {
              o = t.entityUtil
          }, function (t) {
              r = t.GameEntityState, a = t.baseGameEntity, c = t.GameEntityType
          }, function (t) {
              u = t.particle
          }, function (t) {
              l = t.sickle
          }]
          , execute: function () {
              var y;
              e._RF.push({}, "5add7/tGDRMh6TQktatMJy8", "grassEntity", void 0);
              var p = i.ccclass;
              i.property, t("grassEntity", p("grassEntity")(y = function (t) {
                  function e() {
                      for (var n, e = arguments.length, i = new Array(e), s = 0; s < e; s++) i[s] = arguments[s];
                      return (n = t.call.apply(t, [this].concat(i)) || this)
                          .entityType = c.Grass, n.physicalCost = 25, n
                  }
                  return n(e, t), e.prototype.triggerTouch = function () {
                      var n = this;
                      if (this.state == r.Init) {
                          t.prototype.customEntity.call(this);
                          var e = "grass_04" == this.node.name || "grass_06" == this.node.name || "grass_08" == this.node.name ? "grass_cut2" : "grass_cut";
                          o.showEntity("level1/sickle", this.node.parent, (function (t) {
                              t.getComponent(l)
                                  .init(n.node.worldPosition, (function () {
                                      o.showEntity("particle/" + e, n.node.parent, (function (t) {
                                          t.getComponent(u)
                                              .init(n.node.worldPosition), o.hideEntity(n.node)
                                      }), s.tdPrefabs)
                                  }))
                          }), s.tdPrefabs)
                      }
                  }, e
              }(a)) || y);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/guidForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./dataUtil.ts", "./entityUtil.ts", "./uiForm.ts", "./CustomDefine.ts", "./GameData.ts"], (function (e) {
      "use strict";
      var i, t, n, o, s, r, a, u, l, c, f, p, d, g, h, v;
      return {
          setters: [function (e) {
              i = e.applyDecoratedDescriptor, t = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
          }, function (e) {
              s = e.cclegacy, r = e._decorator, a = e.Label, u = e.Node, l = e.Tween, c = e.Vec3, f = e.tween
          }, function (e) {
              p = e.default
          }, function (e) {
              d = e.entityUtil
          }, function (e) {
              g = e.UiForm
          }, function (e) {
              h = e.guideStep
          }, function (e) {
              v = e.GameData
          }]
          , execute: function () {
              var y, m, b, F, P, S, G;
              e("FingerType", void 0), s._RF.push({}, "0be20dBdRhHa5md9SO2+RVa", "guidForm", void 0);
              var w, T = r.ccclass
                  , D = r.property
                  , z = {};
              z[h.getGoods] = "现在我教你怎么获取山货，点击对应山货，就可以获得山货了", z[h.cutGrass] = "点击草丛，可以割草，很多时候草里都有珍宝哦", z[h.moveStone] = "点击石头，可以搬走讨厌的石头，有时候石头下就藏着好东西哦", z[h.digGinseng] = "滑动屏幕，挖开土壤，注意挖出人参的成功率哦", z[h.shakeTree] = "点击掉下来的杨梅，在一定时间内，尽可能多的接住杨梅吧", z[h.moveScene] = "当前区域已经清空啦，点击方向箭头，移动区域哦", z[h.putBox] = "把采到的山货，装进篓子，带回家吧", z[h.findTree] = "发现了杨梅树，点击树干，去采杨梅吧", z[h.findGinseng] = "发现了百年人参，快点击去挖取吧", z[h.getFruit] = "点击杨梅即可获得，注意不要点到树干和毛毛虫哦"
                  , function (e) {
                      e[e.Point = 0] = "Point", e[e.Move = 1] = "Move"
                  }(w || (w = e("FingerType", {})));
              e("FingerInfo", (function (e, i) {
                  this.type = void 0, this.pos = void 0, this.type = e, this.pos = i
              })), e("guidForm", (y = T("guidForm"), m = D({
                  type: a
              }), b = D(u), y((S = i((P = function (e) {
                      function i() {
                          for (var i, t = arguments.length, s = new Array(t), r = 0; r < t; r++) s[r] = arguments[r];
                          return i = e.call.apply(e, [this].concat(s)) || this, n(i, "label", S, o(i)), n(i, "finger", G, o(i)), i.guideStep = void 0, i.isPause = !1, i.actions = [], i.schedulers = [], i
                      }
                      t(i, e);
                      var s = i.prototype;
                      return s.start = function () {}, s.onClose = function () {
                          this.isPause && v.instance.resumeGame(), v.instance.guid = null, l.stopAllByTarget(this.finger), d.hideEntity(this.node), p.stepEnd(this.guideStep)
                      }, s.onEnable = function () {
                          this.finger.active = !1
                      }, s.init = function (e, i, t) {
                          var n = this;
                          if (void 0 === i && (i = null), void 0 === t && (t = !1), v.instance.guid = this, this.guideStep = e, this.isPause = t, this.isPause && v.instance.pauseGame(), this.label.string = z[e], this.finger.setScale(c.ONE), this.finger.active = null != i, null != i)
                              if (i.type == w.Point) this.finger.setWorldPosition(i.pos[0]), this.finger.qtPunchScale(new c(.2, .2, .2), .5, {
                                      vibrato: 1
                                      , elasticity: 0
                                  })
                                  .repeatForever()
                                  .start();
                              else if (i.type == w.Move) {
                              this.finger.setWorldPosition(i.pos[0]);
                              var o = f(this.finger)
                                  .to(1, {
                                      worldPosition: i.pos[1]
                                  })
                                  , s = f(this.finger)
                                  .delay(.5)
                                  , r = f(this.finger)
                                  .call((function () {
                                      n.finger.setWorldPosition(i.pos[0])
                                  }));
                              f(this.finger)
                                  .sequence(o, s, r)
                                  .repeatForever()
                                  .start()
                          }
                      }, i
                  }(g))
                  .prototype, "label", [m], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), G = i(P.prototype, "finger", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), F = P)) || F));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/homeForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./memoryConfig.ts", "./resourceUtil.ts", "./uiManager.ts", "./baseAdForm.ts", "./platformUtil.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./autoPutForm.ts", "./boxRayControl.ts", "./mapForm.ts", "./paymentCoin.ts"], (function (t) {
      "use strict";
      var n, e, o, i, r, a, s, c, u, l, h, m, f, g, p, b, y, d, C, F, v, T, w, S, A, U, I, D, _, x, P, k, E, B;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, e = t.inheritsLoose, o = t.initializerDefineProperty, i = t.assertThisInitialized, r = t.createClass
          }, function (t) {
              a = t.cclegacy, s = t._decorator, c = t.Node, u = t.Vec3, l = t.Vec2, h = t.Prefab, m = t.PhysicsSystem, f = t.director, g = t.Camera
          }, function (t) {
              p = t.BundlesConst
          }, function (t) {
              b = t.default
          }, function (t) {
              y = t.entityUtil
          }, function (t) {
              d = t.default
          }, function (t) {
              C = t.memoryConfig
          }, function (t) {
              F = t.resourceUtil
          }, function (t) {
              v = t.uiManager
          }, function (t) {
              T = t.baseAdForm
          }, function (t) {
              w = t.platformUtil
          }, function (t) {
              S = t.eventDefine, A = t.pathDefine, U = t.formDefine, I = t.BundlesDefine, D = t.guideStep, _ = t.entityDefine
          }, function (t) {
              x = t.fingerUtil
          }, function (t) {
              P = t.autoPutForm
          }, function (t) {
              k = t.boxRayControl
          }, function (t) {
              E = t.mapForm
          }, function (t) {
              B = t.paymentCoin
          }]
          , execute: function () {
              var L, V, O, R, z, G, M, H, N, K, Y, W, J, j, X, q, Q, Z, $, tt, nt, et, ot;
              a._RF.push({}, "bbc9fYcLL1KuJJUfOLrBS04", "homeForm", void 0);
              var it = s.ccclass
                  , rt = s.property;
              t("homeForm", (L = it("homeForm"), V = rt(c), O = rt(c), R = rt(c), z = rt(c), G = rt(c), M = rt(c), H = rt(c), N = rt(c), K = rt(c), Y = rt(u), L((j = n((J = function (t) {
                      function n() {
                          for (var n, e = arguments.length, r = new Array(e), a = 0; a < e; a++) r[a] = arguments[a];
                          return n = t.call.apply(t, [this].concat(r)) || this, o(n, "touchContainer", j, i(n)), o(n, "btnStart", X, i(n)), o(n, "btnSystem", q, i(n)), o(n, "btnStore", Q, i(n)), o(n, "btnLeaflet", Z, i(n)), o(n, "btnBargain", $, i(n)), o(n, "btnInsect", tt, i(n)), o(n, "autoTask", nt, i(n)), o(n, "btnAutoPut", et, i(n)), n.bargainOffset = new u(30, 0, 30), n.prevDistance = 0, n.pointsDis = 0, n.touchSpeed = .5, n.minY = 0, n.maxY = 30, n.moveSpeed = new l(.8, .8), n.moveDistance = 30, o(n, "nextVec3", ot, i(n)), n
                      }
                      e(n, t);
                      var a = n.prototype;
                      return a.start = function () {
                          this.nextVec3 = this.cameraContainer.position.clone(), this.touchContainer.on(c.EventType.TOUCH_START, this.onTouchStart, this), this.touchContainer.on(c.EventType.TOUCH_MOVE, this.onTouchMove, this), this.touchContainer.on(c.EventType.TOUCH_END, this.onTouchCancel, this), this.touchContainer.on(c.EventType.TOUCH_CANCEL, this.onTouchCancel, this), this.bindTouchEnd(this.btnStart, this.onStartClick), this.bindTouchEnd(this.btnSystem, this.onSystemClick), this.bindTouchEnd(this.btnStore, this.onStoreClick), this.bindTouchEnd(this.btnLeaflet, this.onLeafletClick), this.bindTouchEnd(this.btnBargain, this.onBargainClick), console.log("this.btnAutoPut", this.btnAutoPut), this.bindTouchEnd(this.btnAutoPut, this.onAutoPutClick), this.bindTouchEnd(this.btnInsect, (function () {
                              d.dispatchEvent(S.SHOW_DIALOG, {
                                  msg: "斗虫的工具还在制作中，敬请期待"
                              })
                          })), d.on(S.SHOW_GAME_START_GUIDE, this, this.onShowGameFinger), this.onShowGameFinger(), d.on(S.BARGAIN_CHANGED, this, this.onBargainChanged), d.on(S.BARGAIN_COMPLETED, this, this.onBargainChanged), this.showTask();
                          var t = b.getCurrentMap();
                          t && (F.preloadScene(t.Tag, null, null, p.tdPrefabs), F.preloadBundleDir(p.tdPrefabs, h, "" + t.Tag), F.preloadBundleDir(p.form, h, A.form_gameform), F.preloadBundleDir(p.form, h, A.form_gameentity))
                      }, a.onEnable = function () {}, a.showBackReward = function () {
                          var t = Date.now()
                              , n = b.getOutlineTime();
                          C.instance.addKey("platform_show_time", t), t - n > 9e5 && null == v.getUIForm(U.gameForm) && v.pushUIForm(A.form_townform + U.backRewardForm, null, I.form)
                      }, a.showAutoPut = function () {
                          1 == C.instance.getIntKey("againAuto", 0) && 0 == C.instance.getFloatKey("autoPutTime", 0) && (C.instance.setKey("againAuto", 2), v.pushUIForm(A.form_townform + U.autoPutForm, (function (t) {
                              t.getComponent(P)
                                  .init(!1)
                          }), p.form))
                      }, a.onAutoPutClick = function () {
                          0 == C.instance.getFloatKey("autoPutTime", 0) ? v.pushUIForm(A.form_townform + U.autoPutForm, (function (t) {
                              t.getComponent(P)
                                  .init(!0)
                          }), p.form) : v.showToast("正在自动上架中")
                      }, a.onBargainClick = function () {
                          if (0 != C.instance.bargainArray.length) {
                              var t = C.instance.bargainArray[0].pos.clone();
                              t.x -= this.bargainOffset.x, t.y -= this.bargainOffset.y, t.z -= this.bargainOffset.z;
                              var n = new u(0, 0, 0);
                              (n = this.cameraContainer.parent.inverseTransformPoint(n, t))
                              .y = this.nextVec3.y, this.nextVec3 = n, x.removeFinger(), x.removeFollow(), b.stepEnd(D.bargainClick), d.dispatchEvent(S.NEXT_GUIDE_STEP, null)
                          }
                      }, a.onBargainChanged = function () {
                          var t = this;
                          this.btnBargain.active = C.instance.bargainArray.length > 0, b.testStep(D.bargainClick) || (this.btnBargain.active ? this.scheduleOnce((function () {
                              v.getUIForm(U.advertiseForm) || v.getUIForm(U.mapForm) || v.getUIForm(U.putonshelvesForm) || v.getUIForm(U.shopUpgradeForm) || v.getUIForm(U.missionForm) || v.getUIForm(U.gameForm) || (x.showFinger(t.btnBargain.getWorldPosition()), d.dispatchEvent(S.SHOW_DIALOG, {
                                  step: D.bargainClick
                              }))
                          }), .3) : x.removeFinger())
                      }, a.onShowGameFinger = function () {
                          b.testStep(D.putConfirm) && !b.testStep(D.selectMap) && x.showFinger(this.btnStart.getWorldPosition())
                      }, a.showTask = function () {}, a.onTouchStart = function (t) {
                          if (1 == t.getAllTouches()
                              .length) {
                              if (this.raycaseMoney(t)) return;
                              if (this.raycaseBox(t)) return;
                              d.dispatchEvent(S.SHOW_ALL_STALLS_TIP, null), y.hideAllEntity(_.boxToolBubble)
                          }
                          console.log("点击到了homeform")
                      }, a.onTouchMove = function (t) {
                          var n = t.getAllTouches();
                          1 == n.length ? this.moveCamera(t) : n.length >= 2 && this.touchScale(t)
                      }, a.touchScale = function (t) {
                          var n = t.getAllTouches()
                              , e = t.getTouches();
                          if (n.length > 1) {
                              var o = null
                                  , i = null;
                              new l;
                              if (e.length > 1) o = n[0], (i = n[1])
                                  .getDelta();
                              else {
                                  o = t.getTouches()[0];
                                  for (var r = t.getID(), a = 0; a < n.length; a++) {
                                      var s = n[a];
                                      if (s.getID() !== r) {
                                          i = s;
                                          break
                                      }
                                  }
                              }
                              var c = o.getUILocation()
                                  , u = i.getUILocation()
                                  , h = c.subtract(u)
                                  .length();
                              console.log("touch distance", h);
                              this.cameraContainer.position.clone();
                              h > this.pointsDis ? (this.pointsDis = h, this.nextVec3.y -= this.touchSpeed, this.nextVec3.y < this.minY && (this.nextVec3.y = this.minY)) : h < this.pointsDis && (this.pointsDis = h, this.nextVec3.y += this.touchSpeed, this.nextVec3.y > this.maxY && (this.nextVec3.y = this.maxY)), console.log("目标Y", this.nextVec3.y)
                          }
                      }, a.onTouchCancel = function (t) {
                          0 == t.getAllTouches()
                              .length && (this.pointsDis = 0)
                      }, a.touchRaycase = function (t) {
                          if (!this.camera) return !1;
                          var n = t.getLocation()
                              , e = this.camera.screenPointToRay(n.x, n.y);
                          return m.instance.raycast(e)
                      }, a.raycaseBox = function (t) {
                          if (this.touchRaycase(t))
                              for (var n = m.instance.raycastResults, e = 0; e < n.length; e++) {
                                  var o = n[e].collider.node.getComponent(k);
                                  if (o) return o.onRaycast(), !0
                              }
                          return !1
                      }, a.raycaseMoney = function (t) {
                          if (this.touchRaycase(t))
                              for (var n = m.instance.raycastResults, e = 0; e < n.length; e++) {
                                  var o = n[e].collider.node.getComponent(B);
                                  if (o) return o.onRaycast(), !0
                              }
                          return !1
                      }, a.init = function () {
                          this.showAutoPut(), this.showFloatCustomAd(), this.showBackReward(), b.isFreeTrial("leaflet", 1) && v.pushUIForm(A.form_townform + U.advertiseForm, null, p.form), b.isCheckinToday() && v.pushUIForm(A.form_townform + U.checkinForm, null, I.form), !b.isUnlockByDetailId(1005) || b.isUnlockByDetailId(1006) || v.pushUIForm(A.form_townform + U.autoPutForm, (function (t) {
                              t.getComponent(P)
                                  .init(!0)
                          }), p.form)
                      }, a.onDisable = function () {
                          w.currentPlatform.hideCustomAd(), 2 == C.instance.getIntKey("againAuto", 2) && C.instance.setKey("againAuto", 0)
                      }, a.moveCamera = function (t) {
                          var n = t.getUIDelta()
                              .normalize()
                              , e = new l(0, 0)
                              , o = (this.nextVec3.y, l.multiply(e, n, this.moveSpeed))
                              , i = this.cameraContainer.position.clone()
                              , r = new u(i.x - o.x, 0, i.z + o.y)
                              , a = new u(this.cameraCenter.position.x, 0, this.cameraCenter.position.z);
                          u.distance(r, a) <= this.moveDistance && (r.y = this.nextVec3.y, this.nextVec3 = r, C.instance.townCameraPosition = r)
                      }, a.onSystemClick = function () {
                          v.pushUIForm(A.form_townform + U.systemForm, null, p.form)
                      }, a.onStoreClick = function () {
                          v.pushUIForm(A.form_townform + U.storehouseForm, null, p.form)
                      }, a.onLeafletClick = function () {
                          v.pushUIForm(A.form_townform + U.advertiseForm, null, p.form)
                      }, a.onStartClick = function () {
                          b.stepEnd(D.startGame), x.removeFinger(), v.pushUIForm(A.form_townform + U.mapForm, (function (t) {
                              t.getComponent(E)
                                  .reset()
                          }), I.form)
                      }, a.update = function (t) {
                          this.showAutoPut();
                          var n = this.cameraContainer.position.clone()
                              , e = new u;
                          e = u.lerp(e, n, this.nextVec3, .1), this.cameraContainer.position = this.nextVec3
                      }, r(n, [{
                          key: "cameraContainer"
                          , get: function () {
                              return f.getScene()
                                  .getChildByName("CameraContainer")
                                  .children[0]
                          }
                      }, {
                          key: "cameraCenter"
                          , get: function () {
                              return f.getScene()
                                  .getChildByName("CameraContainer")
                                  .children[1]
                          }
                      }, {
                          key: "camera"
                          , get: function () {
                              return this.cameraContainer.children.length > 0 ? this.cameraContainer.children[0].getComponent(g) : null
                          }
                      }]), n
                  }(T))
                  .prototype, "touchContainer", [V], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), X = n(J.prototype, "btnStart", [O], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), q = n(J.prototype, "btnSystem", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Q = n(J.prototype, "btnStore", [z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Z = n(J.prototype, "btnLeaflet", [G], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), $ = n(J.prototype, "btnBargain", [M], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), tt = n(J.prototype, "btnInsect", [H], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), nt = n(J.prototype, "autoTask", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), et = n(J.prototype, "btnAutoPut", [K], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ot = n(J.prototype, "nextVec3", [Y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new u
                  }
              }), W = J)) || W));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/httpUtil.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Common.ts", "./dataUtil.ts", "./platformConf.ts", "./Debug.ts"], (function (t) {
      "use strict";
      var n, e, i, o, a, r;
      return {
          setters: [function (t) {
              n = t.extends
          }, function (t) {
              e = t.cclegacy
          }, function (t) {
              i = t.default
          }, function (t) {
              o = t.default
          }, function (t) {
              a = t.platformConf
          }, function (t) {
              r = t.Debug
          }]
          , execute: function () {
              e._RF.push({}, "c3e2a7n+jVDo641tiIiIH2k", "httpUtil", void 0);
              var u = t("httpUtil", function () {
                  function t() {
                      this.appid = "", this.secret = "", this.versionNumber = "", this.version = "2.1.0"
                  }
                  return t.request = function (t, n, e, i, o, a) {
                      var u;
                      u = t;
                      var c = new XMLHttpRequest;
                      c.onreadystatechange = function () {
                          if (4 == c.readyState) {
                              var t = c.responseText;
                              if (c.status >= 200 && c.status < 400) {
                                  var n = {};
                                  try {
                                      n = JSON.parse(t)
                                  } catch (e) {
                                      r.error("json parse error ", t), n = t
                                  }
                                  i && i(n)
                              } else r.warn("error ", t), o && o(t)
                          }
                      }, c.timeout = 1e4, c.ontimeout = function (t) {
                          r.error("error ", t), o && o(t)
                      }, "POST" == e ? (c.open("POST", u), c.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), c.send(this._object2Query(n))) : (c.open(e, u, !0), c.send())
                  }, t._object2Query = function (t) {
                      var n = [];
                      for (var e in t) n.push(e + "=" + t[e]);
                      return n.join("&")
                  }, t.finishLoading = function () {
                      var t = window;
                      t.kwaigame && t.kwaigame.readyGo(), this.point("加载完成", {
                          time: Date.now() - this.instanceTime
                      })
                  }, t.clickBanner = function () {}, t.clickVideo = function () {}, t.point = function (t, n) {
                      this.getAllConfig((function (t) {
                          t && t.aldMonitorOn
                      }))
                  }, t.startGame = function (t) {
                      o.getToken()
                  }, t.endGame = function (t, n) {
                      o.getToken()
                  }, t.videoPoint = function (t, n, e) {}, t.getAllConfig = function (t) {
                      this.loadCfg((function (e) {
                          t(n({}, e))
                      }))
                  }, t.updateCache = function (t, n) {
                      this.cfgData[t] = n
                  }, t.loadCfg = function (t) {
                      var e = this;
                      if (i.isEmpty(this.cfgData)) {
                          if (this._cfgQuene.push(t), this._cfgQuene.length > 1) return;
                          var o = "";
                          if (i.isEmpty(a.config.url)) return void this._cfgQuene.forEach((function (t) {
                              t(e.cfgData)
                          }));
                          o = a.config.url + "?t=" + Date.now(), this.request(o, {}, "GET", (function (t) {
                              e._cfgQuene.forEach((function (i) {
                                  i(n({}, e.cfgData, t))
                              })), e._cfgQuene = []
                          }), (function () {
                              e._cfgQuene.forEach((function (t) {
                                  t(e.cfgData)
                              })), e._cfgQuene = [], r.log("load config json fail")
                          }))
                      } else t(this.cfgData)
                  }, t.setKey = function (t, n) {
                      this.cfgData[t] = n
                  }, t.addConfig = function (t) {
                      for (var n in t) this.cfgData[n] = t[n]
                  }, t.nativeAdStatus = function (t, n, e) {
                      void 0 === n && (n = "display"), this.request("https://platform.qwpo2018.com/api/ad_cache/index", {
                          adunit: t
                          , type: n
                      }, "POST", (function (t) {
                          r.log("nativeAdStatus res ", t), e && e(t)
                      }))
                  }, t.levelStart = function (t) {
                      var n;
                      window.tt && window.tt.uma ? n = window.tt.uma : window.wx && window.wx.uma && (n = window.wx.uma), n && (n.stage ? n.stage.onStart({
                          stageId: t
                          , stageName: t
                      }) : r.log("app", n, "app.stage", n.stage))
                  }, t.levelEnd = function (t, n) {
                      var e;
                      if (window.tt && window.tt.uma ? e = window.tt.uma : window.wx && window.wx.uma && (e = window.wx.uma), e) {
                          var i = n ? "complete" : "fail";
                          e.stage.onEnd({
                              stageId: t
                              , stageName: t
                              , event: i
                          })
                      }
                  }, t.trackEvent = function (t, n, e) {
                      var i;
                      if (void 0 === e && (e = null), window.tt && window.tt.uma ? i = window.tt.uma : window.wx && window.wx.uma && (i = window.wx.uma), i) {
                          var o = {
                              value: n
                          };
                          if (e && e.length > 0)
                              for (var a = 0; a < e.length; a++) o["extraValue" + (a + 1)] = e[a];
                          i.trackEvent(t, o)
                      }
                  }, t.reportVideoStart = function (t) {
                      for (var n = arguments.length, e = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++) e[i - 1] = arguments[i];
                      this.trackEvent("video_click", t, e)
                  }, t.reportVideoFinish = function (t) {
                      for (var n = arguments.length, e = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++) e[i - 1] = arguments[i];
                      this.trackEvent("video_finish", t, e)
                  }, t
              }());
              u.instanceTime = Date.now(), u.cfgData = {}, u.areaData = null, u._cfgQuene = [], e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/HWModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PlatformModule.ts"], (function (t) {
      "use strict";
      var e, n, r;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              r = t.default
          }]
          , execute: function () {
              n._RF.push({}, "5521cb2sjRD0rExC4i6S7Pl", "HWModule", void 0);
              t("default", function (t) {
                  function n() {
                      for (var e, n = arguments.length, r = new Array(n), u = 0; u < n; u++) r[u] = arguments[u];
                      return (e = t.call.apply(t, [this].concat(r)) || this)
                          .platformName = "hbs", e
                  }
                  return e(n, t), n
              }(r));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/IPlatform.ts", ["cc"], (function () {
      "use strict";
      var t;
      return {
          setters: [function (c) {
              t = c.cclegacy
          }]
          , execute: function () {
              t._RF.push({}, "59ab6AZGnZAXpKbPhIhwa3Q", "IPlatform", void 0), t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/ItemRender.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts"], (function (t) {
      "use strict";
      var e, n, r, c;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy, r = t._decorator
          }, function (t) {
              c = t.BaseObject
          }]
          , execute: function () {
              var o;
              n._RF.push({}, "ca0f9k0oBVDbpQC+OMNTF3m", "ItemRender", void 0);
              var a = r.ccclass;
              r.property, t("default", a(o = function (t) {
                  function n() {
                      for (var e, n = arguments.length, r = new Array(n), c = 0; c < n; c++) r[c] = arguments[c];
                      return (e = t.call.apply(t, [this].concat(r)) || this)
                          .data = null, e.itemIndex = 0, e
                  }
                  return e(n, t), n.prototype.dataChanged = function () {}, n
              }(c)) || o);
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/KuaiModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PlatformModule.ts"], (function (t) {
      "use strict";
      var e, n, u;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              u = t.default
          }]
          , execute: function () {
              n._RF.push({}, "25545p5ysxMn4DjhODnbzg5", "KuaiModule", void 0);
              t("default", function (t) {
                  function n() {
                      for (var e, n = arguments.length, u = new Array(n), o = 0; o < n; o++) u[o] = arguments[o];
                      return (e = t.call.apply(t, [this].concat(u)) || this)
                          .platformName = "kwaigame", e
                  }
                  return e(n, t), n
              }(u));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/level1Scene.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseLevel.ts"], (function (e) {
      "use strict";
      var t, n, c, r;
      return {
          setters: [function (e) {
              t = e.inheritsLoose
          }, function (e) {
              n = e.cclegacy, c = e._decorator
          }, function (e) {
              r = e.baseLevel
          }]
          , execute: function () {
              var s;
              n._RF.push({}, "150d6WfUMRBqo9mUKvFgIHD", "level1Scene", void 0);
              var l = c.ccclass;
              c.property, e("level1Scene", l("level1Scene")(s = function (e) {
                  function n() {
                      return e.apply(this, arguments) || this
                  }
                  return t(n, e), n
              }(r)) || s);
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/levelBar.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./dataUtil.ts", "./eventUtil.ts", "./uiManager.ts", "./CustomDefine.ts", "./missionUtil.ts", "./LeveLCfg.ts", "./levelUpForm.ts"], (function (e) {
      "use strict";
      var t, i, n, r, o, s, l, a, u, c, f, p, h, g, v, b, L, m, d, C;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, r = e.assertThisInitialized
          }, function (e) {
              o = e.cclegacy, s = e._decorator, l = e.Label, a = e.Sprite, u = e.Node
          }, function (e) {
              c = e.BaseObject
          }, function (e) {
              f = e.default
          }, function (e) {
              p = e.default
          }, function (e) {
              h = e.uiManager
          }, function (e) {
              g = e.eventDefine, v = e.formDefine, b = e.BundlesDefine, L = e.missionType
          }, function (e) {
              m = e.missionUtil
          }, function (e) {
              d = e.LeveLCfg
          }, function (e) {
              C = e.levelUpForm
          }]
          , execute: function () {
              var S, y, B, E, D, U, w, M, R, T, _, F, P;
              o._RF.push({}, "e60cdG215lDf7eUBHRIrNDg", "levelBar", void 0);
              var x = s.ccclass
                  , z = s.property;
              e("levelBar", (S = x("levelBar"), y = z(l), B = z(l), E = z(a), D = z(l), U = z(u), S((R = t((M = function (e) {
                      function t() {
                          for (var t, i = arguments.length, o = new Array(i), s = 0; s < i; s++) o[s] = arguments[s];
                          return t = e.call.apply(e, [this].concat(o)) || this, n(t, "txtLevel", R, r(t)), n(t, "txtLevel2", T, r(t)), n(t, "progressBar", _, r(t)), n(t, "lblProgress", F, r(t)), n(t, "tipContainer", P, r(t)), t
                      }
                      i(t, e);
                      var o = t.prototype;
                      return o.start = function () {
                          this.showSales(), this.bindTouchEnd(this.node, this.onTipClick), p.on(g.REMOVE_LEVEL_TIP, this, this.onRemoveLevelTip), p.on(g.SALES_CHANGED, this, this.onRefreshSales), p.on(g.UPDATE_MISSION, this, this.onMissionChanged)
                      }, o.onTipClick = function (e) {
                          this.tipContainer.active = !this.tipContainer.active, this.showSales()
                      }, o.onRemoveLevelTip = function (e) {
                          this.tipContainer.active = !1
                      }, o.onMissionChanged = function () {
                          var e = f.getCurrentLevel()
                              , t = d.get(e + 1);
                          if (t) {
                              if (f.getSales() / t.Sales >= 1) {
                                  if (!d.get(e + 1)) return;
                                  f.addCurrentLevel(), h.getUIForm(v.homeForm) && h.pushUIForm(v.levelUpForm, (function (e) {
                                      e.getComponent(C)
                                          .reset()
                                  }), b.form), f.clearSales()
                              }
                              this.showSales()
                          }
                      }, o.onRefreshSales = function () {
                          this.onMissionChanged(), m.missionEnd(L.GAME_LEVEL)
                      }, o.showSales = function () {
                          var e = f.getCurrentLevel();
                          this.txtLevel.string = "" + (e + 1), this.txtLevel2.string = "" + (e + 1);
                          var t = d.getCfgByLevel(e + 1);
                          if (t) {
                              var i = f.getSales()
                                  , n = t.Sales
                                  , r = i / n;
                              r > 1 && (r = 1), this.progressBar.fillRange = -r, i >= n && (i = n), this.lblProgress.string = i + "/" + n
                          } else this.lblProgress.string = "已满级"
                      }, o.update = function (e) {}, t
                  }(c))
                  .prototype, "txtLevel", [y], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), T = t(M.prototype, "txtLevel2", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = t(M.prototype, "progressBar", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), F = t(M.prototype, "lblProgress", [D], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), P = t(M.prototype, "tipContainer", [U], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), w = M)) || w));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/LeveLCfg.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./sheetManager.ts", "./Sheets.ts"], (function (e) {
      "use strict";
      var t, n, r, u;
      return {
          setters: [function (e) {
              t = e.inheritsLoose
          }, function (e) {
              n = e.cclegacy
          }, function (e) {
              r = e.SheetManager
          }, function (e) {
              u = e.LeveLCfgBase
          }]
          , execute: function () {
              n._RF.push({}, "a502fsLMqJIqIivC0U1N4c+", "LeveLCfg", void 0);
              e("LeveLCfg", function (e) {
                  function n() {
                      return e.apply(this, arguments) || this
                  }
                  return t(n, e), n.get = function (e) {
                      return this[e] ? this[e] : r.get("LeveLCfg", e, n)
                  }, n.getAll = function () {
                      return r.getAllSheets("LeveLCfg", n)
                  }, n.getCfgByLevel = function (e) {
                      var t = this.getAll()
                          .filter((function (t) {
                              return t.ID == e
                          }));
                      return t.length > 0 ? t[0] : null
                  }, n
              }(u));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/LevelModel.ts", ["cc"], (function (e) {
      "use strict";
      var t;
      return {
          setters: [function (e) {
              t = e.cclegacy
          }]
          , execute: function () {
              t._RF.push({}, "bcdb0sbhtVMlYXR0IOxDIlz", "LevelModel", void 0);
              e("levelModel", (function () {
                  this.level = 0, this.state = !1, this.time = 0, this.star = 0
              }));
              t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/levelUpForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./dataUtil.ts", "./uiForm.ts"], (function (e) {
      "use strict";
      var t, r, n, i, o, l, c, s, u;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, r = e.inheritsLoose, n = e.initializerDefineProperty, i = e.assertThisInitialized
          }, function (e) {
              o = e.cclegacy, l = e._decorator, c = e.Label
          }, function (e) {
              s = e.default
          }, function (e) {
              u = e.UiForm
          }]
          , execute: function () {
              var a, p, v, f, h;
              o._RF.push({}, "a4168kInn5A2Lt5B/KBym4Z", "levelUpForm", void 0);
              var m = l.ccclass
                  , y = l.property;
              e("levelUpForm", (a = m("levelUpForm"), p = y(c), a((h = t((f = function (e) {
                      function t() {
                          for (var t, r = arguments.length, o = new Array(r), l = 0; l < r; l++) o[l] = arguments[l];
                          return t = e.call.apply(e, [this].concat(o)) || this, n(t, "txtLevel", h, i(t)), t
                      }
                      r(t, e);
                      var o = t.prototype;
                      return o.start = function () {}, o.reset = function () {
                          var e = this;
                          this.showLevel(), this.scheduleOnce((function () {
                              e.hideForm()
                          }), 3)
                      }, o.showLevel = function () {
                          this.txtLevel.string = "" + (s.getCurrentLevel() + 1)
                      }, t
                  }(u))
                  .prototype, "txtLevel", [p], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), v = f)) || v));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/List.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./ItemRender.ts"], (function (t) {
      "use strict";
      var i, e, s, n, o, h, a, r, l, d, p, c, g, u, m, f, w;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, e = t.inheritsLoose, s = t.initializerDefineProperty, n = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, h = t._decorator, a = t.Node, r = t.Enum, l = t.CCInteger, d = t.UITransform, p = t.ScrollView, c = t.UIOpacity, g = t.instantiate, u = t.Vec2, m = t.isValid, f = t.Component
          }, function (t) {
              w = t.default
          }]
          , execute: function () {
              var y, C, L, x, V, v, _, b, I, D, H, P, z, R, S, T, X, Y, G, A, W, M;
              t({
                  ListType: void 0
                  , StartAxisType: void 0
              }), o._RF.push({}, "d5421HgLShFKIjj5f18m1mi", "List", void 0);
              var F, O, j = h.ccclass
                  , N = h.property;
              ! function (t) {
                  t[t.Horizontal = 1] = "Horizontal", t[t.Vertical = 2] = "Vertical", t[t.Grid = 3] = "Grid"
              }(F || (F = t("ListType", {})))
              , function (t) {
                  t[t.Horizontal = 1] = "Horizontal", t[t.Vertical = 2] = "Vertical"
              }(O || (O = t("StartAxisType", {})));
              t("default", (y = N({
                  type: a
                  , tooltip: "列表项"
              }), C = N({
                  type: r(F)
                  , tooltip: "排列方式"
              }), L = N({
                  type: r(O)
                  , tooltip: "网格布局中的方向"
                  , visible: function () {
                      return this.type == F.Grid
                  }
              }), x = N({
                  type: l
                  , tooltip: "列表项X间隔"
                  , visible: function () {
                      return this.type == F.Horizontal || this.type == F.Grid
                  }
              }), V = N({
                  type: l
                  , tooltip: "列表项Y间隔"
                  , visible: function () {
                      return this.type == F.Vertical || this.type == F.Grid
                  }
              }), v = N({
                  type: l
                  , tooltip: "上间距"
                  , visible: function () {
                      return this.type == F.Vertical || this.type == F.Grid
                  }
              }), _ = N({
                  type: l
                  , tooltip: "下间距"
                  , visible: function () {
                      return this.type == F.Vertical || this.type == F.Grid
                  }
              }), b = N({
                  type: l
                  , tooltip: "左间距"
                  , visible: function () {
                      return this.type == F.Horizontal || this.type == F.Grid
                  }
              }), I = N(l), D = N({
                  type: l
                  , tooltip: "右间距"
                  , visible: function () {
                      return this.type == F.Horizontal || this.type == F.Grid
                  }
              }), j((z = i((P = function (t) {
                      function i() {
                          for (var i, e = arguments.length, o = new Array(e), h = 0; h < e; h++) o[h] = arguments[h];
                          return i = t.call.apply(t, [this].concat(o)) || this, s(i, "itemRender", z, n(i)), s(i, "type", R, n(i)), s(i, "startAxis", S, n(i)), s(i, "spaceX", T, n(i)), s(i, "spaceY", X, n(i)), s(i, "padding_top", Y, n(i)), s(i, "padding_buttom", G, n(i)), s(i, "padding_left", A, n(i)), s(i, "_padding", W, n(i)), s(i, "padding_right", M, n(i)), i.scrollView = null, i.content = null, i.contentTrans = null, i.itemDataList = [], i.spawnCount = 0, i.itemList = [], i.itemHeight = 0, i.itemWidth = 0, i.itemPool = [], i.halfScrollView = 0, i.lastContentPosX = 0, i.lastContentPosY = 0, i.gridRow = 0, i.gridCol = 0, i.updateTimer = 0, i.updateInterval = .1, i.bScrolling = !1, i.updateFun = function () {}, i
                      }
                      e(i, t);
                      var o = i.prototype;
                      return o.onLoad = function () {
                          var t = this.itemRender.getComponent(d);
                          this.itemHeight = t.height, this.itemWidth = t.width, this.scrollView = this.node.getComponent(p), this.content = this.scrollView.content, this.contentTrans = this.content.getComponent(d), this.contentTrans.anchorX = 0, this.contentTrans.anchorY = 1, this.content.removeAllChildren(), this.scrollView.node.on("scrolling", this.onScrolling, this)
                      }, o.setData = function (t) {
                          this.itemDataList = t.slice(), this.updateContent()
                      }, o.countListParam = function () {
                          var t = this.itemDataList.length
                              , i = this.content.getComponent(d)
                              , e = this.content.parent.getComponent(d)
                              , s = this.scrollView.node.getComponent(d);
                          this.type == F.Vertical ? (this.scrollView.horizontal = !1, this.scrollView.vertical = !0, i.width = e.width, i.height = t * this.itemHeight + (t - 1) * this.spaceY + this.padding_top + this.padding_buttom, this.spawnCount = Math.round(s.height / (this.itemHeight + this.spaceY)) + 2, this.halfScrollView = s.height / 2 + this.itemHeight / 2 + this.spaceY, this.updateFun = this.updateV) : this.type == F.Horizontal ? (this.scrollView.horizontal = !0, this.scrollView.vertical = !1, i.width = t * this.itemWidth + (t - 1) * this.spaceX + this.padding_left + this.padding_right, i.height = e.height, this.spawnCount = Math.round(s.width / (this.itemWidth + this.spaceX)) + 2, this.halfScrollView = s.width / 2 + this.itemWidth / 2 + this.spaceX, this.updateFun = this.udpateH) : this.type == F.Grid && (this.startAxis == O.Vertical ? (this.scrollView.horizontal = !1, this.scrollView.vertical = !0, i.width = e.width, this.padding_left + this.padding_right + this.itemWidth + this.spaceX > i.width && (this.padding_left = 0, this.padding_right = 0, console.error("padding_left或padding_right过大")), this.gridCol = Math.floor((i.width - this.padding_left - this.padding_right) / (this.itemWidth + this.spaceX)), this.gridRow = Math.ceil(t / this.gridCol), i.height = this.gridRow * this.itemHeight + (this.gridRow - 1) * this.spaceY + this.padding_top + this.padding_buttom, this.spawnCount = Math.round(s.height / (this.itemHeight + this.spaceY)) * this.gridCol + 2 * this.gridCol, this.halfScrollView = s.height / 2 + this.itemHeight / 2 + this.spaceY, this.updateFun = this.updateGrid_V) : this.startAxis == O.Horizontal && (this.scrollView.horizontal = !0, this.scrollView.vertical = !1, i.height = e.height, this.padding_top + this.padding_buttom + this.itemHeight + this.spaceY > i.height && (this.padding_top = 0, this.padding_buttom = 0, console.error("padding_top或padding_buttom过大")), this.gridRow = Math.floor((i.height - this.padding_top - this.padding_buttom) / (this.itemHeight + this.spaceY)), this.gridCol = Math.ceil(t / this.gridRow), i.width = this.gridCol * this.itemWidth + (this.gridCol - 1) * this.spaceX + this.padding_left + this.padding_right, this.spawnCount = Math.round(s.width / (this.itemWidth + this.spaceX)) * this.gridRow + 2 * this.gridRow, this.halfScrollView = s.width / 2 + this.itemWidth / 2 + this.spaceX, this.updateFun = this.updateGrid_H))
                      }, o.createList = function (t, i) {
                          this.itemDataList.length > this.spawnCount && t + this.spawnCount - 1 >= this.itemDataList.length ? (t = this.itemDataList.length - this.spawnCount, i = this.scrollView.getMaxScrollOffset()) : this.itemDataList.length <= this.spawnCount && (t = 0);
                          for (var e = 0; e < this.spawnCount; e++) {
                              var s = void 0;
                              if (e + t < this.itemDataList.length) {
                                  null == this.itemList[e] ? (s = this.getItem(), this.itemList.push(s), s.parent = this.content) : s = this.itemList[e];
                                  var n = s.getComponent(w);
                                  n.itemIndex = e + t, n.data = this.itemDataList[e + t], n.dataChanged();
                                  var o = s.getComponent(d)
                                      , h = s.getComponent(c) || s.addComponent(c);
                                  if (this.type == F.Vertical) s.setPosition(this.contentTrans.width / 2, -o.height * (.5 + e + t) - this.spaceY * (e + t) - this.padding_top);
                                  else if (this.type == F.Horizontal) s.setPosition(o.width * (.5 + e + t) + this.spaceX * (e + t) + this.padding_left, -this.contentTrans.height / 2);
                                  else if (this.type == F.Grid)
                                      if (this.startAxis == O.Vertical) {
                                          var a = Math.floor((e + t) / this.gridCol)
                                              , r = (e + t) % this.gridCol;
                                          s.setPosition(o.width * (.5 + r) + this.spaceX * r + this.padding_left, -o.height * (.5 + a) - this.spaceY * a - this.padding_top), h.opacity = 255
                                      } else if (this.startAxis == O.Horizontal) {
                                      a = (e + t) % this.gridRow, r = Math.floor((e + t) / this.gridRow);
                                      s.setPosition(o.width * (.5 + r) + this.spaceX * r + this.padding_left, -o.height * (.5 + a) - this.spaceY * a - this.padding_top), h.opacity = 255
                                  }
                              } else this.itemList.length > this.itemDataList.length - t && ((s = this.itemList.pop())
                                  .removeFromParent(), this.itemPool.push(s))
                          }
                          this.scrollView.scrollToOffset(i)
                      }, o.getItem = function () {
                          return 0 == this.itemPool.length ? g(this.itemRender) : this.itemPool.pop()
                      }, o.update = function (t) {
                          0 != this.bScrolling && (this.updateTimer += t, this.updateTimer < this.updateInterval || (this.updateTimer = 0, this.bScrolling = !1, this.updateFun()))
                      }, o.onScrolling = function () {
                          this.bScrolling = !0
                      }, o.updateV = function () {
                          for (var t, i = this.itemList, e = this.halfScrollView, s = this.scrollView.content.position.y > this.lastContentPosY, n = (this.itemHeight + this.spaceY) * i.length, o = 0; o < i.length; o++) {
                              t = i[o];
                              var h = this.getPositionInView(t);
                              if (s) {
                                  if (h.y > e && t.y - n - this.padding_buttom > -this.contentTrans.height) {
                                      var a = t.getComponent(w)
                                          , r = a.itemIndex + i.length;
                                      a.itemIndex = r, a.data = this.itemDataList[r], a.dataChanged(), t.y = t.y - n
                                  }
                              } else if (h.y < -e && t.y + n + this.padding_top < 0) {
                                  var l = t.getComponent(w)
                                      , d = l.itemIndex - i.length;
                                  l.itemIndex = d, l.data = this.itemDataList[d], l.dataChanged(), t.y = t.y + n
                              }
                          }
                          this.lastContentPosY = this.scrollView.content.position.y
                      }, o.udpateH = function () {
                          for (var t, i = this.itemList, e = this.halfScrollView, s = this.scrollView.content.position.x > this.lastContentPosX, n = (this.itemWidth + this.spaceX) * i.length, o = 0; o < i.length; o++) {
                              t = i[o];
                              var h = this.getPositionInView(t);
                              if (s) {
                                  if (h.x > e && t.x - n - this.padding_left > 0) {
                                      var a = t.getComponent(w)
                                          , r = a.itemIndex - i.length;
                                      a.itemIndex = r, a.data = this.itemDataList[r], a.dataChanged(), t.x = t.x - n
                                  }
                              } else if (h.x < -e && t.x + n + this.padding_right < this.contentTrans.width) {
                                  var l = t.getComponent(w)
                                      , d = l.itemIndex + i.length;
                                  l.itemIndex = d, l.data = this.itemDataList[d], l.dataChanged(), t.x = t.x + n
                              }
                          }
                          this.lastContentPosX = this.scrollView.content.position.x
                      }, o.updateGrid_V = function () {
                          for (var t, i = this.itemList, e = this.halfScrollView, s = this.scrollView.content.position.y > this.lastContentPosY, n = (this.itemHeight + this.spaceY) * (this.spawnCount / this.gridCol), o = 0; o < i.length; o++) {
                              t = i[o];
                              var h = this.getPositionInView(t)
                                  , a = t.getComponent(c) || t.addComponent(c);
                              if (s) {
                                  if (h.y > e && t.position.y - n - this.padding_buttom > -this.contentTrans.height) {
                                      var r = t.getComponent(w)
                                          , l = r.itemIndex + this.spawnCount / this.gridCol * this.gridCol;
                                      if (null != this.itemDataList[l]) {
                                          var d = t.position.clone();
                                          d.y = d.y - n, t.position = d, r.itemIndex = l, r.data = this.itemDataList[l], r.dataChanged(), a.opacity = 255
                                      } else {
                                          var p = t.position.clone();
                                          p.y = p.y - n, t.position = p, r.itemIndex = l, a.opacity = 0
                                      }
                                  }
                              } else if (h.y < -e && t.position.y + n + this.padding_top < 0) {
                                  var g = t.getComponent(w)
                                      , u = g.itemIndex - this.spawnCount / this.gridCol * this.gridCol;
                                  if (null != this.itemDataList[u]) {
                                      var m = t.position.clone();
                                      m.y = m.y + n, t.position = m, g.itemIndex = u, g.data = this.itemDataList[u], g.dataChanged(), a.opacity = 255
                                  } else {
                                      var f = t.position.clone();
                                      f.y = f.y + n, t.position = f, g.itemIndex = u, a.opacity = 0
                                  }
                              }
                          }
                          this.lastContentPosY = this.scrollView.content.position.y
                      }, o.updateGrid_H = function () {
                          for (var t, i = this.itemList, e = this.halfScrollView, s = this.scrollView.content.position.x > this.lastContentPosX, n = (this.itemWidth + this.spaceX) * (this.spawnCount / this.gridRow), o = 0; o < i.length; o++) {
                              t = i[o];
                              var h = this.getPositionInView(t);
                              if (s) {
                                  if (h.x > e && t.x - n - this.padding_left > 0) {
                                      var a = t.getComponent(w)
                                          , r = a.itemIndex - this.spawnCount / this.gridRow * this.gridRow;
                                      null != this.itemDataList[r] ? (t.x = t.x - n, a.itemIndex = r, a.data = this.itemDataList[r], a.dataChanged(), t.opacity = 255) : (t.x = t.x - n, a.itemIndex = r, t.opacity = 0)
                                  }
                              } else if (h.x < -e && t.x + n + this.padding_right < this.contentTrans.width) {
                                  var l = t.getComponent(w)
                                      , d = l.itemIndex + this.spawnCount / this.gridRow * this.gridRow;
                                  null != this.itemDataList[d] ? (t.x = t.x + n, l.itemIndex = d, l.data = this.itemDataList[d], l.dataChanged(), t.opacity = 255) : (t.x = t.x + n, l.itemIndex = d, t.opacity = 0)
                              }
                          }
                          this.lastContentPosX = this.scrollView.content.position.x
                      }, o.getPositionInView = function (t) {
                          var i = t.parent.getComponent(d)
                              .convertToWorldSpaceAR(t.position);
                          return this.scrollView.node.getComponent(d)
                              .convertToNodeSpaceAR(i)
                      }, o.getListData = function () {
                          return this.itemDataList
                      }, o.addItem = function (t) {
                          this.itemDataList.push(t), this.updateContent()
                      }, o.addItemAt = function (t, i) {
                          null == this.itemDataList[t] && this.itemDataList.length != t || (this.itemDataList.splice(t, 1, i), this.updateContent())
                      }, o.deleteItem = function (t) {
                          null != this.itemDataList[t] && (this.itemDataList.splice(t, 1), this.updateContent())
                      }, o.changeItem = function (t, i) {
                          null != this.itemDataList[t] && (this.itemDataList[t] = i, this.updateContent())
                      }, o.updateContent = function () {
                          if (0 == this.itemList.length) this.countListParam(), this.createList(0, new u(0, 0));
                          else {
                              this.type == F.Vertical ? this.itemList.sort((function (t, i) {
                                  return i.y - t.y
                              })) : this.type == F.Horizontal ? this.itemList.sort((function (t, i) {
                                  return t.x - i.x
                              })) : this.type == F.Grid && (this.startAxis == O.Vertical ? (this.itemList.sort((function (t, i) {
                                  return t.x - i.x
                              })), this.itemList.sort((function (t, i) {
                                  return i.y - t.y
                              }))) : this.startAxis == O.Horizontal && (this.itemList.sort((function (t, i) {
                                  return i.y - t.y
                              })), this.itemList.sort((function (t, i) {
                                  return t.x - i.x
                              })))), this.countListParam();
                              var t = this.itemList[0].getComponent(w)
                                  .itemIndex;
                              this.type == F.Grid && this.startAxis == O.Vertical ? t += (t + this.spawnCount) % this.gridCol : this.type == F.Grid && this.startAxis == O.Horizontal && (t += (t + this.spawnCount) % this.gridRow);
                              var i = this.scrollView.getScrollOffset();
                              i.x = -i.x, this.createList(t, i)
                          }
                      }, o.onDestroy = function () {
                          for (var t = this.itemList.length, i = 0; i < t; i++) m(this.itemList[i], !0) && this.itemList[i].destroy();
                          this.itemList.length = 0, t = this.itemPool.length;
                          for (var e = 0; e < t; e++) m(this.itemPool[e], !0) && this.itemPool[e].destroy();
                          this.itemPool.length = 0, this.itemDataList.length = 0
                      }, i
                  }(f))
                  .prototype, "itemRender", [y], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), R = i(P.prototype, "type", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return F.Vertical
                  }
              }), S = i(P.prototype, "startAxis", [L], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return O.Horizontal
                  }
              }), T = i(P.prototype, "spaceX", [x], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), X = i(P.prototype, "spaceY", [V], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), Y = i(P.prototype, "padding_top", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), G = i(P.prototype, "padding_buttom", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), A = i(P.prototype, "padding_left", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), W = i(P.prototype, "_padding", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), M = i(P.prototype, "padding_right", [D], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), H = P)) || H));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/loadingScene.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./audioManager.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./poolManager.ts", "./resourceUtil.ts", "./sheetManager.ts", "./uiManager.ts", "./platformConf.ts", "./platformUtil.ts", "./Common.ts", "./CheckInCfg.ts", "./ConfigData.ts", "./SplashCfg.ts", "./homeForm.ts", "./CustomDefine.ts", "./dialogForm.ts"], (function (e) {
      "use strict";
      var t, i, n, o, s, r, a, l, c, d, u, h, g, f, m, p, v, b, y, S, N, O, D, _, x, P, w, C, V, I, T, R, z, M, A, B, L, U;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized
          }, function (e) {
              s = e.cclegacy, r = e._decorator, a = e.ProgressBar, l = e.Label, c = e.Node, d = e.AssetManager, u = e.AudioClip, h = e.Prefab, g = e.game
          }, function (e) {
              f = e.BundlesConst, m = e.AppConst
          }, function (e) {
              p = e.audioManager
          }, function (e) {
              v = e.BaseObject
          }, function (e) {
              b = e.default
          }, function (e) {
              y = e.entityUtil
          }, function (e) {
              S = e.default
          }, function (e) {
              N = e.httpUtil
          }, function (e) {
              O = e.memoryConfig
          }, function (e) {
              D = e.poolManager
          }, function (e) {
              _ = e.resourceUtil
          }, function (e) {
              x = e.SheetManager
          }, function (e) {
              P = e.uiManager
          }, function (e) {
              w = e.platformConf
          }, function (e) {
              C = e.platformUtil
          }, function (e) {
              V = e.default
          }, function (e) {
              I = e.CheckInCfg
          }, function (e) {
              T = e.ConfigData
          }, function (e) {
              R = e.SplashCfg
          }, function (e) {
              z = e.homeForm
          }, function (e) {
              M = e.pathDefine, A = e.entityDefine, B = e.eventDefine, L = e.formDefine
          }, function (e) {
              U = e.dialogForm
          }]
          , execute: function () {
              var k, F, K, E, Q, j, H, G, W, X, Z, q, J, Y, $, ee, te;
              s._RF.push({}, "e6786MbdutHjZWgxD+1L9rh", "loadingScene", void 0);
              var ie = r.ccclass
                  , ne = r.property;
              e("loadModel", (function () {
                  this.isResources = void 0, this.bundleOrPath = void 0, this.loadType = void 0, this.isDir = void 0, this.isScene = void 0, this.dirOrName = void 0, this.memo = void 0
              })), e("loadingScene", (k = ie("loadingScene"), F = ne(a), K = ne(l), E = ne(c), Q = ne(l), j = ne(l), H = ne(c), G = ne(l), k((Z = t((X = function (e) {
                      function t() {
                          for (var t, i = arguments.length, s = new Array(i), r = 0; r < i; r++) s[r] = arguments[r];
                          return t = e.call.apply(e, [this].concat(s)) || this, n(t, "progressBar", Z, o(t)), n(t, "txtVersion", q, o(t)), n(t, "splash", J, o(t)), n(t, "txtSplash", Y, o(t)), n(t, "txtLoading", $, o(t)), n(t, "loadingNode", ee, o(t)), n(t, "txtProgress", te, o(t)), t.openScene = !1, t.test3D = !1, t.tdScene = "level1", t.testLevel = 1001, t.firstScene = "town", t.prevShowTime = 0, t.progressIndex = 0, t.progressValue = 0, t.loadQuene1 = [{
                              isResources: !1
                              , bundleOrPath: f.images
                              , loadType: d.Bundle
                              , isScene: !1
                              , isDir: !1
                              , dirOrName: ""
                              , memo: "征地审批中..."
                          }, {
                              isResources: !1
                              , bundleOrPath: f.common
                              , loadType: d.Bundle
                              , isScene: !1
                              , isDir: !1
                              , dirOrName: ""
                              , memo: "集市建设中..."
                          }, {
                              isResources: !0
                              , bundleOrPath: ""
                              , loadType: u
                              , isDir: !0
                              , isScene: !1
                              , dirOrName: "sound"
                              , memo: "正在敲锣打鼓..."
                          }, {
                              isResources: !0
                              , bundleOrPath: ""
                              , loadType: h
                              , isDir: !0
                              , isScene: !1
                              , dirOrName: "prefab"
                              , memo: "正在整理摊位..."
                          }, {
                              isResources: !1
                              , bundleOrPath: f.form
                              , loadType: h
                              , isScene: !1
                              , isDir: !0
                              , dirOrName: M.form_townform
                              , memo: "集市在筹备中..."
                          }, {
                              isResources: !1
                              , bundleOrPath: f.town
                              , loadType: h
                              , isScene: !1
                              , isDir: !0
                              , dirOrName: M.form_prefabs_character
                              , memo: "客人正在排队..."
                          }, {
                              isResources: !1
                              , bundleOrPath: f.town
                              , loadType: h
                              , isScene: !1
                              , isDir: !0
                              , dirOrName: A.customerManager
                              , memo: "正在打扫小镇..."
                          }, {
                              isResources: !1
                              , bundleOrPath: f.town
                              , loadType: h
                              , isScene: !0
                              , isDir: !0
                              , dirOrName: t.firstScene
                              , memo: "集市快开门啦..."
                          }], t.loadQuene2 = [{
                              isResources: !1
                              , bundleOrPath: f.images
                              , loadType: d.Bundle
                              , isScene: !1
                              , isDir: !1
                              , dirOrName: ""
                              , memo: "征地审批中..."
                          }, {
                              isResources: !1
                              , bundleOrPath: f.common
                              , loadType: d.Bundle
                              , isScene: !1
                              , isDir: !1
                              , dirOrName: ""
                              , memo: "集市建设中..."
                          }, {
                              isResources: !0
                              , bundleOrPath: ""
                              , loadType: u
                              , isDir: !0
                              , isScene: !1
                              , dirOrName: "sound"
                              , memo: "正在敲锣打鼓..."
                          }, {
                              isResources: !0
                              , bundleOrPath: ""
                              , loadType: h
                              , isDir: !0
                              , isScene: !1
                              , dirOrName: "prefab"
                              , memo: "正在整理摊位..."
                          }, {
                              isResources: !1
                              , bundleOrPath: f.form
                              , loadType: h
                              , isDir: !0
                              , isScene: !1
                              , dirOrName: M.form_gameform
                              , memo: "正在去赶山的路上..."
                          }, {
                              isResources: !1
                              , bundleOrPath: f.form
                              , loadType: h
                              , isDir: !0
                              , isScene: !1
                              , dirOrName: M.form_gameentity
                              , memo: "找一找哪里有山货呢..."
                          }, {
                              isResources: !1
                              , bundleOrPath: f.tdPrefabs
                              , loadType: h
                              , isScene: !0
                              , isDir: !0
                              , dirOrName: t.tdScene
                              , memo: "快到山上了..."
                          }], t.currentQuene = [], t.dialogNode = void 0, t
                      }
                      i(t, e);
                      var s = t.prototype;
                      return s.start = function () {
                          var e = this;
                          g.addPersistRootNode(this.node), this.loadingNode.active = !0, this.splash.active = !1, S.on(B.SHOW_LOADING, this, (function (t) {
                              "boolean" == typeof t ? e.showSplash(!!t) : e.showSplash(t.show, t.callback)
                          })), S.on(B.SHOW_DIALOG, this, this.onShowDialog)
                      }, s.changeMemo = function () {
                          var e = R.getAll()
                              , t = e[V.randomNumBoth(0, e.length - 1)].memo;
                          this.txtSplash.string = t, this.txtLoading.string = t
                      }, s.showSplash = function (e, t) {
                          var i = this
                              , n = e;
                          if (n) this.prevShowTime = Date.now(), this.splash.active = !0, this.splash.setSiblingIndex(this.splash.parent.children.length - 1), this.changeMemo();
                          else {
                              var o = Date.now() - this.prevShowTime;
                              if (o > 1500) this.splash.active = !1, t && t();
                              else {
                                  var s = (1500 - o) / 1e3;
                                  this.scheduleOnce((function () {
                                      i.splash.active = !1, t && t()
                                  }), s)
                              }
                          }
                      }, s.onLoad = function () {
                          var e = this;
                          N.getAllConfig((function (t) {
                              console.log("getAllConfig", t), O.instance.addObject(t);
                              var i = window.zs;
                              i ? i.sdk.loadCfg((function (t) {
                                  console.log("加载参数", t), O.instance.addObject(t), O.instance.setKey("version", t.zs_version), e.resetMemory(t), e.initShareInfo(), e.loadRes()
                              })) : (e.initShareInfo(), e.loadRes())
                          }))
                      }, s.initShareInfo = function () {
                          var e = [{
                              img: ""
                              , title: ""
                          }];
                          O.instance.getKey("share_info", e);
                          C.currentPlatform.initShare(e)
                      }, s.resetMemory = function (e) {
                          w.currentApp == m.VIVO ? e.zs_version != w.config.version && (O.instance.setKey("zs_native_click_switch", 0), O.instance.setKey("zs_native_limit", 0), O.instance.setKey("zs_native_show_scene", 0), O.instance.setKey("zs_native_touch_switch", 0), O.instance.setKey("zs_native_next_limit", 0)) : w.currentApp == m.WX && (O.instance.setKey("zs_native_click_switch", 0), O.instance.setKey("zs_native_limit", 0), O.instance.setKey("zs_native_show_scene", 0), O.instance.setKey("zs_native_touch_switch", 0), O.instance.setKey("zs_native_next_limit", 0))
                      }, s.loadNext = function () {
                          var e = this;
                          this.progressIndex++, this.progressValue = 0;
                          var t = this.currentQuene[this.progressIndex];
                          this.txtLoading.string = t.memo, t && (t.isResources ? t.isDir && (t.loadType == h ? _.loadAssetDir(t.dirOrName, h, (function (t) {
                              e.setProgressValue(t)
                          }), (function (t, i) {
                              if (t) return e.progressValue = 1, void e.loadNext();
                              D.addPrefabs(i), e.progressValue = 1, e.loadNext()
                          })) : t.loadType == u && _.loadAssetDir(t.dirOrName, u, (function (t) {
                              e.setProgressValue(t)
                          }), (function (t, i) {
                              if (t) return e.progressValue = 1, void e.loadNext();
                              i.forEach((function (e) {
                                  p.addAudio(e)
                              })), e.progressValue = 1, e.loadNext()
                          }))) : t.isDir ? t.isScene ? _.preloadScene(t.dirOrName, (function (t, i, n) {
                              var o = t / i;
                              e.currentQuene.length - 1 == e.progressIndex && o > .99 && (o = .99), e.setProgressValue(Math.floor(100 * o))
                          }), (function (t) {
                              e.test3D && (O.instance.level = e.testLevel), e.currentQuene.length - 1 == e.progressIndex ? (e.progressValue = .99, e.execScene()) : (e.progressValue = 1, e.loadNext())
                          }), t.bundleOrPath) : t.loadType == h && _.loadBundleDir(t.bundleOrPath, t.loadType, t.dirOrName, (function (t) {
                              e.setProgressValue(t)
                          }), (function (t, i) {
                              if (t) return e.progressValue = 1, void e.loadNext();
                              D.addPrefabs(i), e.progressValue = 1, e.loadNext()
                          })) : t.loadType == d.Bundle && _.loadBundle(t.bundleOrPath, (function () {
                              e.setProgressValue(1), e.loadNext()
                          }), (function (i) {
                              e.setProgressValue(i), console.log("加载bundle ", t.bundleOrPath)
                          })))
                      }, s.setProgressValue = function (e) {
                          e > this.progressValue && (this.progressValue = isNaN(e) ? 0 : e, this.txtProgress.string = this.progressValue.toFixed(0) + "%", this.progressBar.progress = this.progressValue / 100)
                      }, s.loadRes = function () {
                          var e = this
                              , t = "data/cfg";
                          this.setProgressValue(0), V.isHttp(w.config.excelUrl) && (t = "" + w.config.excelUrl + t + ".json?r=" + Math.random()), console.log("load cfg json ", t), x.loadDB("" + t, (function () {
                              T.init();
                              var t = I.getAll();
                              b.hasCheckinData(0) || (t.forEach((function (e, t) {
                                  b.setCheckin(t, 0, 0, 0)
                              })), b.saveCheckin()), e.changeMemo(), e.progressIndex = -1, e.currentQuene = e.loadQuene2, b.isUnlockByDetailId(e.testLevel) && (e.currentQuene = e.loadQuene1), e.loadNext()
                          }))
                      }, s.onShowDialog = function (e) {
                          1 == e.hide ? (y.hideAllEntity(L.dialogForm), this.dialogNode = null) : (this.dialogNode instanceof c && (y.hideEntity(this.dialogNode), this.dialogNode = null), this.showDialog(e.msg, e.step))
                      }, s.showDialog = function (e, t) {
                          var i = this;
                          null == this.dialogNode ? (this.dialogNode = {}, y.showEntity(M.form_townform + L.dialogForm, this.node, (function (n) {
                                  i.dialogNode = n, n.getComponent(U)
                                      .init(e, t)
                              }), f.form)) : this.dialogNode instanceof c && this.dialogNode.getComponent(U)
                              .init(e, t)
                      }, s.execScene = function () {
                          var e = this;
                          console.log("loading end"), this.openScene || (this.openScene = !0, b.isUnlockByDetailId(this.testLevel) ? (console.log("loading scene 显示 homeform "), P.pushUIForm("" + M.form_townform + L.homeForm, (function (t) {
                              t.getComponent(z)
                                  .init(), t.active = !1, S.dispatchEvent(B.LEVEL_CHANGED, null), S.dispatchEvent(B.COIN_CHANGED, null), _.loadScene(e.firstScene, (function () {
                                      e.loadingNode.active = !1, t.active = !0, e.progressValue = 1
                                  }), f.town)
                          }), f.form)) : _.loadScene(this.tdScene, (function () {
                              e.loadingNode.active = !1, e.progressValue = 1
                          }), f.tdPrefabs))
                      }, s.update = function (e) {
                          if (this.splash.active && this.splash.setSiblingIndex(this.splash.parent.children.length - 1), this.dialogNode instanceof c) {
                              this.dialogNode.active = !this.splash.active, this.dialogNode.parent = this.node;
                              var t = P.getUIForm(L.checkinForm);
                              t ? this.dialogNode.setSiblingIndex(t.getSiblingIndex() - 1) : this.dialogNode.setSiblingIndex(this.dialogNode.parent.children.length - 1)
                          }
                      }, t
                  }(v))
                  .prototype, "progressBar", [F], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), q = t(X.prototype, "txtVersion", [K], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), J = t(X.prototype, "splash", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Y = t(X.prototype, "txtSplash", [Q], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), $ = t(X.prototype, "txtLoading", [j], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ee = t(X.prototype, "loadingNode", [H], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), te = t(X.prototype, "txtProgress", [G], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), W = X)) || W));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/main", ["./NavMeshAgent.ts", "./Astar.ts", "./BinaryHeap.ts", "./Builder.ts", "./Channel.ts", "./NavMesh.ts", "./Plane.ts", "./Triangle.ts", "./nUtils.ts", "./Const.ts", "./MSG.ts", "./ItemRender.ts", "./List.ts", "./cameraManager.ts", "./stopPropagation.ts", "./touchMgr.ts", "./audioManager.ts", "./baseObject.ts", "./bundleMgr.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./framingLoadingUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./poolComponent.ts", "./poolManager.ts", "./resourceUtil.ts", "./settingUtil.ts", "./sheetManager.ts", "./uiManager.ts", "./baseAdForm.ts", "./toastForm.ts", "./uiForm.ts", "./gameEntry.ts", "./gameState.ts", "./LevelModel.ts", "./appConfig.ts", "./autoTaskModel.ts", "./categoryModel.ts", "./checkinModel.ts", "./dropMoneyModel.ts", "./formModel.ts", "./freeTrialModel.ts", "./missionModel.ts", "./nativeAdResult.ts", "./rackModel.ts", "./shareInfo.ts", "./shopModel.ts", "./stepModel.ts", "./stoneModel.ts", "./taskGoodsModel.ts", "./unlockModel.ts", "./AdHorizontal.ts", "./AdVertical.ts", "./BDModule.ts", "./BannerOptions.ts", "./BlockOptions.ts", "./CustomAdGroup.ts", "./CustomOptions.ts", "./CustomSize.ts", "./HWModule.ts", "./IPlatform.ts", "./KuaiModule.ts", "./NativeGroup.ts", "./NativeOptions.ts", "./NativeSize.ts", "./OPPOModule.ts", "./PlatformModule.ts", "./QQModule.ts", "./TTModule.ts", "./UCModule.ts", "./VIVOModule.ts", "./WXModule.ts", "./WebModule.ts", "./ZSOPPOModule.ts", "./platformConf.ts", "./platformUtil.ts", "./AnimationEx.ts", "./ArrayUtil.ts", "./CaptureUtils.ts", "./Common.ts", "./Debug.ts", "./DragComponent.ts", "./DragonBonesEx.ts", "./MathUtils.ts", "./NumberType.ts", "./QuickTween.ts", "./Util.ts", "./SpineComponent.ts", "./StaticBatch.ts", "./TransformUtil.ts", "./TweenEx.ts", "./testScene.ts", "./CustomDefine.ts", "./customerManager.ts", "./fingerUtil.ts", "./GameData.ts", "./addOne.ts", "./area.ts", "./baseGameEntity.ts", "./baseLevel.ts", "./direction.ts", "./earning.ts", "./eventEntity.ts", "./findItem.ts", "./fruitEntity.ts", "./fruitObEntity.ts", "./gameCameraLogic.ts", "./gameTarget.ts", "./gameTargetList.ts", "./ginsengEntity.ts", "./grassEntity.ts", "./level1Scene.ts", "./normalEntity.ts", "./particle.ts", "./physical.ts", "./sickle.ts", "./stoneEntity.ts", "./taskTarget.ts", "./treasureEntity.ts", "./treasureGinsengEntity.ts", "./treeEntity.ts", "./advertiseForm.ts", "./autoPut.ts", "./autoPutForm.ts", "./bargainForm.ts", "./bargainInfomation.ts", "./boxControl.ts", "./boxLevel.ts", "./boxRayControl.ts", "./boxToolBubble.ts", "./buildForm.ts", "./buildShopBubble.ts", "./checkinForm.ts", "./checkinItem.ts", "./dialogForm.ts", "./moneyUtil.ts", "./moreAd.ts", "./onlineReward.ts", "./onlineRewardForm.ts", "./pictorialBook.ts", "./pictorialbookItem.ts", "./putGoodsBubble.ts", "./putonshelvesForm.ts", "./putonshelvesItem.ts", "./shareForm.ts", "./shopControl.ts", "./shopOwner.ts", "./shopOwnerManager.ts", "./shopUpgradeForm.ts", "./storeEmptyForm.ts", "./takeDownForm.ts", "./talkItem.ts", "./loadingScene.ts", "./mainScene.ts", "./missionUtil.ts", "./AutoTaskCfg.ts", "./BargainCfg.ts", "./BoxUpgrade.ts", "./BubbleCfg.ts", "./CheckInCfg.ts", "./ConfigData.ts", "./GameStore.ts", "./GameStoreDetail.ts", "./LeveLCfg.ts", "./MissionCfg.ts", "./OnlineRewardCfg.ts", "./RandomEvent.ts", "./Sheets.ts", "./Skin.ts", "./SplashCfg.ts", "./VideoExchange.ts", "./animal.ts", "./animalAnimator.ts", "./autoForm.ts", "./autoItem.ts", "./autoMapForm.ts", "./autoMapItem.ts", "./autoRewardForm.ts", "./autoTask.ts", "./autoTaskBar.ts", "./backRewardForm.ts", "./bubble.ts", "./cameraMove.ts", "./coinBar.ts", "./customer.ts", "./customerAnimator.ts", "./digGinsengForm.ts", "./eventAnswerForm.ts", "./eventForm.ts", "./gameExitForm.ts", "./gameFindForm.ts", "./gameForm.ts", "./gamePhysicalForm.ts", "./gameTreasureForm.ts", "./guidForm.ts", "./homeForm.ts", "./levelBar.ts", "./levelUpForm.ts", "./mapForm.ts", "./mapItem.ts", "./mapSubItem.ts", "./missionBar.ts", "./missionForm.ts", "./movement.ts", "./msgBubble.ts", "./paymentBar.ts", "./paymentCoin.ts", "./physicalNum.ts", "./privacyForm.ts", "./putBoxCard.ts", "./putBoxForm.ts", "./putBoxItem.ts", "./shakeTreeForm.ts", "./storeItem.ts", "./storehouseForm.ts", "./systemForm.ts", "./takeIcon.ts", "./takeTipsForm.ts", "./uICamera.ts", "./workman.ts"], (function () {
      "use strict";
      return {
          setters: [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null]
          , execute: function () {}
      }
  }));

  System.register("chunks:///_virtual/mainScene.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./framingLoadingUtil.ts", "./memoryConfig.ts", "./resourceUtil.ts", "./uiManager.ts", "./gameState.ts", "./AdHorizontal.ts", "./AdVertical.ts", "./CustomOptions.ts", "./platformUtil.ts", "./Common.ts", "./homeForm.ts", "./paymentCoin.ts", "./CustomDefine.ts", "./customerManager.ts", "./fingerUtil.ts"], (function (n) {
      "use strict";
      var t, e, i, o, s, r, a, c, l, u, f, d, m, h, g, v, p, y, C, E, w, U, A, B, S, _, D, b, I, M, N;
      return {
          setters: [function (n) {
              t = n.inheritsLoose
          }, function (n) {
              e = n.cclegacy, i = n._decorator, o = n.Vec2, s = n.director, r = n.Vec3
          }, function (n) {
              a = n.BundlesConst
          }, function (n) {
              c = n.BaseObject
          }, function (n) {
              l = n.default
          }, function (n) {
              u = n.entityUtil
          }, function (n) {
              f = n.default
          }, function (n) {
              d = n.framingLoadingUtil
          }, function (n) {
              m = n.memoryConfig
          }, function (n) {
              h = n.resourceUtil
          }, function (n) {
              g = n.uiManager
          }, function (n) {
              v = n.gameState
          }, function (n) {
              p = n.AdHorizontal
          }, function (n) {
              y = n.AdVertical
          }, function (n) {
              C = n.CustomOptions
          }, function (n) {
              E = n.platformUtil
          }, function (n) {
              w = n.default
          }, function (n) {
              U = n.homeForm
          }, function (n) {
              A = n.paymentCoin
          }, function (n) {
              B = n.BundlesDefine, S = n.entityDefine, _ = n.pathDefine, D = n.formDefine, b = n.eventDefine, I = n.guideStep
          }, function (n) {
              M = n.customerManager
          }, function (n) {
              N = n.fingerUtil
          }]
          , execute: function () {
              var R, T;
              e._RF.push({}, "42cfbrfNdtNWpnzFTyK6iel", "mainScene", void 0);
              var F = i.ccclass;
              i.property, n("mainScene", F("mainScene")(((T = function (n) {
                      function e() {
                          for (var t, e = arguments.length, i = new Array(e), o = 0; o < e; o++) i[o] = arguments[o];
                          return (t = n.call.apply(n, [this].concat(i)) || this)
                              .loadEnv = !1, t.env = "Prefabs/env/", t.Buildings = "Buildings", t.Environment = "Environment", t.firstCoin = !1, t
                      }
                      t(e, n);
                      var i = e.prototype;
                      return i.start = function () {
                          console.log("mainScene start")
                      }, i.onEnable = function () {
                          var n = this;
                          u.hideAllEntity(this.Buildings), u.hideAllEntity(this.Environment);
                          var t = "" + this.env + this.Buildings;
                          h.preloadBundleRes(B.town, t, (function () {
                              n.isTownScene() && (u.getAllEntity(n.Buildings)
                                  .length > 0 && u.hideAllEntity(n.Buildings), u.showEntity(t, n.node.parent, (function (n) {
                                      console.log(" load buildings success")
                                  }), B.town))
                          }));
                          var i = "" + this.env + this.Environment;
                          if (h.preloadBundleRes(B.town, i, (function () {
                                  n.isTownScene() && (u.getAllEntity(n.Environment)
                                      .length > 0 && u.hideAllEntity(n.Environment), u.showEntity(i, n.node.parent, (function () {
                                          console.log(" load Environment success")
                                      }), B.town))
                              })), M.customerPersist ? this.scheduleOnce((function () {
                                  n.showCoinGuide()
                              }), .3) : u.showEntity(S.customerManager, this.node.parent, (function (t) {
                                  n.loadEnv = !0, n.loadDropMoney(t)
                              }), a.town), v.instance.townUI || (e.backIndex++, console.log("main scene 显示 homeform "), g.pushUIForm("" + _.form_townform + D.homeForm, (function (n) {
                                  n.getComponent(U)
                                      .init();
                                  var t = m.instance.getIntKey("open_home_ad_level", 4);
                                  if (l.isUnlockByDetailId(1e3 + t + 1)) {
                                      m.instance.getIntKey("zs_video3", -1);
                                      var i = m.instance.getIntKey("zs_game_show_switch", -1);
                                      if (-1 == i) {
                                          var s = C.New(p.CENTER, y.CENTER, new o(0, 0), null, null);
                                          E.currentPlatform.showCustomAd(s, 2, (function () {}))
                                      } else if (i > 0 && e.backIndex % i == 0) {
                                          var r = C.New(p.CENTER, y.CENTER, new o(0, 0), null, null);
                                          E.currentPlatform.showCustomAd(r, 2, (function () {}))
                                      }
                                  }
                              }), a.form)), v.instance.townCamera) {
                              var s = this.node.parent.getChildByName("CameraContainer");
                              s && s.children[0] && (s.children[0].position = m.instance.townCameraPosition)
                          }
                          f.dispatchEvent(b.SHOW_BUILD_GUIDE, null), f.dispatchEvent(b.UPDATE_MISSION, null)
                      }, i.isTownScene = function () {
                          return "town" == s.getScene()
                              .name
                      }, i.showCoinGuide = function (n) {
                          if (!this.firstCoin && !l.testStep(I.receiveCoin))
                              if (n) this.firstCoin || N.showCoinGuide(n) || (this.firstCoin = !0);
                              else
                                  for (var t = u.getAllEntity(S.money3d), e = 0; e < t.length; e++)
                                      if (n = t[e], !this.firstCoin && !N.showCoinGuide(n)) {
                                          this.firstCoin = !0;
                                          break
                                      }
                      }, i.loadDropMoney = function (n) {
                          var t = this;
                          console.log("加载缓存的钱币数据");
                          var e = l.getDropMoney();
                          d.framingLoad(e.length, (function (i) {
                              var o = e[i];
                              t.showCoin(o.position, o.amount, n, (function (n) {
                                  t.showCoinGuide(n)
                              }), o.isVideo)
                          }))
                      }, i.showCoin = function (n, t, e, i, o) {
                          void 0 === o && (o = !1), u.showEntity(S.money3d, e, (function (e) {
                              n.y = .1, e.position = n, e.setRotationFromEuler(new r(0, w.randomBoth(0, 360), 0)), e.getComponent(A)
                                  .reset(t, o), i && i(e)
                          }), a.town)
                      }, i.onDisable = function () {
                          u.hideAllEntity(this.Buildings), u.hideAllEntity(this.Environment)
                      }, e
                  }(c))
                  .backIndex = 0, R = T)) || R);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/mapForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./framingLoadingUtil.ts", "./memoryConfig.ts", "./baseAdForm.ts", "./platformUtil.ts", "./ArrayUtil.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./GameStoreDetail.ts", "./mapItem.ts", "./mapSubItem.ts"], (function (t) {
      "use strict";
      var e, n, o, i, r, l, a, c, s, m, u, f, p, d, h, y, g, I, C, b, A, v, S, D, w, U, M;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, o = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, l = t._decorator, a = t.ScrollView, c = t.Node, s = t.Vec3, m = t.UITransform
          }, function (t) {
              u = t.CategoryConst, f = t.BundlesConst
          }, function (t) {
              p = t.default
          }, function (t) {
              d = t.entityUtil
          }, function (t) {
              h = t.default
          }, function (t) {
              y = t.framingLoadingUtil
          }, function (t) {
              g = t.memoryConfig
          }, function (t) {
              I = t.baseAdForm
          }, function (t) {
              C = t.platformUtil
          }, function (t) {
              b = t.default
          }, function (t) {
              A = t.eventDefine, v = t.entityDefine, S = t.pathDefine
          }, function (t) {
              D = t.fingerUtil
          }, function (t) {
              w = t.GameStoreDetail
          }, function (t) {
              U = t.mapItem
          }, function (t) {
              M = t.mapSubItem
          }]
          , execute: function () {
              var E, F, P, _, T, L, O, x, B;
              r._RF.push({}, "688a8UJ44tHfo7+1Hc2gThA", "mapForm", void 0);
              var N = l.ccclass
                  , z = l.property;
              t("mapForm", (E = N("mapForm"), F = z(a), P = z(c), _ = z(c), E((O = e((L = function (t) {
                      function e() {
                          for (var e, n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                          return e = t.call.apply(t, [this].concat(r)) || this, o(e, "mapScroll", O, i(e)), o(e, "viewContent", x, i(e)), o(e, "btnClose", B, i(e)), e.mapIndex = 0, e
                      }
                      n(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnClose, this.hideForm), h.on(A.UNLOCK_MAP_CHANGED, this, this.initMap), h.on(A.AUTO_SCROLL_MAP_CHANGED, this, this.onScrollToOffset)
                      }, r.onEnable = function () {
                          C.currentPlatform.hideCustomAd()
                      }, r.onDisable = function () {
                          d.hideAllEntity(v.mapItem), d.hideAllEntity(v.mapSubItem)
                      }, r.reset = function () {
                          var t = w.getStoreByCategoryId(u.MAP);
                          console.log("mapAll", t), this.initMap()
                      }, r.initMap = function () {
                          d.hideAllEntity(v.mapMore), d.hideAllEntity(v.mapItem), d.hideAllEntity(v.mapSubItem), d.hideAllEntity(v.pictorialBook), this.viewContent.removeAllChildren();
                          var t = w.getStoreByCategoryIdAndParentId(u.MAP, -1)
                              .filter((function (t) {
                                  return 1 == t.Enabled
                              }))
                              .sort((function (t, e) {
                                  return t.DetailId - e.DetailId
                              }))
                              , e = b.clone(t);
                          M.minActiveWorldPos = new s(0, 2e3, 0), this.mapIndex = 0, this.loopMapItem(e)
                      }, r.loopMapItem = function (t) {
                          var e = this;
                          this.mapIndex >= t.length || this.addMapItem(t[this.mapIndex], (function () {
                              t.length - 1 == e.mapIndex ? y.framingLoad(1, (function () {
                                  e.addCompleted()
                              })) : y.framingLoad(1, (function () {
                                  e.mapIndex++, e.loopMapItem(t)
                              }))
                          }))
                      }, r.addMapItem = function (t, e) {
                          1 == g.instance.getIntKey("zs_video6", 0) && 2001 == t.DetailId && p.isUnlockByDetailId(1004) && p.addLocalDetailNum(t.CategoryId, t.DetailId, t.ChipNum, !0, t.ChipNum), d.showEntity(S.form_townform + v.mapItem, this.viewContent, (function (n) {
                              n.getComponent(U)
                                  .reset(t, !p.isUnlockByDetailId(t.DetailId), e)
                          }), f.form)
                      }, r.addCompleted = function () {
                          var t = this;
                          d.showEntity(S.form_townform + v.mapMore, this.viewContent, (function (e) {
                              t.scheduleOnce((function () {
                                  t.onScrollToOffset(M.minActiveWorldPos.subtract(new s(0, 200, 0)))
                              }), .5)
                          }), f.form)
                      }, r.onScrollToOffset = function (t) {
                          var e = this.viewContent.getComponent(m)
                              , n = e.convertToNodeSpaceAR(t)
                              .y / e.height;
                          this.mapScroll.scrollToPercentVertical(n, .4), console.log("worldPos", t, "percentY", n, "getScrollOffset", this.mapScroll.getScrollOffset())
                      }, r.hideForm = function () {
                          d.hideAllEntity(v.boxToolBubble), D.removeFinger(), this.showFloatCustomAd(), t.prototype.hideForm.call(this)
                      }, r.update = function (t) {}, e
                  }(I))
                  .prototype, "mapScroll", [F], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), x = e(L.prototype, "viewContent", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), B = e(L.prototype, "btnClose", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), T = L)) || T));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/mapItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./MSG.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./framingLoadingUtil.ts", "./httpUtil.ts", "./resourceUtil.ts", "./uiManager.ts", "./platformUtil.ts", "./Common.ts", "./CustomDefine.ts", "./pictorialBook.ts", "./GameStoreDetail.ts", "./mapSubItem.ts"], (function (t) {
      "use strict";
      var i, e, n, o, a, l, r, c, s, u, m, h, g, p, b, d, f, v, U, k, C, D, w, y, I, N, P, S, B, A, E;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, e = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, l = t._decorator, r = t.Sprite, c = t.Label, s = t.Node, u = t.UITransform
          }, function (t) {
              m = t.CategoryConst, h = t.BundlesConst
          }, function (t) {
              g = t.VIDEO_STATUS, p = t.VIDEO_MSG
          }, function (t) {
              b = t.BaseObject
          }, function (t) {
              d = t.default
          }, function (t) {
              f = t.entityUtil
          }, function (t) {
              v = t.default
          }, function (t) {
              U = t.framingLoadingUtil
          }, function (t) {
              k = t.httpUtil
          }, function (t) {
              C = t.resourceUtil
          }, function (t) {
              D = t.uiManager
          }, function (t) {
              w = t.platformUtil
          }, function (t) {
              y = t.default
          }, function (t) {
              I = t.BundlesDefine, N = t.entityDefine, P = t.pathDefine, S = t.eventDefine
          }, function (t) {
              B = t.pictorialBook
          }, function (t) {
              A = t.GameStoreDetail
          }, function (t) {
              E = t.mapSubItem
          }]
          , execute: function () {
              var V, z, _, x, L, M, T, R, O, G, F, H, j, K, q, Q, J, W, X, Y, Z, $, tt, it, et, nt, ot;
              a._RF.push({}, "d471d1LRuNG5LpHK4HkyI/m", "mapItem", void 0);
              var at = l.ccclass
                  , lt = l.property;
              t("mapItem", (V = at("mapItem"), z = lt(r), _ = lt(c), x = lt(c), L = lt(s), M = lt(c), T = lt(c), R = lt(s), O = lt(s), G = lt(s), F = lt(s), H = lt(s), j = lt(s), V((Q = i((q = function (t) {
                      function i() {
                          for (var i, e = arguments.length, a = new Array(e), l = 0; l < e; l++) a[l] = arguments[l];
                          return i = t.call.apply(t, [this].concat(a)) || this, n(i, "imgBg", Q, o(i)), n(i, "txtName", J, o(i)), n(i, "txtSubName", W, o(i)), n(i, "imgProgress", X, o(i)), n(i, "lblProgress", Y, o(i)), n(i, "lblCoin", Z, o(i)), n(i, "imgCoin", $, o(i)), n(i, "btnUnlock", tt, o(i)), n(i, "btnVideoUnlock", it, o(i)), n(i, "imgUnlock", et, o(i)), n(i, "imgMemo", nt, o(i)), n(i, "viewContent", ot, o(i)), i.mapDetail = void 0, i.min = 11025, i.max = 11040, i.interval = 4, i.bookRowIndex = 0, i
                      }
                      e(i, t);
                      var a = i.prototype;
                      return a.start = function () {
                          this.bindTouchEnd(this.btnUnlock, this.onUnlock), this.bindTouchEnd(this.btnVideoUnlock, this.onVideoUnlock)
                      }, a.reset = function (t, i, e) {
                          var n = this;
                          void 0 === i && (i = !1), this.mapDetail = t;
                          var o = A.getStoreByCategoryIdAndParentId(m.MAP, t.DetailId)
                              , a = o.filter((function (t) {
                                  return 0 == t.VideoNum
                              }))
                              , l = d.getUnlockSubNum(a)
                              , r = d.isUnlockByDetailId(t.DetailId);
                          if (this.lblProgress.string = l + "/" + o.length, this.lblCoin.string = "" + t.Amount, this.txtName.string = "" + t.ProductName, this.txtSubName.string = "" + t.Height, i) {
                              var c = A.getStoreByCategoryIdAndParentId(m.MAP, t.DetailId - 1);
                              d.getUnlockSubNum(c) == c.length ? (this.btnUnlock.active = !0, this.imgUnlock.active = !1, this.imgProgress.active = !0, this.lblProgress.node.active = !0) : (this.btnUnlock.active = !1, this.imgUnlock.active = !0, this.imgProgress.active = !1, this.lblProgress.node.active = !1), this.lblCoin.node.active = !0, this.imgCoin.active = !0, console.log(t.ProductName + " this.btnUnlock.active " + this.btnUnlock.active, "children length ", this.viewContent.children.length), this.viewContent.getComponent(u)
                                  .height = 0, e && e()
                          } else this.initSubView([2002].indexOf(t.DetailId) > -1, l, o, e), 0 != l || r ? (this.btnUnlock.active = !1, this.imgUnlock.active = !1, this.lblCoin.node.active = !1, this.imgCoin.active = !1) : (this.btnUnlock.active = !0, this.imgUnlock.active = !0, this.lblCoin.node.active = !0, this.imgCoin.active = !0);
                          r ? (this.imgMemo.active = !1, this.btnUnlock.active = !1, this.btnVideoUnlock.active = !1) : (this.imgMemo.active = !0, this.btnUnlock.active = d.getCoin() >= this.mapDetail.Amount, this.btnVideoUnlock.active = !this.btnUnlock.active);
                          var s = "texture/map/gs_gq_" + y.padLeft("" + (this.mapDetail.DetailId - 1999), 2, "0") + "/spriteFrame";
                          C.loadBundleRes(I.images, s, (function (t, i) {
                              t || (n.imgBg.spriteFrame = i)
                          }))
                      }, a.initSubView = function (t, i, e, n) {
                          var o = this;
                          this.bookRowIndex = 0, f.hideAllEntity(N.pictorialBook), this.viewContent.getComponent(u)
                              .height = 258 * i, U.addFramingLoadQueue(e.length, (function (a) {
                                  var l = e[a];
                                  o.addSubItem(a, i, l, (function () {
                                      t && (a + 1) % 2 == 0 && (o.addPictorialBook(l, null), o.bookRowIndex++), a == e.length - 1 && (t && o.addPictorialBook(l, null), n && n())
                                  }))
                              }))
                      }, a.addSubItem = function (t, i, e, n) {
                          f.showEntity(P.form_townform + N.mapSubItem, this.viewContent, (function (o) {
                              o.getComponent(E)
                                  .reset(e, t <= i, t == i), n && n()
                          }), h.form)
                      }, a.addPictorialBook = function (t, i) {
                          var e = t.treasureArr;
                          f.showEntity(P.form_townform + N.pictorialBook, this.viewContent, (function (t) {
                              t.getComponent(B)
                                  .init(e, i)
                          }), h.form)
                      }, a.onUnlock = function () {
                          this.imgUnlock.active ? D.showToast("需通过上一章节所有关卡") : d.getCoin() >= this.mapDetail.Amount && (d.subCoin(this.mapDetail.Amount), d.addLocalDetailNum(this.mapDetail.CategoryId, this.mapDetail.DetailId, this.mapDetail.ChipNum, !0, this.mapDetail.ChipNum), d.saveCoin(), v.dispatchEvent(S.UNLOCK_MAP_CHANGED, null))
                      }, a.onVideoUnlock = function () {
                          var t = this;
                          this.imgUnlock.active ? D.showToast("需通过上一章节所有关卡") : (k.reportVideoStart("金币不足-解锁大关卡", "" + this.mapDetail.DetailId), w.currentPlatform.showVideo((function (i) {
                              switch (i) {
                              case g.END:
                                  k.reportVideoFinish("金币不足-解锁大关卡", "" + t.mapDetail.DetailId), d.addLocalDetailNum(t.mapDetail.CategoryId, t.mapDetail.DetailId, t.mapDetail.ChipNum, !0, t.mapDetail.ChipNum), d.saveCoin(), v.dispatchEvent(S.UNLOCK_MAP_CHANGED, null);
                                  break;
                              case g.ERR:
                                  D.showToast(p.ERR);
                                  break;
                              case g.NOTEND:
                                  D.showToast(p.NOTEND)
                              }
                          })))
                      }, a.update = function (t) {}, i
                  }(b))
                  .prototype, "imgBg", [z], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), J = i(q.prototype, "txtName", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), W = i(q.prototype, "txtSubName", [x], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), X = i(q.prototype, "imgProgress", [L], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Y = i(q.prototype, "lblProgress", [M], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Z = i(q.prototype, "lblCoin", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), $ = i(q.prototype, "imgCoin", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), tt = i(q.prototype, "btnUnlock", [O], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), it = i(q.prototype, "btnVideoUnlock", [G], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), et = i(q.prototype, "imgUnlock", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), nt = i(q.prototype, "imgMemo", [H], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ot = i(q.prototype, "viewContent", [j], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), K = q)) || K));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/mapSubItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./resourceUtil.ts", "./uiManager.ts", "./gameState.ts", "./platformUtil.ts", "./Common.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./missionUtil.ts"], (function (t) {
      "use strict";
      var e, i, n, o, r, l, a, s, u, c, m, b, h, p, d, g, f, D, v, y, w, I, C, G, E, N, M, S, U, V;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, l = t._decorator, a = t.Label, s = t.Node, u = t.Sprite, c = t.SpriteFrame, m = t.Vec3
          }, function (t) {
              b = t.VIDEO_STATUS, h = t.VIDEO_MSG
          }, function (t) {
              p = t.BaseObject
          }, function (t) {
              d = t.default
          }, function (t) {
              g = t.entityUtil
          }, function (t) {
              f = t.httpUtil
          }, function (t) {
              D = t.memoryConfig
          }, function (t) {
              v = t.resourceUtil
          }, function (t) {
              y = t.uiManager
          }, function (t) {
              w = t.gameState
          }, function (t) {
              I = t.platformUtil
          }, function (t) {
              C = t.default
          }, function (t) {
              G = t.guideStep, E = t.BundlesDefine, N = t.missionType, M = t.formDefine, S = t.entityDefine
          }, function (t) {
              U = t.fingerUtil
          }, function (t) {
              V = t.missionUtil
          }]
          , execute: function () {
              var P, z, F, T, A, x, L, B, _, O, k, R, H, W, j, q, Z, J, K, Q, X, Y, $, tt, et, it, nt, ot, rt, lt, at, st, ut, ct, mt, bt;
              r._RF.push({}, "e86fet4ZD5FnqRI6+N0ulWD", "mapSubItem", void 0);
              var ht = l.ccclass
                  , pt = l.property;
              t("mapSubItem", (P = ht("mapSubItem"), z = pt(a), F = pt(a), T = pt(s), A = pt(a), x = pt(a), L = pt(a), B = pt(s), _ = pt(s), O = pt(s), k = pt(a), R = pt(u), H = pt(u), W = pt(u), j = pt(s), q = pt(c), Z = pt(c), P(((bt = function (t) {
                      function e() {
                          for (var e, i = arguments.length, r = new Array(i), l = 0; l < i; l++) r[l] = arguments[l];
                          return e = t.call.apply(t, [this].concat(r)) || this, n(e, "txtName", Q, o(e)), n(e, "lblProgress", X, o(e)), n(e, "imgCoinMemo", Y, o(e)), n(e, "lblCoinMemo", $, o(e)), n(e, "lblCoin", tt, o(e)), n(e, "lblHeight", et, o(e)), n(e, "btnGo", it, o(e)), n(e, "btnVideoGo", nt, o(e)), n(e, "btnVideoExplore", ot, o(e)), n(e, "txtVideoGo", rt, o(e)), n(e, "imgBg", lt, o(e)), n(e, "imgLogo", at, o(e)), n(e, "imgCompleted", st, o(e)), n(e, "imgUnlockMask", ut, o(e)), n(e, "bg1", ct, o(e)), n(e, "bg2", mt, o(e)), e.currentDetail = void 0, e.allowEnter = !1, e.isLast = !1, e.mapStep = G.selectMap, e
                      }
                      i(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnGo, this.startGame), this.bindTouchEnd(this.btnVideoGo, this.videoStartGame), this.bindTouchEnd(this.btnVideoExplore, this.videoStartGame)
                      }, r.reset = function (t, i, n) {
                          var o = this;
                          void 0 === i && (i = !0), this.currentDetail = t, this.allowEnter = i, this.isLast = n, 0 == this.currentDetail.VideoNum ? (this.txtName.node.active = !0, this.lblCoin.node.active = !0, this.lblCoinMemo.node.active = !0, this.imgCoinMemo.active = !0, this.lblHeight.string = "" + t.Height, this.btnGo.active = d.getCoin() >= this.currentDetail.Amount, this.btnVideoGo.active = !this.btnGo.active, this.btnVideoExplore.active = !1, this.imgBg.spriteFrame = this.bg1) : (this.txtName.node.active = !1, this.lblCoin.node.active = !1, this.lblCoinMemo.node.active = !1, this.imgCoinMemo.active = !1, this.lblHeight.string = "??????", this.btnGo.active = !1, this.btnVideoGo.active = !1, this.btnVideoExplore.active = !0, this.imgBg.spriteFrame = this.bg2), this.txtName.string = "" + t.ProductName, this.lblProgress.string = "" + t.ProductMemo, this.lblCoin.string = "" + t.Amount, d.isActiveByDetailId(t.DetailId) ? (this.imgCompleted.node.active = 0 == t.VideoNum, this.node.worldPosition.y < e.minActiveWorldPos.y && (e.minActiveWorldPos = this.node.worldPosition.clone())) : this.imgCompleted.node.active = !1, this.imgUnlockMask.active = !i, this.isLast && d.testStep(G.startGame) && !d.testStep(G.selectMap) && (U.showFinger(this.btnGo.getWorldPosition()), U.followUI(this.btnGo));
                          var r = "texture/map/gs_gq_" + C.padLeft("" + (t.ParentId - 1999), 2, "0") + "_01/spriteFrame";
                          v.loadBundleRes(E.images, r, (function (t, e) {
                              t || (o.imgLogo.spriteFrame = e)
                          }))
                      }, r.startGame = function () {
                          var t = this;
                          if (console.log("startGame", this.currentDetail.ProductName, this.currentDetail.ProductMemo, this.currentDetail.Tag), this.allowEnter)
                              if (d.getCoin() >= this.currentDetail.Amount) {
                                  d.stepEnd(G.selectMap), U.removeFinger(), d.subCoin(this.currentDetail.Amount), d.saveCoin();
                                  var e = d.getLocalShopDetailById(this.currentDetail.DetailId);
                                  d.addLocalDetailNum(this.currentDetail.CategoryId, this.currentDetail.DetailId, this.currentDetail.ChipNum, !(!e || !e.active), this.currentDetail.ChipNum), D.instance.level = this.currentDetail.DetailId, V.missionEnd(N.GO_MOUNTAIN), console.log("金币不足-视频赶山"), y.hideUIForm(M.mapForm, (function () {
                                      U.removeFollow(), w.instance.startGame(t.currentDetail.Tag), g.hideAllEntity(S.mapItem), g.hideAllEntity(S.mapSubItem), console.log("关闭地图界面")
                                  }))
                              } else y.showToast("钱不够了")
                      }, r.videoStartGame = function () {
                          var t = this;
                          console.log("startGame", this.currentDetail.ProductName, this.currentDetail.ProductMemo, this.currentDetail.Tag), this.allowEnter && (f.reportVideoStart("金币不足-视频赶山", "" + this.currentDetail.DetailId), I.currentPlatform.showVideo((function (e) {
                              switch (e) {
                              case b.END:
                                  d.stepEnd(G.selectMap), U.removeFinger(), f.reportVideoFinish("金币不足-视频赶山", "" + t.currentDetail.DetailId);
                                  var i = d.getLocalShopDetailById(t.currentDetail.DetailId);
                                  d.addLocalDetailNum(t.currentDetail.CategoryId, t.currentDetail.DetailId, t.currentDetail.ChipNum, !(!i || !i.active), t.currentDetail.ChipNum), D.instance.level = t.currentDetail.DetailId, V.missionEnd(N.GO_MOUNTAIN), console.log("金币不足-视频赶山"), y.hideUIForm(M.mapForm, (function () {
                                      U.removeFollow(), w.instance.startGame(t.currentDetail.Tag), g.hideAllEntity(S.mapItem), g.hideAllEntity(S.mapSubItem), console.log("关闭地图界面")
                                  }));
                                  break;
                              case b.ERR:
                                  y.showToast(h.ERR);
                                  break;
                              case b.NOTEND:
                                  y.showToast(h.NOTEND)
                              }
                          })))
                      }, e
                  }(p))
                  .minActiveWorldPos = new m(0, 0), Q = e((K = bt)
                      .prototype, "txtName", [z], {
                          configurable: !0
                          , enumerable: !0
                          , writable: !0
                          , initializer: function () {
                              return null
                          }
                      }), X = e(K.prototype, "lblProgress", [F], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), Y = e(K.prototype, "imgCoinMemo", [T], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), $ = e(K.prototype, "lblCoinMemo", [A], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), tt = e(K.prototype, "lblCoin", [x], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), et = e(K.prototype, "lblHeight", [L], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), it = e(K.prototype, "btnGo", [B], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), nt = e(K.prototype, "btnVideoGo", [_], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), ot = e(K.prototype, "btnVideoExplore", [O], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), rt = e(K.prototype, "txtVideoGo", [k], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), lt = e(K.prototype, "imgBg", [R], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), at = e(K.prototype, "imgLogo", [H], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), st = e(K.prototype, "imgCompleted", [W], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), ut = e(K.prototype, "imgUnlockMask", [j], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), ct = e(K.prototype, "bg1", [q], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), mt = e(K.prototype, "bg2", [Z], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), J = K)) || J));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/MathUtils.ts", ["cc", "./Debug.ts"], (function (exports) {
      "use strict";
      var cclegacy, math, assetManager, Debug;
      return {
          setters: [function (t) {
              cclegacy = t.cclegacy, math = t.math, assetManager = t.assetManager
          }, function (t) {
              Debug = t.Debug
          }]
          , execute: function () {
              cclegacy._RF.push({}, "3bd404JqVtNHqwVDNHiKOHQ", "MathUtils", void 0);
              var MathUtils = exports("default", function () {
                  function MathUtils() {}
                  return MathUtils.getAngle = function (t) {
                      return 180 * t / Math.PI
                  }, MathUtils.getRadian = function (t) {
                      return t / 180 * Math.PI
                  }, MathUtils.getRadianByPoint = function (t, a) {
                      return Math.atan2(a.y - t.y, a.x - t.x)
                  }, MathUtils.getAngleByPoint = function (t, a) {
                      return 180 * this.getRadianByPoint(t, a) / Math.PI
                  }, MathUtils.vecRotate = function (t, a) {
                      var n = MathUtils.getRadian(a)
                          , e = Math.sin(n)
                          , r = Math.cos(n)
                          , i = r * t.x - e * t.y
                          , o = e * t.x + r * t.y;
                      return new math.Vec2(i, o)
                  }, MathUtils.getRadianTwoPoint = function (t, a) {
                      var n = a.x - t.x
                          , e = a.y - t.y;
                      return Math.atan2(e, n)
                  }, MathUtils.getAngleTwoPoint = function (t, a) {
                      var n, e = a.y - t.y
                          , r = a.x - t.x;
                      return 0 == e ? r < 0 ? 180 : 0 : 0 == r ? (e > 0 ? n = 90 : e < 0 && (n = 270), n) : (n = this.getAngle(Math.atan(Math.abs(e) / Math.abs(r))), r > 0 ? e < 0 && (n = 360 - n) : n = e > 0 ? 180 - n : 180 + n, n)
                  }, MathUtils.getAngleTwoVec = function (t, a) {
                      var n = Math.atan2(a.y, a.x) - Math.atan2(t.y, t.x);
                      return this.getAngle(n)
                  }, MathUtils.getDistance = function (t, a) {
                      var n = a.x - t.x
                          , e = a.y - t.y
                          , r = Math.pow(n, 2) + Math.pow(e, 2);
                      return Math.sqrt(r)
                  }, MathUtils.exactCount = function (t, a) {
                      void 0 === a && (a = 0);
                      var n = Math.pow(10, a);
                      return (t * n | 0) / n
                  }, MathUtils.getBezierCutAngle = function (t, a, n, e) {
                      var r = 2 * (t.x * (e - 1) + a.x * (1 - 2 * e) + n.x * e)
                          , i = 2 * (t.y * (e - 1) + a.y * (1 - 2 * e) + n.y * e);
                      return this.getAngle(Math.atan2(i, r))
                  }, MathUtils.randomNumBoth = function (t, a) {
                      var n = a - t
                          , e = Math.random();
                      return t + Math.round(e * n)
                  }, MathUtils.randomFloatBetween = function (t, a) {
                      var n = a - t;
                      return t + Math.random() * n
                  }, MathUtils.probabilityCanHappen = function (t) {
                      return MathUtils.randomNumBoth(0, 100) <= t
                  }, MathUtils.probabilitys = function (t) {
                      for (var a = 0, n = [].concat(t), e = 0, r = 0; r < n.length; r++) e += n[r];
                      if (100 != e) throw "所有概率值总和不等于100%";
                      for (var i = new Array, o = 0; o < n.length; o++) {
                          for (var l = n[o], u = 0; u < l; u++) i.push(a);
                          a++
                      }
                      return i[this.randomNumBoth(0, 99)]
                  }, MathUtils.fromAxisAngle = function (t, a, n) {
                      n *= .5;
                      var e = Math.sin(n);
                      return t.x = e * a.x, t.y = e * a.y, t.z = e * a.z, t.w = Math.cos(n), t
                  }, MathUtils.padStart = function (t, a) {
                      for (var n = t.toString()
                              .length; n < a;) t = "0" + t, n++;
                      return t
                  }, MathUtils.covertMoney = function (t) {
                      var a = ((t = this.formatMoney(t, 0))
                              .match(/,/g) || [])
                          .length
                          , n = t.indexOf(",");
                      return a >= 0 && n >= 0 ? t.slice(0, n + 4) + ["", "K", "M", "G", "T", "P", "E", "B", "aa", "bb", "cc", "dd", "ee", "ff", "gg", "hh", "ii", "jj", "kk", "ll", "mm", "nn", "oo", "pp", "qq", "rr", "ss", "tt", "uu", "vv", "ww", "xx", "yy", "zz"][a - 1] : t
                  }, MathUtils.getTime = function () {
                      return Math.floor((new Date)
                          .getTime() / 1e3)
                  }, MathUtils.getDay = function () {
                      return Math.floor(Math.floor((new Date)
                          .getTime() / 1e3) / 86400)
                  }, MathUtils.getDate = function () {
                      return (new Date)
                          .toLocaleDateString()
                  }, MathUtils.getTimeFormate = function (t) {
                      var a = Math.floor(t / 3600)
                          , n = Math.floor(t % 3600 / 60)
                          , e = Math.floor(t % 60);
                      return a ? this.padStart(a, 2) + ":" + this.padStart(n, 2) + ":" + this.padStart(e, 2) : this.padStart(n, 2) + ":" + this.padStart(e, 2)
                  }, MathUtils.getQueryString = function (t) {
                      var a = new RegExp("(^|&)" + t + "=([^&]*)(&|$)")
                          , n = window.location.search.substr(1)
                          .match(a);
                      return null != n ? unescape(n[2]) : null
                  }, MathUtils.setQueryString = function setQueryString(name, replaceName) {
                      if (null != this.getQueryString(name)) {
                          var url = window.location.href.toString();
                          return url = url.replace(eval("/(" + name + "=)([^&]*)/gi"), replaceName), void window.history.replaceState({}, null, url)
                      }
                  }, MathUtils.tree = function (t) {
                      var a = this
                          , n = "color: " + (null === t.parent || t.activeInHierarchy ? "green" : "grey") + ";";
                      t.children.length > 0 ? (console.groupCollapsed("%c" + t.name, n), t.children.forEach((function (t) {
                          return a.tree(t)
                      })), console.groupEnd()) : Debug.log("%c" + t.name, n)
                  }, MathUtils.convertToNumber = function (t, a, n, e) {
                      return void 0 === e && (e = 255), (254 & t) << 23 | a << 16 | n << 8 | e
                  }, MathUtils.convertToRGBA = function (t) {
                      return {
                          r: (4009754624 & t) >> 23
                          , g: (16711680 & t) >> 16
                          , b: (65280 & t) >> 8
                          , a: 255 & t
                      }
                  }, MathUtils.changeAssetManagerMax = function () {
                      assetManager.downloader.maxConcurrency = 20, assetManager.downloader.maxRequestsPerFrame = 20
                  }, MathUtils
              }());
              MathUtils.formatMoney = function (t, a) {
                  if (/[^0-9\.]/.test(t)) return "0.00";
                  if (null == t || "null" == t || "" == t) return "0.00";
                  t = (t = ((t = t.toString()
                              .replace(/^(\d*)$/, "$1.")) + "00")
                          .replace(/(\d*\.\d\d)\d*/, "$1"))
                      .replace(".", ",");
                  for (var n = /(\d)(\d{3},)/; n.test(t);) t = t.replace(n, "$1,$2");
                  if (t = t.replace(/,(\d\d)$/, ".$1"), 0 == a) {
                      var e = t.split(".");
                      "00" == e[1] && (t = e[0])
                  }
                  return t
              }, cclegacy._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/memoryConfig.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./dataUtil.ts"], (function (t) {
      "use strict";
      var e, n, r, i, a, o, s;
      return {
          setters: [function (t) {
              e = t.inheritsLoose, n = t.createClass
          }, function (t) {
              r = t.cclegacy, i = t._decorator, a = t.Vec3, o = t.Component
          }, function (t) {
              s = t.default
          }]
          , execute: function () {
              var u, c;
              r._RF.push({}, "a43fbBkyvNN8JQIcYlXGIAo", "memoryConfig", void 0);
              var m = i.ccclass;
              i.property, t("memoryConfig", m("memoryConfig")(((c = function (t) {
                      function r() {
                          for (var e, n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                          return (e = t.call.apply(t, [this].concat(r)) || this)
                              .site01 = [], e.site02 = [], e.site03 = [], e.site04 = [], e.stoneId = 11051, e.hammerMaxNum = 2, e.level = 1001, e.townCameraPosition = new a(-20, 0, 0), e.bargainArray = [], e.bargainMaxNum = 2, e.memoryCfg = {}, e
                      }
                      e(r, t);
                      var i = r.prototype;
                      return i.addBargain = function (t, e) {
                          this.bargainArray.push({
                              pos: t
                              , uuid: e
                          })
                      }, i.removeBargain = function (t) {
                          for (var e = 0; e < this.bargainArray.length; e++)
                              if (this.bargainArray[e].uuid == t) {
                                  this.bargainArray.splice(e, 1);
                                  break
                              }
                      }, i.hasBargain = function (t) {
                          for (var e = 0; e < this.bargainArray.length; e++)
                              if (this.bargainArray[e].uuid == t) return !0;
                          return !1
                      }, i.addObject = function (t) {
                          for (var e in t) this.memoryCfg[e] = t[e]
                      }, i.addKey = function (t, e) {
                          this.memoryCfg[t] = e
                      }, i.getKey = function (t, e) {
                          var n = this.memoryCfg[t];
                          return null == n || null == n ? e : this.memoryCfg[t]
                      }, i.setKey = function (t, e) {
                          this.memoryCfg[t] = e
                      }, i.getIntKey = function (t, e) {
                          var n = this.getKey(t, e);
                          return parseInt(n)
                      }, i.appendInt = function (t, e, n) {
                          var r = this.getIntKey(t, n);
                          r += e, this.setKey(t, r)
                      }, i.getFloatKey = function (t, e) {
                          var n = this.getKey(t, e);
                          return parseFloat(n)
                      }, i.appendFloat = function (t, e, n) {
                          var r = this.getFloatKey(t, n);
                          r += e, this.setKey(t, r)
                      }, i.getBoolKey = function (t) {
                          var e = this.memoryCfg[t];
                          return "true" == e || 1 == e
                      }, n(r, [{
                          key: "hammerNum"
                          , get: function () {
                              return s.getHummerNum()
                          }
                          , set: function (t) {
                              t < 0 && (t = 0), t > this.hammerMaxNum && (t = this.hammerMaxNum), s.setHummerNum(t)
                          }
                      }], [{
                          key: "instance"
                          , get: function () {
                              return this._instance || (this._instance = new r), this._instance
                          }
                      }]), r
                  }(o))
                  ._instance = void 0, u = c)) || u);
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/missionBar.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./dataUtil.ts", "./eventUtil.ts", "./uiManager.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./missionUtil.ts", "./MissionCfg.ts", "./missionForm.ts"], (function (i) {
      "use strict";
      var t, n, o, e, s, r, a, u, c, m, l, f, g, p, h, d, v, F, b, I, U, M;
      return {
          setters: [function (i) {
              t = i.applyDecoratedDescriptor, n = i.inheritsLoose, o = i.initializerDefineProperty, e = i.assertThisInitialized
          }, function (i) {
              s = i.cclegacy, r = i._decorator, a = i.Label, u = i.ProgressBar, c = i.Node
          }, function (i) {
              m = i.BaseObject
          }, function (i) {
              l = i.default
          }, function (i) {
              f = i.default
          }, function (i) {
              g = i.uiManager
          }, function (i) {
              p = i.eventDefine, h = i.guideStep, d = i.formDefine, v = i.pathDefine, F = i.BundlesDefine
          }, function (i) {
              b = i.fingerUtil
          }, function (i) {
              I = i.missionUtil
          }, function (i) {
              U = i.MissionCfg
          }, function (i) {
              M = i.missionForm
          }]
          , execute: function () {
              var w, y, C, P, S, D, T, B, _;
              s._RF.push({}, "fd44erV21lJQov1m55+z8Zm", "missionBar", void 0);
              var O = r.ccclass
                  , x = r.property;
              i("missionBar", (w = O("missionBar"), y = x(a), C = x(u), P = x(c), w((T = t((D = function (i) {
                      function t() {
                          for (var t, n = arguments.length, s = new Array(n), r = 0; r < n; r++) s[r] = arguments[r];
                          return t = i.call.apply(i, [this].concat(s)) || this, o(t, "txtProgress", T, e(t)), o(t, "imgProgress", B, e(t)), o(t, "imgTag", _, e(t)), t
                      }
                      n(t, i);
                      var s = t.prototype;
                      return s.start = function () {
                          f.on(p.NEXT_MISSION, this, this.onNextMission), f.on(p.UPDATE_MISSION, this, this.showMission), this.bindTouchEnd(this.node, this.onTipClick)
                      }, s.onEnable = function () {}, s.showMission = function () {
                          var i = this
                              , t = l.getCurrentMission();
                          if (-1 == t.missionId) return this.node.active = !1, void(this.imgTag.active = !1);
                          var n = U.get(t.missionId)
                              , o = I.formatMission(n, t);
                          this.txtProgress.string = o.memoStr + "  " + o.progressStr, this.imgProgress.progress = o.progress, this.imgTag.active = o.progress >= 1, o.progress >= 1 && l.testStep(h.receiveCoin) && !l.testStep(h.missionConfirm) && this.scheduleOnce((function () {
                              g.getUIForm(d.advertiseForm) || g.getUIForm(d.mapForm) || g.getUIForm(d.putonshelvesForm) || g.getUIForm(d.shopUpgradeForm) || g.getUIForm(d.missionForm) || g.getUIForm(d.gameForm) || (b.showFinger(i.node.getWorldPosition()), b.followUI(i.node), f.dispatchEvent(p.SHOW_DIALOG, {
                                  step: h.missionConfirm
                              }))
                          }), .3)
                      }, s.onTipClick = function (i) {
                          g.pushUIForm(v.form_townform + d.missionForm, (function (i) {
                              l.stepEnd(h.missionClick), i.getComponent(M)
                                  .showMission()
                          }), F.form)
                      }, s.onNextMission = function () {
                          this.showMission()
                      }, s.update = function (i) {}, t
                  }(m))
                  .prototype, "txtProgress", [y], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), B = t(D.prototype, "imgProgress", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = t(D.prototype, "imgTag", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), S = D)) || S));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/MissionCfg.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Sheets.ts", "./sheetManager.ts"], (function (t) {
      "use strict";
      var n, e, i, s;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy
          }, function (t) {
              i = t.MissionCfgBase
          }, function (t) {
              s = t.SheetManager
          }]
          , execute: function () {
              e._RF.push({}, "c19fcvDdD9N0owxNmlHkXQR", "MissionCfg", void 0);
              t("MissionCfg", function (t) {
                  function e() {
                      return t.apply(this, arguments) || this
                  }
                  return n(e, t), e.get = function (t) {
                      return this[t] ? this[t] : s.get("MissionCfg", t, e)
                  }, e.getAll = function () {
                      return s.getAllSheets("MissionCfg", e)
                  }, e.getNextMission = function (t) {
                      return this.getAll()
                          .find((function (n) {
                              return n.ID > t
                          }))
                  }, e
              }(i));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/missionForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./dataUtil.ts", "./eventUtil.ts", "./baseAdForm.ts", "./missionModel.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./moneyUtil.ts", "./missionUtil.ts", "./MissionCfg.ts"], (function (i) {
      "use strict";
      var t, e, n, o, s, r, l, u, a, c, m, f, p, h, d, g, b, v, C;
      return {
          setters: [function (i) {
              t = i.applyDecoratedDescriptor, e = i.inheritsLoose, n = i.initializerDefineProperty, o = i.assertThisInitialized
          }, function (i) {
              s = i.cclegacy, r = i._decorator, l = i.Node, u = i.ProgressBar, a = i.Label
          }, function (i) {
              c = i.default
          }, function (i) {
              m = i.default
          }, function (i) {
              f = i.baseAdForm
          }, function (i) {
              p = i.missionModel
          }, function (i) {
              h = i.guideStep, d = i.eventDefine
          }, function (i) {
              g = i.fingerUtil
          }, function (i) {
              b = i.moneyUtil
          }, function (i) {
              v = i.missionUtil
          }, function (i) {
              C = i.MissionCfg
          }]
          , execute: function () {
              var M, w, y, F, x, R, I, P, z, U, S, A, D, E, T, N, _;
              s._RF.push({}, "12f4852+rJJZprM0RWJ5Irs", "missionForm", void 0);
              var B = r.ccclass
                  , J = r.property;
              i("missionForm", (M = B("missionForm"), w = J(l), y = J(l), F = J(u), x = J(a), R = J(a), I = J(a), P = J(l), M((S = t((U = function (i) {
                      function t() {
                          for (var t, e = arguments.length, s = new Array(e), r = 0; r < e; r++) s[r] = arguments[r];
                          return t = i.call.apply(i, [this].concat(s)) || this, n(t, "btnClose", S, o(t)), n(t, "btnReceive", A, o(t)), n(t, "missionProgress", D, o(t)), n(t, "txtProgress", E, o(t)), n(t, "txtCoin", T, o(t)), n(t, "txtMemo", N, o(t)), n(t, "imgCompleted", _, o(t)), t
                      }
                      e(t, i);
                      var s = t.prototype;
                      return s.start = function () {
                          this.bindTouchEnd(this.btnClose, this.hideForm), this.bindTouchEnd(this.btnReceive, this.onReceive), this.showMission()
                      }, s.onEnable = function () {
                          i.prototype.onEnable.call(this), this.showMission(), this.showTopCustomAd(), this.showBottomCustomAd()
                      }, s.onDisable = function () {
                          this.hideTopCustomAd(), this.hideBottomCustomAd()
                      }, s.hideForm = function () {
                          g.removeFinger(), i.prototype.hideForm.call(this)
                      }, s.onReceive = function () {
                          var i = c.getCurrentMission()
                              , t = C.get(i.missionId);
                          if (1 == v.formatMission(t, i)
                              .progress) {
                              var e = C.get(i.missionId);
                              null != e && (this.endMission(e, i), b.instance.flyNum(e.rewardCoin, this.txtCoin.node.position, null, this.node), b.instance.flyCoin(this.txtCoin.node.position, (function () {}), 10, this.node)), c.stepEnd(h.missionConfirm), g.removeFinger()
                          }
                      }, s.endMission = function (i, t) {
                          c.addCoin(i.rewardCoin);
                          var e = C.getNextMission(t.missionId);
                          null != e ? c.setCurrentMission(new p(e.ID)) : c.setCurrentMission(new p(-1)), m.dispatchEvent(d.NEXT_MISSION, null), this.showMission()
                      }, s.showMission = function () {
                          var i = c.getCurrentMission();
                          if (-1 != i.missionId) {
                              var t = C.get(i.missionId);
                              if (null != t) {
                                  this.txtCoin.string = "+" + t.rewardCoin;
                                  var e = v.formatMission(t, i);
                                  this.btnReceive.active = 1 == e.progress, this.imgCompleted.active = 1 == e.progress, this.txtMemo.string = e.memoStr, this.missionProgress.progress = e.progress, this.txtProgress.string = e.progressStr, 1 == e.progress && c.testStep(h.missionClick) && !c.testStep(h.missionConfirm) && (g.showFinger(this.btnReceive.getWorldPosition()), g.followUI(this.btnReceive))
                              } else this.btnReceive.active = !1, this.imgCompleted.active = !1
                          } else this.hideForm()
                      }, s.update = function (i) {}, t
                  }(f))
                  .prototype, "btnClose", [w], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), A = t(U.prototype, "btnReceive", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), D = t(U.prototype, "missionProgress", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), E = t(U.prototype, "txtProgress", [x], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), T = t(U.prototype, "txtCoin", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), N = t(U.prototype, "txtMemo", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = t(U.prototype, "imgCompleted", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), z = U)) || z));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/missionModel.ts", ["cc"], (function (s) {
      "use strict";
      var i;
      return {
          setters: [function (s) {
              i = s.cclegacy
          }]
          , execute: function () {
              i._RF.push({}, "e9652lpCVJM5551fy1JBT3T", "missionModel", void 0);
              s("missionModel", (function (s) {
                  this.missionId = s, this.missionTarget = 0, this.missionTarget2 = 0, this.state = 0
              }));
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/missionUtil.ts", ["cc", "./dataUtil.ts", "./eventUtil.ts", "./Common.ts", "./GameStoreDetail.ts", "./MissionCfg.ts", "./CustomDefine.ts"], (function (s) {
      "use strict";
      var i, e, t, n, o, r, a, m, T;
      return {
          setters: [function (s) {
              i = s.cclegacy, e = s._decorator
          }, function (s) {
              t = s.default
          }, function (s) {
              n = s.default
          }, function (s) {
              o = s.default
          }, function (s) {
              r = s.GameStoreDetail
          }, function (s) {
              a = s.MissionCfg
          }, function (s) {
              m = s.missionType, T = s.eventDefine
          }]
          , execute: function () {
              var g;
              i._RF.push({}, "dd629INNlFBgKCsefOh4SDk", "missionUtil", void 0);
              var c = e.ccclass;
              e.property, s("missionUtil", c("missionUtil")(g = function () {
                  function s() {}
                  return s.missionEnd = function (s, i) {
                      var e = t.getCurrentMission()
                          , o = a.get(e.missionId);
                      if (null != o) {
                          if (o.missionType == m.GO_MOUNTAIN || o.missionType == m.SOLD) o.missionType == s && (e.missionTarget++, e.missionTarget >= o.missionTarget && (e.missionTarget = o.missionTarget, e.state = 1), t.setCurrentMission(e, !0, !1));
                          else if (o.missionType == m.GAME_LEVEL) t.getCurrentLevel() + 1 >= o.missionTarget && (e.state = 1, t.setCurrentMission(e, !0, !1));
                          else if (o.missionType == m.STALLS_LEVEL) {
                              t.getRacksMaxLevel() + 1 >= o.missionTarget && (e.state = 1, t.setCurrentMission(e, !0, !1))
                          } else o.missionType == m.RECEIVE_TARGET ? o.missionType == s && o.missionTarget == i && (e.missionTarget++, e.missionTarget >= o.missionTarget && (e.missionTarget = o.missionTarget, e.state = 1), t.setCurrentMission(e, !0, !1)) : o.missionType == m.RECEIVE_FOODS ? s != m.RECEIVE_FOODS && s != m.RECEIVE_TARGET || (e.missionTarget++, e.missionTarget >= o.missionTarget && (e.missionTarget = o.missionTarget, e.state = 1), t.setCurrentMission(e, !0, !1)) : o.missionType == m.MAP_TARGET && o.missionType == s && (e.missionTarget++, t.isUnlockByDetailId(o.missionTarget) && (e.missionTarget = o.missionTarget, e.state = 1), t.setCurrentMission(e, !0, !1));
                          n.dispatchEvent(T.UPDATE_MISSION, null)
                      }
                  }, s.formatMission = function (s, i) {
                      var e = 0
                          , n = ""
                          , a = i.missionTarget + "/" + s.missionTarget;
                      switch (s.missionType) {
                      case m.GO_MOUNTAIN:
                          e = i.missionTarget / s.missionTarget, n = o.format(s.memo, s.missionTarget);
                          break;
                      case m.GAME_LEVEL:
                          (e = (t.getCurrentLevel() + 1) / s.missionTarget) > 1 && (e = 1), a = t.getCurrentLevel() + 1 + "/" + s.missionTarget, n = o.format(s.memo, s.missionTarget);
                          break;
                      case m.SOLD:
                          e = i.missionTarget / s.missionTarget, n = o.format(s.memo, s.missionTarget);
                          break;
                      case m.STALLS_LEVEL:
                          a = "", (e = (t.getRacksMaxLevel() + 1) / s.missionTarget) > 1 && (e = 1), n = o.format(s.memo, s.missionTarget);
                          break;
                      case m.RECEIVE_FOODS:
                          e = i.missionTarget / s.missionTarget, n = o.format(s.memo, s.missionTarget);
                      case m.RECEIVE_TARGET:
                          if (!o.isEmpty(s.missionTarget)) {
                              var T = r.getStoreDetailByDetailId(s.missionTarget2);
                              T && (e = t.getLocalDetailNumById(s.missionTarget2) / s.missionTarget, n = o.format(s.memo, s.missionTarget, T.ProductName))
                          }
                          break;
                      case m.MAP_TARGET:
                          var g = r.getStoreDetailByDetailId(s.missionTarget);
                          n = o.format(s.memo, "[" + g.ProductName + "]"), t.isUnlockByDetailId(s.missionTarget) ? (a = "1/1", e = 1) : (a = "0/1", e = 0)
                      }
                      return {
                          progress: e
                          , progressStr: a
                          , memoStr: n
                      }
                  }, s
              }()) || g);
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/moneyUtil.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./audioManager.ts", "./dataUtil.ts", "./entityUtil.ts", "./uiManager.ts", "./Common.ts", "./CustomDefine.ts"], (function (n) {
      "use strict";
      var t, i, e, o, s, a, c, u, r, l, d, f, y, p, g, h;
      return {
          setters: [function (n) {
              t = n.createClass
          }, function (n) {
              i = n.cclegacy, e = n._decorator, o = n.Vec2, s = n.Vec3, a = n.tween, c = n.Label, u = n.View
          }, function (n) {
              r = n.BundlesConst
          }, function (n) {
              l = n.audioManager
          }, function (n) {
              d = n.default
          }, function (n) {
              f = n.entityUtil
          }, function (n) {
              y = n.uiManager
          }, function (n) {
              p = n.default
          }, function (n) {
              g = n.entityDefine, h = n.BundlesDefine
          }]
          , execute: function () {
              var m, v;
              i._RF.push({}, "6f7c49r/iJEfJpQHl/8ZonN", "moneyUtil", void 0);
              var w = e.ccclass;
              e.property, n("moneyUtil", w("moneyUtil")(((v = function () {
                      function n() {
                          this.speed = 2200
                      }
                      var i = n.prototype;
                      return i.createCoinAnim = function (n, t, i) {
                          var e = this;
                          void 0 === i && (i = null), i || (i = y.uiRoot), f.showEntity(g.money2d, i, (function (c) {
                              c.setSiblingIndex(i.children.length - 1);
                              var u = p.randomNumBoth(0, 360)
                                  , r = new o(0, 1)
                                  .rotate(u)
                                  .multiplyScalar(80)
                                  , d = new s(0, 0, 0)
                                  , y = s.add(d, n, new s(r.x, r.y, 0));
                              y.add(new s(r.x, r.y, 0));
                              c.position = n, c.scale = new s(.5, .5, .5);
                              var g = s.distance(n, y) / 1e3;
                              a(c)
                                  .to(g, {
                                      position: y
                                      , scale: new s(1.5, 1.5, 1.5)
                                  }, {
                                      easing: "sineIn"
                                  })
                                  .delay(.3)
                                  .call((function () {
                                      var n = s.distance(c.position, e.coinBarPos) / 1500;
                                      a(c)
                                          .to(n, {
                                              position: e.coinBarPos
                                              , scale: new s(1, 1, 1)
                                          }, {
                                              easing: "sineOut"
                                          })
                                          .call((function () {
                                              l.playAudio("coin"), f.hideEntity(c), t()
                                          }))
                                          .start()
                                  }))
                                  .start()
                          }), r.town)
                      }, i.flyCoin = function (n, t, i, e) {
                          void 0 === i && (i = 10), void 0 === e && (e = null);
                          for (var o = 0, s = 0; s < i; s++) this.createCoinAnim(n, (function () {
                              ++o >= i && t && t()
                          }), e)
                      }, i.flyNum = function (n, t, i, e) {
                          void 0 === e && (e = null), e || (e = y.uiRoot), f.showEntity(g.animCoinNum, e, (function (o) {
                              o.position = t, o.parent = e, o.children[0].getComponent(c)
                                  .string = "+" + n, o.setSiblingIndex(e.children.length - 1), a(o)
                                  .by(1, {
                                      position: new s(0, 100, 0)
                                  }, {
                                      easing: "sineIn"
                                  })
                                  .call((function () {
                                      f.hideEntity(o), i && i()
                                  }))
                                  .start()
                          }), h.town)
                      }, i.setDropMoney = function () {
                          var n = f.getAllEntity(g.money3d)
                              , t = [];
                          n.forEach((function (n) {
                              var i = n.getComponent("paymentCoin");
                              t.push({
                                  position: n.position
                                  , amount: i.coin
                                  , isVideo: i.isVideo
                              })
                          })), d.setDropMoney(t)
                      }, t(n, [{
                          key: "coinBarPos"
                          , get: function () {
                              var n = u.instance.getVisibleSize()
                                  .width
                                  , t = u.instance.getVisibleSize()
                                  .height;
                              return new s(n / 2 - 50 - 125.154 - 104.5285, t / 2 - 172.632, 0)
                          }
                      }], [{
                          key: "instance"
                          , get: function () {
                              return this._instance || (this._instance = new n), this._instance
                          }
                      }]), n
                  }())
                  ._instance = void 0, m = v)) || m);
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/moreAd.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./AdHorizontal.ts", "./AdVertical.ts", "./CustomOptions.ts", "./platformUtil.ts"], (function (t) {
      "use strict";
      var n, e, o, r, i, c, s, u, a, l, d, f, p;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, e = t.inheritsLoose, o = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              i = t.cclegacy, c = t._decorator, s = t.Node, u = t.Vec2
          }, function (t) {
              a = t.BaseObject
          }, function (t) {
              l = t.AdHorizontal
          }, function (t) {
              d = t.AdVertical
          }, function (t) {
              f = t.CustomOptions
          }, function (t) {
              p = t.platformUtil
          }]
          , execute: function () {
              var m, h, A, g, b;
              i._RF.push({}, "c16eb2nTGZFdYIv9T9dP3d/", "moreAd", void 0);
              var v = c.ccclass
                  , y = c.property;
              t("moreAd", (m = v("moreAd"), h = y(s), m((b = n((g = function (t) {
                      function n() {
                          for (var n, e = arguments.length, i = new Array(e), c = 0; c < e; c++) i[c] = arguments[c];
                          return n = t.call.apply(t, [this].concat(i)) || this, o(n, "imgBg", b, r(n)), n
                      }
                      e(n, t);
                      var i = n.prototype;
                      return i.start = function () {
                          this.bindTouchEnd(this.imgBg, this.onMoreAd)
                      }, i.onMoreAd = function () {
                          var t = f.New(l.CENTER, d.CENTER, new u(0, 0), null, null);
                          p.currentPlatform.showCustomAd(t, 2, (function () {}))
                      }, i.update = function (t) {}, n
                  }(a))
                  .prototype, "imgBg", [h], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), A = g)) || A));
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/movement.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts"], (function (t) {
      "use strict";
      var e, i, o, s, n;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              i = t.cclegacy, o = t._decorator, s = t.Vec3
          }, function (t) {
              n = t.BaseObject
          }]
          , execute: function () {
              var r;
              i._RF.push({}, "65a8c6r15lAn6YOPKZmwWtK", "movement", void 0);
              var a = o.ccclass;
              o.property, t("movement", a("movement")(r = function (t) {
                  function i() {
                      for (var e, i = arguments.length, o = new Array(i), n = 0; n < i; n++) o[n] = arguments[n];
                      return (e = t.call.apply(t, [this].concat(o)) || this)
                          .begin = new s, e.end = new s, e.speed = 80, e.direction = new s, e.nowPos = new s, e.moveCompleteCall = void 0, e.arrive = !1, e.isStopped = !0, e.totalTime = 0, e
                  }
                  e(i, t);
                  var o = i.prototype;
                  return o.move = function (t, e, i, o) {
                      this.nowPos = t, this.begin = t, this.end = e, this.speed = i, this.moveCompleteCall = o, this.direction = s.subtract(this.direction, e, t);
                      var n = s.distance(this.begin, this.end);
                      this.totalTime = n / this.speed, this.arrive = !1, this.isStopped = !1, this.node.worldPosition = this.nowPos
                  }, o.update = function (t) {
                      if (!this.isStopped) {
                          var e = new s;
                          e = s.multiplyScalar(e, this.direction, t / this.totalTime), this.nowPos = this.nowPos.add(e);
                          var i = s.squaredDistance(this.nowPos, this.end);
                          !this.arrive && i <= 4 && (this.nowPos = this.end, this.node.worldPosition = this.nowPos, this.arrive = !0, this.isStopped = !0, this.moveCompleteCall && this.moveCompleteCall()), this.node.worldPosition = this.nowPos
                      }
                  }, i
              }(n)) || r);
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/MSG.ts", ["cc"], (function (E) {
      "use strict";
      var _;
      return {
          setters: [function (E) {
              _ = E.cclegacy
          }]
          , execute: function () {
              E("SHARE_CHANNEL", void 0), _._RF.push({}, "bd76ca1N2pOKaDu/OT6pBa4", "MSG", void 0);
              var N;
              E("MSG", {
                  HIDE_BANNER: "隐藏banner"
                  , INVITE_PLAY_USER: "你的好友{0}邀请你加入"
                  , BANNER_KEY_IS_NULL: "banner id 没有配置"
                  , BANNER_SHOW: "显示BANNER"
                  , BANNER_RESIZE: "banner位置或大小被重新设置"
                  , NAVIGATE_FAST: "跳转太频繁 >>>>>>>>>>>>>>>>>>>>>"
                  , NAVIGATE_DATA: "跳转数据"
                  , SYSTEM_INFO: "设备信息"
                  , VIDEO_KEY_IS_NULL: "video id 没有配置"
                  , VIDEO_LOAD_COMPLETED: "加载video成功回调"
                  , VIDEO_CLOSE_COMPLETED: "video关闭回调"
                  , VIDEO_ERROR_COMPLETED: "video加载错误"
                  , NATIVE_LOAD_COMPLETED: "加载原生广告成功"
                  , NATIVE_ERROR: "原生广告加载出错,使用新ID加载原生广告"
                  , NATIVE_ERROR2: "原生广告加载出错，本次没有广告"
                  , NATIVE_NOT_ID_USE: "原生广告ID已经用完，本次没有广告"
                  , NATIVE_CLICK: "点击了原生广告"
                  , NATIVE_REPORT: "上报原生广告"
                  , NATIVE_LIST_NULL: "原生广告数据没有，回调Null"
                  , NATIVE_DESTROY: "原生广告销毁"
                  , INTER_KEY_IS_NULL: "插屏广告ID为空，系统不加载"
                  , ALD_FILE_NO_IMPORT: "阿拉丁文件未引入"
                  , PLATFORM_UNSUPPORT: "版本过低 平台不支持"
              });
              ! function (E) {
                  E.ARTICLE = "article", E.VIDEO = "video", E.TOKEN = "token", E.LINK = ""
              }(N || (N = E("SHARE_CHANNEL", {})));
              E("VIDEO_MSG", {
                  ERR: "视频正在加载中,请稍后"
                  , NOTEND: "请完整观看完视频！"
              }), E("VIDEO_STATUS", {
                  END: "__video_end"
                  , NOTEND: "__video_not_end"
                  , ERR: "__video_error"
              });
              _._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/msgBubble.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./entityUtil.ts"], (function (t) {
      "use strict";
      var e, i, n, r, s, o, c, u, l;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              s = t.cclegacy, o = t._decorator, c = t.Label
          }, function (t) {
              u = t.BaseObject
          }, function (t) {
              l = t.entityUtil
          }]
          , execute: function () {
              var a, p, f, b, h;
              s._RF.push({}, "eadf87IKttFpJrqUOfBki26", "msgBubble", void 0);
              var d = o.ccclass
                  , g = o.property;
              t("msgBubble", (a = d("msgBubble"), p = g(c), a((h = e((b = function (t) {
                      function e() {
                          for (var e, i = arguments.length, s = new Array(i), o = 0; o < i; o++) s[o] = arguments[o];
                          return e = t.call.apply(t, [this].concat(s)) || this, n(e, "txtMsg", h, r(e)), e
                      }
                      i(e, t);
                      var s = e.prototype;
                      return s.start = function () {}, s.init = function (t) {
                          this.txtMsg.string = t, this.unschedule(this.removeNode), this.scheduleOnce(this.removeNode, 5)
                      }, s.removeNode = function () {
                          l.hideEntity(this.node)
                      }, e
                  }(u))
                  .prototype, "txtMsg", [p], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), f = b)) || f));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/nativeAdResult.ts", ["cc"], (function (t) {
      "use strict";
      var i;
      return {
          setters: [function (t) {
              i = t.cclegacy
          }]
          , execute: function () {
              i._RF.push({}, "f6228qRyetALZ/4YuqLxsJq", "nativeAdResult", void 0);
              t("default", (function () {
                  this.adId = "", this.title = "", this.desc = "", this.icon = "", this.imgUrlList = [], this.logoUrl = "", this.clickBtnTxt = "", this.creativeType = 0, this.interactionType = 0
              }));
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/NativeGroup.ts", ["cc", "./NativeSize.ts"], (function (t) {
      "use strict";
      var e, i;
      return {
          setters: [function (t) {
              e = t.cclegacy
          }, function (t) {
              i = t.NativeSize
          }]
          , execute: function () {
              e._RF.push({}, "594ffSugDdHuJ9b1SUKW+Lp", "NativeGroup", void 0);
              t("NativeGroup", (function () {
                  this.Size = i.LR, this.Id = ""
              }));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/NativeOptions.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./AdHorizontal.ts", "./AdVertical.ts", "./BannerOptions.ts", "./NativeSize.ts", "./Debug.ts"], (function (t) {
      "use strict";
      var i, e, n, r, h, s, a, o;
      return {
          setters: [function (t) {
              i = t.inheritsLoose, e = t.createClass
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              r = t.AdHorizontal
          }, function (t) {
              h = t.AdVertical
          }, function (t) {
              s = t.BannerOptions
          }, function (t) {
              a = t.NativeSize
          }, function (t) {
              o = t.Debug
          }]
          , execute: function () {
              n._RF.push({}, "28cdcPhiUVE2KwlG0t/cDaz", "NativeOptions", void 0);
              var c = t("NativeLR", (function () {}));
              c.width = 720, c.height = 300;
              var u = t("NativeTB", (function () {}));
              u.width = 720, u.height = 630;
              var l = t("NativePIC", (function () {}));
              l.width = 720, l.height = 525;
              t("default", function (t) {
                  function n(i, e, n, r, h) {
                      var s;
                      return (s = t.call(this) || this)
                          .CurrentSize = a.LR, s.Horizontal = i, s.Vertical = e, s.Top = h, s.Left = r, s.Offset = n, s
                  }
                  return i(n, t), n.prototype.GetStyle = function (t) {
                      var i = t.screenHeight
                          , e = t.screenWidth
                          , n = 0
                          , s = 0;
                      switch (o.log("1-----显示Native horizontal " + this.Horizontal + "  vertical " + this.Vertical + " windowWidth:" + e + "  windowHeight:" + i + "  "), this.Vertical) {
                      case h.TOP:
                          n = 0;
                          break;
                      case h.CENTER:
                          n = (i - this.height) / 2;
                          break;
                      case h.BOTTOM:
                          n = i - this.height;
                          break;
                      case h.CUSTOM:
                      default:
                          n = this.Top
                      }
                      switch (this.Horizontal) {
                      case r.LEFT:
                          s = 0;
                          break;
                      case r.CENTER:
                          s = (e - this.width) / 2;
                          break;
                      case r.RIGHT:
                          s = e - this.width;
                          break;
                      case r.CUSTOM:
                      default:
                          s = this.Left
                      }
                      return o.log('"Native Option  left:' + s + " top:" + n + '"'), {
                          left: s + this.Offset.x
                          , top: n + this.Offset.y
                          , width: this.width
                      }
                  }, e(n, [{
                      key: "width"
                      , get: function () {
                          return this.CurrentSize == a.TB ? u.width : this.CurrentSize == a.PIC ? l.width : c.width
                      }
                  }, {
                      key: "height"
                      , get: function () {
                          return this.CurrentSize == a.TB ? u.height : this.CurrentSize == a.PIC ? l.height : c.height
                      }
                  }]), n
              }(s));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/NativeSize.ts", ["cc"], (function (e) {
      "use strict";
      var t;
      return {
          setters: [function (e) {
              t = e.cclegacy
          }]
          , execute: function () {
              var i;
              e("NativeSize", void 0), t._RF.push({}, "3621dK+FJhAFp68zSW3KtXf", "NativeSize", void 0)
                  , function (e) {
                      e[e.LR = 0] = "LR", e[e.TB = 1] = "TB", e[e.PIC = 2] = "PIC"
                  }(i || (i = e("NativeSize", {}))), t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/NavMesh.ts", ["cc", "./Astar.ts", "./Channel.ts", "./nUtils.ts", "./Plane.ts", "./Triangle.ts"], (function (n) {
      "use strict";
      var e, t, r, o, s, i, u;
      return {
          setters: [function (n) {
              e = n.cclegacy, t = n.Vec3
          }, function (n) {
              r = n.Astar
          }, function (n) {
              o = n.Channel
          }, function (n) {
              s = n.nUtils
          }, function (n) {
              i = n.Plane
          }, function (n) {
              u = n.Triangle
          }]
          , execute: function () {
              e._RF.push({}, "2ad69Row9tKGo6dR8xOoxwB", "NavMesh", void 0);
              var a = new t
                  , c = new i
                  , l = new u
                  , h = new t
                  , v = new t
                  , f = Math.pow(50, 2);
              n("NavMesh", function () {
                      function n() {}
                      return n.setZoneData = function (n, e) {
                          this.zone[n] = e
                      }, n.clearZoneData = function (n) {
                          this.zone[n] = null
                      }, n.getGroup = function (n, e) {
                          if (!this.zone[n]) return null;
                          for (var r = null, o = f, s = 0, i = this.zone[n].groups.length; s < i; s++)
                              for (var u = this.zone[n].groups[s], a = 0, c = u.length; a < c; a++) {
                                  var l = u[a]
                                      , h = t.squaredDistance(l.centroid, e);
                                  h < o && (r = s, o = h)
                              }
                          return r
                      }, n.getRandomNode = function (n, e, r, o) {
                          if (!this.zone[n]) return new t;
                          r = r || null, o = o || 0;
                          var i = [];
                          return this.zone[n].groups[e].forEach((function (n) {
                              r && o ? t.squaredDistance(r, n.centroid) < o * o && i.push(n.centroid) : i.push(n.centroid)
                          })), s.sample(i) || new t
                      }, n.findPath = function (n, e, i, u) {
                          for (var a, c = this.zone[i].groups[u], l = this.zone[i].vertices, h = null, v = f, d = 0, p = c.length; d < p; d++) {
                              var g = c[d];
                              (a = t.squaredDistance(g.centroid, n)) < v && (h = g, v = a)
                          }
                          var z = null;
                          v = f;
                          for (var w = 0, P = c.length; w < P; w++) {
                              var x = c[w];
                              (a = t.squaredDistance(x.centroid, e)) < v && s.isVectorInPolygon(e, x, l) && (z = x, v = a)
                          }
                          if (!h || !z) return null;
                          var D = r.search(c, h, z)
                              , I = function (n, e) {
                                  for (var t = 0; t < n.neighbours.length; t++)
                                      if (n.neighbours[t] === e.id) return n.portals[t]
                              }
                              , q = new o;
                          q.push(n);
                          for (var m = 0; m < D.length; m++) {
                              var N = D[m]
                                  , R = D[m + 1];
                              if (R) {
                                  var b = I(N, R);
                                  q.push(l[b[0]], l[b[1]])
                              }
                          }
                          return q.push(e), q.stringPull(), q.path
                      }, n.getClosestNode = function (n, e, r, o) {
                          void 0 === o && (o = !1);
                          var i = this.zone[e].groups[r]
                              , u = this.zone[e].vertices
                              , a = null
                              , c = f;
                          return i.forEach((function (e) {
                              var r = t.squaredDistance(e.centroid, n);
                              r < c && (!o || s.isVectorInPolygon(n, e, u)) && (a = e, c = r)
                          })), a.centroid
                      }, n.clampStep = function (n, e, r, o, s) {
                          var i, u, d = this.zone[r].vertices
                              , p = this.zone[r].groups[o]
                              , g = [e]
                              , z = {};
                          z[e.id] = 0, a.set(0, 0, 0), i = f, c.setFromCoplanarPoints(d[e.vertexIds[0]], d[e.vertexIds[1]], d[e.vertexIds[2]]), c.projectPoint(n, h), v.set(h);
                          for (var w = g.pop(); w; w = g.pop()) {
                              l.set(d[w.vertexIds[0]], d[w.vertexIds[1]], d[w.vertexIds[2]]), l.closestPointToPoint(v, h), (u = t.squaredDistance(h, v)) < i && (a.set(h), i = u);
                              var P = z[w.id];
                              if (!(P > 2))
                                  for (var x = 0; x < w.neighbours.length; x++) {
                                      var D = p[w.neighbours[x]];
                                      D.id in z || (g.push(D), z[D.id] = P + 1)
                                  }
                          }
                          s.set(a)
                      }, n
                  }())
                  .zone = {}, e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/NavMeshAgent.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./eventUtil.ts", "./memoryConfig.ts", "./Common.ts", "./CustomDefine.ts", "./customerAnimator.ts", "./nUtils.ts"], (function (t) {
      "use strict";
      var e, s, o, n, i, h, a, r, c, u, p;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              s = t.cclegacy, o = t._decorator, n = t.Vec3, i = t.Component
          }, function (t) {
              h = t.default
          }, function (t) {
              a = t.memoryConfig
          }, function (t) {
              r = t.default
          }, function (t) {
              c = t.eventDefine
          }, function (t) {
              u = t.customerAnimator
          }, function (t) {
              p = t.nUtils
          }]
          , execute: function () {
              var l;
              s._RF.push({}, "dfc11KeIodAQaGnodWJT/N8", "NavMeshAgent", void 0);
              var d = o.ccclass;
              o.property, t("NavMeshAgent", d("NavMeshAgent")(l = function (t) {
                  function s() {
                      for (var e, s = arguments.length, o = new Array(s), i = 0; i < s; i++) o[i] = arguments[i];
                      return (e = t.call.apply(t, [this].concat(o)) || this)
                          .move = !1, e._path = [], e.speed = .5, e.roleAngel = 0, e.step = 0, e.currstep = null, e.pos = new n, e.des = new n, e
                  }
                  e(s, t);
                  var o = s.prototype;
                  return o.onEnable = function () {
                      var t = a.instance.getFloatKey("customer_move_min", 1)
                          , e = a.instance.getFloatKey("customer_move_max", 2);
                      this.speed = r.randomBoth(t, e)
                  }, o.onDisable = function () {}, o.startMove = function (t) {
                      this.stopMove(), this._path = t, this.move = !0
                  }, o.stopMove = function () {
                      this.move = !1, this._path.length = 0, this.step = 0, this.currstep = null
                  }, o.update = function (t) {}, o.customUpdate = function (t) {
                      if (this.move) {
                          this.node.getComponent(u)
                              .playWalk(), this.pos.set(this.node.position), this.currstep != this.step && (this.des.set(this._path[this.step]), this.rotateRole(this.pos, this.des), this.currstep = this.step), p.MoveTowards(this.pos, this.pos, this.des, t * this.speed) && this.changeStep();
                          n.distance(this.node.position, this.pos);
                          this.node.setPosition(this.pos)
                      }
                  }, o.changeStep = function () {
                      this.step++, this.step == this._path.length && (this.move = !1, h.dispatchEvent(c.NAV_MESH_AGENT_MOVE_END, {
                          uuid: this.node.uuid
                      }))
                  }, o.rotateRole = function (t, e) {
                      this.roleAngel = Math.atan2(e.x - t.x, e.z - t.z) * (180 / Math.PI) % 360, this.node.setRotationFromEuler(0, this.roleAngel)
                  }, s
              }(i)) || l);
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/normalEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./uiManager.ts", "./takeTipsForm.ts", "./CustomDefine.ts", "./baseGameEntity.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var n, e, o, i, a, r, s, c, u, m;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy, o = t._decorator
          }, function (t) {
              i = t.uiManager
          }, function (t) {
              a = t.takeTipsForm
          }, function (t) {
              r = t.formDefine, s = t.BundlesDefine
          }, function (t) {
              c = t.baseGameEntity, u = t.GameEntityType
          }, function (t) {
              m = t.GameData
          }]
          , execute: function () {
              var l;
              e._RF.push({}, "852ccENP/BKD4CWuo2OESo/", "normalEntity", void 0);
              var h = o.ccclass;
              o.property, t("normalEntity", h("normalEntity")(l = function (t) {
                  function e() {
                      for (var n, e = arguments.length, o = new Array(e), i = 0; i < e; i++) o[i] = arguments[i];
                      return (n = t.call.apply(t, [this].concat(o)) || this)
                          .entityType = u.Normal, n.physicalCost = 100, n
                  }
                  n(e, t);
                  var o = e.prototype;
                  return o.onEnable = function () {
                      if (t.prototype.onEnable.call(this), this.node.children.length > 1 && "huluobo" != this.node.name) {
                          this.node.children.forEach((function (t) {
                              t.active = !1
                          }));
                          var n = Math.floor(Math.random() * this.node.children.length);
                          this.node.children[n].active = !0
                      }
                  }, o.triggerTouch = function () {
                      var n = this;
                      t.prototype.triggerTouch.call(this), m.instance.gameForm.node.pauseSystemEvents(!1), this.showEntity((function () {
                          0 == m.instance.getCacheItemNum(n.detailId) ? i.pushUIForm("gameform/" + r.takeTipsForm, (function (t) {
                              t.getComponent(a)
                                  .init(n.detailId, (function () {
                                      n.takeEntity(), m.instance.gameForm.node.resumeSystemEvents(!1)
                                  }))
                          }), s.form) : (n.takeEntity(), m.instance.gameForm.node.resumeSystemEvents(!1))
                      }))
                  }, e
              }(c)) || l);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/NumberType.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (t) {
      "use strict";
      var e, i, r, n, s, u, a, o, c;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, r = t.initializerDefineProperty, n = t.assertThisInitialized
          }, function (t) {
              s = t.cclegacy, u = t._decorator, a = t.Label, o = t.lerp, c = t.Component
          }]
          , execute: function () {
              var l, p, h, f;
              s._RF.push({}, "2015f3vkc1GNpBpEik/qANF", "NumberType", void 0);
              var m = u.ccclass
                  , _ = u.property;
              t("default", m((h = e((p = function (t) {
                      function e() {
                          for (var e, i = arguments.length, s = new Array(i), u = 0; u < i; u++) s[u] = arguments[u];
                          return e = t.call.apply(t, [this].concat(s)) || this, r(e, "stepTime", h, n(e)), r(e, "duringTime", f, n(e)), e.label = null, e._curNum = 0, e._stack = [], e._run = !1, e
                      }
                      i(e, t);
                      var s = e.prototype;
                      return s.start = function () {
                          this.label = this.getComponent(a), this._curNum = parseFloat(this.label.string)
                      }, s.typeTo = function (t, e) {
                          void 0 === e && (e = 0), this._run || this._stack.length > 0 ? this._stack.push({
                              n: t
                              , afterPointfixed: e
                          }) : this.excuteType(t, e)
                      }, s.excuteType = function (t, e) {
                          var i = this;
                          void 0 === e && (e = 0), this._run = !0;
                          var r = 0;
                          this.schedule((function () {
                              if (r = parseFloat((r + .02)
                                      .toFixed(2)), i.label.string = o(i._curNum, t, r)
                                  .toFixed(e)
                                  .toString(), 1 == r && (i._curNum = parseFloat(i.label.string), i._run = !1, i._stack.length > 0)) {
                                  var n = i._stack.shift();
                                  i.excuteType(n.n, n.afterPointfixed)
                              }
                          }), this.stepTime, this.duringTime - 1)
                      }, e
                  }(c))
                  .prototype, "stepTime", [_], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return .01
                      }
                  }), f = e(p.prototype, "duringTime", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 60
                  }
              }), l = p)) || l);
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/nUtils.ts", ["cc"], (function (n) {
      "use strict";
      var r, t;
      return {
          setters: [function (n) {
              r = n.cclegacy, t = n.Vec3
          }]
          , execute: function () {
              r._RF.push({}, "8ee06Csgn5F7rr0XWn5nG1u", "nUtils", void 0);
              n("nUtils", function () {
                  function n() {}
                  return n.roundNumber = function (n, r) {
                      var t = Math.pow(10, r);
                      return Math.round(n * t) / t
                  }, n.isPointInPoly = function (n, r) {
                      for (var t = !1, e = -1, u = n.length, i = u - 1; ++e < u; i = e)(n[e].z <= r.z && r.z < n[i].z || n[i].z <= r.z && r.z < n[e].z) && r.x < (n[i].x - n[e].x) * (r.z - n[e].z) / (n[i].z - n[e].z) + n[e].x && (t = !t);
                      return t
                  }, n.isVectorInPolygon = function (n, r, t) {
                      var e = 1e5
                          , u = -1e5
                          , i = [];
                      return r.vertexIds.forEach((function (n) {
                          e = Math.min(t[n].y, e), u = Math.max(t[n].y, u), i.push(t[n])
                      })), !!(n.y < u + .5 && n.y > e - .5 && this.isPointInPoly(i, n))
                  }, n.MoveTowards = function (n, r, t, e) {
                      var u = t.x - r.x
                          , i = t.y - r.y
                          , o = t.z - r.z
                          , s = u * u + i * i + o * o;
                      if (0 == s || e >= 0 && s <= e * e) return n.set(t), !0;
                      var a = Math.sqrt(s);
                      return n.set(r.x + u / a * e, r.y + i / a * e, r.z + o / a * e), !1
                  }, n.triarea2 = function (n, r, t) {
                      var e = r.x - n.x
                          , u = r.z - n.z;
                      return (t.x - n.x) * u - e * (t.z - n.z)
                  }, n.mergeVertices = function (n) {
                      var r, t, e, u, i, o = {}
                          , s = new Array
                          , a = [];
                      for (e = 0, u = n.vertices.length; e < u; e++) null == o[t = n.vertices[e]] ? (o[t] = e, s.push(t), a[e] = s.length - 1) : a[e] = a[o[t]];
                      var c = [];
                      for (e = 0, u = n.faces.length; e < u; e++) {
                          (i = n.faces[e])[0] = a[i[0]], i[1] = a[i[1]], i[2] = a[i[2]], r = i;
                          for (var f = 0; f < 3; f++)
                              if (r[f] == r[(f + 1) % 3]) {
                                  c.push(e);
                                  break
                              }
                      }
                      for (e = c.length - 1; e >= 0; e--) {
                          var h = c[e];
                          n.faces.splice(h, 1)
                      }
                      n.vertices = s
                  }, n.sample = function (n) {
                      return n[Math.floor(Math.random() * n.length)]
                  }, n.vequal = function (n, r) {
                      return t.distance(n, r) < 1e-5
                  }, n
              }());
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/onlineReward.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./baseObject.ts", "./dataUtil.ts", "./eventUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./platformUtil.ts", "./Common.ts", "./OnlineRewardCfg.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./moneyUtil.ts", "./onlineRewardForm.ts"], (function (e) {
      "use strict";
      var n, i, t, o, r, a, s, l, u, c, d, m, f, h, g, p, w, R, y, v, b, T, F, U, A, D, I, _, C, E;
      return {
          setters: [function (e) {
              n = e.applyDecoratedDescriptor, i = e.inheritsLoose, t = e.initializerDefineProperty, o = e.assertThisInitialized
          }, function (e) {
              r = e.cclegacy, a = e._decorator, s = e.Label, l = e.Node, u = e.Animation, c = e.UITransform, d = e.Vec3
          }, function (e) {
              m = e.VIDEO_STATUS, f = e.VIDEO_MSG
          }, function (e) {
              h = e.BaseObject
          }, function (e) {
              g = e.default
          }, function (e) {
              p = e.default
          }, function (e) {
              w = e.httpUtil
          }, function (e) {
              R = e.memoryConfig
          }, function (e) {
              y = e.uiManager
          }, function (e) {
              v = e.platformUtil
          }, function (e) {
              b = e.default
          }, function (e) {
              T = e.OnlineRewardCfg
          }, function (e) {
              F = e.guideStep, U = e.pathDefine, A = e.formDefine, D = e.BundlesDefine, I = e.eventDefine
          }, function (e) {
              _ = e.fingerUtil
          }, function (e) {
              C = e.moneyUtil
          }, function (e) {
              E = e.onlineRewardForm
          }]
          , execute: function () {
              var N, x, O, P, S, z, M, L, V, B, G, j, H;
              r._RF.push({}, "484f1/FvjhDp58JgoXTKT0z", "onlineReward", void 0);
              var K = a.ccclass
                  , k = a.property;
              e("onlineReward", (N = K("onlineReward"), x = k(s), O = k(l), P = k({
                  type: u
              }), S = k(l), z = k(l), N((V = n((L = function (e) {
                      function n() {
                          for (var n, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                          return n = e.call.apply(e, [this].concat(r)) || this, t(n, "txtTime", V, o(n)), t(n, "imgBg", B, o(n)), t(n, "bgAnim", G, o(n)), t(n, "animNode", j, o(n)), t(n, "videoTag", H, o(n)), n.online_time = 0, n.onlineAll = [], n.currentReward = null, n.rewardIndex = 0, n.guideCount = 0, n.isPlaying = !1, n
                      }
                      i(n, e);
                      var r = n.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.animNode, this.onTouchEnd)
                      }, r.onTouchEnd = function () {
                          var e = this;
                          0 == this.getRemainderTime() ? (g.stepEnd(F.onlineReward), _.removeFinger(), y.pushUIForm(U.form_townform + A.onlineRewardForm, (function (n) {
                              n.getComponent(E)
                                  .init((function (n) {
                                      e.onReward(n)
                                  }), e.currentReward.coin)
                          }), D.form)) : (w.reportVideoStart("外快"), v.currentPlatform.showVideo((function (n) {
                              switch (n) {
                              case m.END:
                                  w.reportVideoFinish("外快"), e.online_time = Date.now(), R.instance.setKey("online_time", e.online_time), g.stepEnd(F.onlineReward), _.removeFinger(), e.onReward(1);
                                  break;
                              case m.ERR:
                                  y.showToast(f.ERR);
                                  break;
                              case m.NOTEND:
                                  y.showToast(f.NOTEND)
                              }
                          })))
                      }, r.onReward = function (e) {
                          var n = this;
                          if (this.currentReward) {
                              var i = Math.min(Math.max(Math.floor(this.currentReward.coin / 20), 3), 5)
                                  , t = this.node.position
                                  , o = this.currentReward.coin * e;
                              C.instance.flyNum(o, t), C.instance.flyCoin(t, (function () {
                                  g.addCoin(o), n.rewardIndex++, n.rewardIndex > n.onlineAll.length - 1 ? n.node.active = !1 : (n.online_time = Date.now(), R.instance.setKey("online_time", n.online_time), n.currentReward = n.onlineAll[n.rewardIndex])
                              }), i)
                          }
                      }, r.onEnable = function () {
                          this.online_time = R.instance.getIntKey("online_time", 0), this.onlineAll = T.getAll(), this.currentReward = this.onlineAll[this.rewardIndex], this.isPlaying = !1
                      }, r.getRemainderTime = function () {
                          var e = (Date.now() - this.online_time) / 1e3
                              , n = this.currentReward.second - e;
                          return n < 0 && (n = 0), n
                      }, r.showGuide = function () {
                          if (!(this.guideCount > 0) && g.testStep(F.receiveCoin) && !g.testStep(F.onlineReward)) {
                              if (y.getUIForm(A.advertiseForm)) return;
                              if (y.getUIForm(A.mapForm)) return;
                              if (y.getUIForm(A.putonshelvesForm)) return;
                              if (y.getUIForm(A.shopUpgradeForm)) return;
                              if (y.getUIForm(A.missionForm)) return;
                              if (y.getUIForm(A.gameForm)) return;
                              this.guideCount++, _.showFinger(this.node.getWorldPosition()), p.dispatchEvent(I.SHOW_DIALOG, {
                                  step: F.onlineReward
                              })
                          }
                      }, r.playAnim = function () {
                          this.isPlaying || (this.videoTag.active = !1, this.isPlaying = !0, this.bgAnim.play())
                      }, r.stopAnim = function () {
                          if (this.isPlaying) {
                              this.videoTag.active = !0, this.isPlaying = !1, this.bgAnim.stop();
                              this.animNode.getComponent(c);
                              this.animNode.scale = new d(1, 1, 1)
                          }
                      }, r.showReward = function () {
                          var e = this.getRemainderTime();
                          0 == e ? (this.showGuide(), this.playAnim()) : this.stopAnim();
                          var n = b.secondToHHmmss(e)
                              , i = b.padLeft("" + n[1], 2, "0") + ":" + b.padLeft("" + n[2], 2, "0");
                          this.txtTime.string = i
                      }, r.update = function (e) {
                          this.currentReward && this.showReward()
                      }, n
                  }(h))
                  .prototype, "txtTime", [x], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), B = n(L.prototype, "imgBg", [O], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), G = n(L.prototype, "bgAnim", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), j = n(L.prototype, "animNode", [S], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), H = n(L.prototype, "videoTag", [z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), M = L)) || M));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/OnlineRewardCfg.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Sheets.ts", "./sheetManager.ts"], (function (e) {
      "use strict";
      var n, t, r, i;
      return {
          setters: [function (e) {
              n = e.inheritsLoose
          }, function (e) {
              t = e.cclegacy
          }, function (e) {
              r = e.OnlineRewardCfgBase
          }, function (e) {
              i = e.SheetManager
          }]
          , execute: function () {
              t._RF.push({}, "e3a33MXQltH0pId49reBrbv", "OnlineRewardCfg", void 0);
              e("OnlineRewardCfg", function (e) {
                  function t() {
                      return e.apply(this, arguments) || this
                  }
                  return n(t, e), t.get = function (e) {
                      return this[e] ? this[e] : i.get("OnlineRewardCfg", e, t)
                  }, t.getAll = function () {
                      return i.getAllSheets("OnlineRewardCfg", t)
                  }, t
              }(r));
              t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/onlineRewardForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./httpUtil.ts", "./uiManager.ts", "./uiForm.ts", "./platformUtil.ts"], (function (t) {
      "use strict";
      var i, n, o, e, r, l, a, s, u, c, h, f, p, d;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, n = t.inheritsLoose, o = t.initializerDefineProperty, e = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, l = t._decorator, a = t.Node, s = t.Label
          }, function (t) {
              u = t.VIDEO_STATUS, c = t.VIDEO_MSG
          }, function (t) {
              h = t.httpUtil
          }, function (t) {
              f = t.uiManager
          }, function (t) {
              p = t.UiForm
          }, function (t) {
              d = t.platformUtil
          }]
          , execute: function () {
              var m, b, C, y, F, w, g, R, V;
              r._RF.push({}, "529c6Chg0ROQ7d0yUoqmGkr", "onlineRewardForm", void 0);
              var E = l.ccclass
                  , T = l.property;
              t("onlineRewardForm", (m = E("onlineRewardForm"), b = T(a), C = T(a), y = T(s), m((g = i((w = function (t) {
                      function i() {
                          for (var i, n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                          return i = t.call.apply(t, [this].concat(r)) || this, o(i, "btnVideoGo", g, e(i)), o(i, "btnConfirm", R, e(i)), o(i, "txtCoin", V, e(i)), i.multiCoin = 1, i.onCloseCall = null, i
                      }
                      n(i, t);
                      var r = i.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnVideoGo, this.onVideo), this.bindTouchEnd(this.btnConfirm, this.onConfirm)
                      }, r.init = function (t, i) {
                          this.onCloseCall = t, this.multiCoin = 1, this.txtCoin.string = "" + i
                      }, r.onVideo = function () {
                          var t = this;
                          h.reportVideoStart("三倍外快"), d.currentPlatform.showVideo((function (i) {
                              switch (i) {
                              case u.END:
                                  h.reportVideoFinish("三倍外快"), t.multiCoin = 3, t.hideForm();
                                  break;
                              case u.ERR:
                                  f.showToast(c.ERR);
                                  break;
                              case u.NOTEND:
                                  f.showToast(c.NOTEND)
                              }
                          }))
                      }, r.onConfirm = function () {
                          this.hideForm()
                      }, r.hideForm = function () {
                          this.onCloseCall && this.onCloseCall(this.multiCoin), t.prototype.hideForm.call(this)
                      }, r.update = function (t) {}, i
                  }(p))
                  .prototype, "btnVideoGo", [b], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), R = i(w.prototype, "btnConfirm", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), V = i(w.prototype, "txtCoin", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), F = w)) || F));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/OPPOModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PlatformModule.ts"], (function (t) {
      "use strict";
      var e, n, u;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              u = t.default
          }]
          , execute: function () {
              n._RF.push({}, "fb236WALuRH+7XIgRf3PmaU", "OPPOModule", void 0);
              t("default", function (t) {
                  function n() {
                      for (var e, n = arguments.length, u = new Array(n), o = 0; o < n; o++) u[o] = arguments[o];
                      return (e = t.call.apply(t, [this].concat(u)) || this)
                          .platformName = "qg", e
                  }
                  return e(n, t), n
              }(u));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/particle.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./entityUtil.ts"], (function (t) {
      "use strict";
      var e, i, n, r, o, c, s, a, l, p;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, c = t._decorator, s = t.CCFloat, a = t.ParticleSystem, l = t.Component
          }, function (t) {
              p = t.entityUtil
          }]
          , execute: function () {
              var u, h, y, f, d;
              o._RF.push({}, "e6993P6HolEsbZyBcdT2ozT", "particle", void 0);
              var m = c.ccclass
                  , v = c.property;
              t("particle", (u = m("particle"), h = v(s), u((d = e((f = function (t) {
                      function e() {
                          for (var e, i = arguments.length, o = new Array(i), c = 0; c < i; c++) o[c] = arguments[c];
                          return e = t.call.apply(t, [this].concat(o)) || this, n(e, "time", d, r(e)), e
                      }
                      return i(e, t), e.prototype.init = function (t) {
                          var e = this;
                          this.node.worldPosition = t;
                          var i = this.node.getComponent(a);
                          i.play(), 0 != this.time && this.scheduleOnce((function () {
                              i.stop(), i.clear(), p.hideEntity(e.node)
                          }), this.time)
                      }, e
                  }(l))
                  .prototype, "time", [h], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return 0
                      }
                  }), y = f)) || y));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/paymentBar.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./Common.ts"], (function (t) {
      "use strict";
      var e, r, n, i, o, a, s, l, c, u, p;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, r = t.inheritsLoose, n = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, a = t._decorator, s = t.Sprite, l = t.Label, c = t.tween
          }, function (t) {
              u = t.BaseObject
          }, function (t) {
              p = t.default
          }]
          , execute: function () {
              var f, g, m, y, b, h, B;
              o._RF.push({}, "7ba3a0HVy1KHoXyTYMVgyIo", "paymentBar", void 0);
              var T = a.ccclass
                  , d = a.property;
              t("paymentBar", (f = T("paymentBar"), g = d(s), m = d(l), f((h = e((b = function (t) {
                      function e() {
                          for (var e, r = arguments.length, o = new Array(r), a = 0; a < r; a++) o[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(o)) || this, n(e, "progressBar", h, i(e)), n(e, "lblProgress", B, i(e)), e.totalTime = 100, e
                      }
                      r(e, t);
                      var o = e.prototype;
                      return o.start = function () {}, o.init = function (t) {
                          var e = this
                              , r = {
                                  currentTime: 0
                              }
                              , n = p.randomBoth(2, 3);
                          c(r)
                              .to(n, {
                                  currentTime: this.totalTime
                              }, {
                                  onUpdate: function (t, n) {
                                      e.lblProgress.string = Math.floor(r.currentTime / e.totalTime * 100) + "%", e.progressBar.fillRange = -r.currentTime / e.totalTime
                                  }
                                  , onComplete: function (t) {
                                      e.lblProgress.string = "100%", e.progressBar.fillRange = -1
                                  }
                              })
                              .start(), this.scheduleOnce((function () {
                                  t && t()
                              }), n)
                      }, e
                  }(u))
                  .prototype, "progressBar", [g], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), B = e(b.prototype, "lblProgress", [m], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), y = b)) || y));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/paymentCoin.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./poolManager.ts", "./gameState.ts", "./platformUtil.ts", "./TransformUtil.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./moneyUtil.ts", "./VideoExchange.ts"], (function (t) {
      "use strict";
      var n, i, e, o, r, a, c, s, l, u, f, d, p, h, m, y, v, g, C, w, b, U, D;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, i = t.inheritsLoose, e = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, c = t.Node, s = t.Vec3
          }, function (t) {
              l = t.VIDEO_STATUS
          }, function (t) {
              u = t.BaseObject
          }, function (t) {
              f = t.default
          }, function (t) {
              d = t.entityUtil
          }, function (t) {
              p = t.httpUtil
          }, function (t) {
              h = t.memoryConfig
          }, function (t) {
              m = t.poolManager
          }, function (t) {
              y = t.gameState
          }, function (t) {
              v = t.platformUtil
          }, function (t) {
              g = t.CoordinateTool
          }, function (t) {
              C = t.guideStep, w = t.entityDefine
          }, function (t) {
              b = t.fingerUtil
          }, function (t) {
              U = t.moneyUtil
          }, function (t) {
              D = t.VideoExchange
          }]
          , execute: function () {
              var V, E, N, S, M, T, I, z;
              r._RF.push({}, "7069fnOYTlMSow+b82ZmwYt", "paymentCoin", void 0);
              var P = a.ccclass
                  , O = a.property;
              t("paymentCoin", (V = P("paymentCoin"), E = O(c), V((M = n((S = function (t) {
                      function n() {
                          for (var n, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                          return n = t.call.apply(t, [this].concat(r)) || this, e(n, "coin", M, o(n)), e(n, "receiveDistance", T, o(n)), e(n, "isVideo", I, o(n)), e(n, "videoNode", z, o(n)), n
                      }
                      i(n, t);
                      var r = n.prototype;
                      return r.start = function () {}, r.onRaycast = function () {
                          var t = this;
                          this.isVideo ? (p.reportVideoStart("视频钞票"), v.currentPlatform.showVideo((function (n) {
                              switch (n) {
                              case l.END:
                                  p.reportVideoFinish("视频钞票");
                                  var i = D.getExchangeDollar(f.getCurrentLevel() + 1)
                                      , e = g.transWorldPositionToUI(t.node.worldPosition, y.instance.townUI, y.instance.townCamera);
                                  U.instance.flyNum(i, e), U.instance.flyCoin(e, (function () {}), 5), f.addCoin(i), d.hideEntity(t.node);
                                  break;
                              case l.ERR:
                              case l.NOTEND:
                                  d.hideEntity(t.node)
                              }
                          }))) : (this.receiveNearCoin(), f.stepEnd(C.receiveCoin)), b.removeFinger(), b.removeFollow()
                      }, r.reset = function (t, n) {
                          var i = this;
                          void 0 === n && (n = !1), this.coin = t, this.isVideo = n, this.videoNode.active = this.isVideo;
                          var e = h.instance.getIntKey("zs_video5", 0);
                          this.scheduleOnce((function () {
                              d.hideEntity(i.node)
                          }), e)
                      }, r.receiveNearCoin = function () {
                          for (var t = m.getStack(w.money3d), i = 0, e = 0; e < t.length; e++)
                              if (s.distance(t[e].position, this.node.position) <= this.receiveDistance) {
                                  var o = t[e].getComponent(n);
                                  o.isVideo || (i += o.coin, o.coin = 0, d.hideEntity(o.node), e--)
                              } 0 != i && (U.instance.setDropMoney(), this.receiveCoin(i))
                      }, r.receiveCoin = function (t) {
                          t > 0 && this.showCoinAnim(t, (function () {
                              f.addCoin(t), t = 0
                          }))
                      }, r.showCoinAnim = function (t, n) {
                          if (y.instance.townUI && y.instance.townCamera) {
                              var i = Math.min(Math.max(Math.floor(t / 10), 5), 15)
                                  , e = g.transWorldPositionToUI(this.node.worldPosition, y.instance.townUI, y.instance.townCamera);
                              U.instance.flyNum(t, e), U.instance.flyCoin(e, (function () {
                                  console.log("捡到金币"), n && n()
                              }), i)
                          }
                      }, n
                  }(u))
                  .prototype, "coin", [O], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return 0
                      }
                  }), T = n(S.prototype, "receiveDistance", [O], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 8
                  }
              }), I = n(S.prototype, "isVideo", [O], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return !1
                  }
              }), z = n(S.prototype, "videoNode", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), N = S)) || N));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/physical.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./entityUtil.ts", "./GameData.ts", "./physicalNum.ts"], (function (t) {
      "use strict";
      var i, n, e, o, a, r, c, l, s, u, h, y, f, p;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, n = t.inheritsLoose, e = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, r = t._decorator, c = t.Node, l = t.Vec3, s = t.Component, u = t.Sprite
          }, function (t) {
              h = t.BundlesConst
          }, function (t) {
              y = t.entityUtil
          }, function (t) {
              f = t.GameData
          }, function (t) {
              p = t.physicalNum
          }]
          , execute: function () {
              var m, d, v, g, b;
              a._RF.push({}, "83966pm1NRBTbfxubBTf1Mc", "physical", void 0);
              var w = r.ccclass
                  , C = r.property;
              t("physical", (m = w("physical"), d = C(c), m((b = i((g = function (t) {
                      function i() {
                          for (var i, n = arguments.length, a = new Array(n), r = 0; r < n; r++) a[r] = arguments[r];
                          return i = t.call.apply(t, [this].concat(a)) || this, e(i, "layout", b, o(i)), i
                      }
                      n(i, t);
                      var a = i.prototype;
                      return a.init = function () {
                          for (var t = 0; t < this.layout.children.length; t++) {
                              var i = this.layout.children[t];
                              y.hideEntity(i), t--
                          }
                          f.instance.initPhysical(this)
                      }, a.setPhysical = function (t) {
                          var i = this
                              , n = 1e3
                              , e = Math.ceil(t / n)
                              , o = this.layout.children.length
                              , a = function () {
                                  if (t > 0) {
                                      var o = t % n
                                          , a = 0 == o ? 1 : o / n;
                                      i.layout.children[e - 1].children[0].getComponent(u)
                                          .fillRange = a
                                  }
                              };
                          if (o < e)
                              for (var r = function (t) {
                                      y.showEntity("gameform/physicalStar", i.layout, (function (i) {
                                          i.children[0].getComponent(u)
                                              .fillRange = 1, t == e - 1 && a()
                                      }), h.form)
                                  }, c = o; c < e; c++) r(c);
                          else {
                              for (var l = o; l > e; l--) y.hideEntity(this.layout.children[l - 1]);
                              a()
                          }
                      }, a.showSubPhysicalNum = function (t) {
                          var i = this;
                          y.showEntity("gameform/physicalNum", this.node, (function (n) {
                              n.getComponent(p)
                                  .init(t), i.node.qtPunchScale(new l(.2, .2, .2), .2, {
                                      vibrato: 1
                                      , elasticity: 0
                                  })
                                  .start()
                          }), h.form)
                      }, i
                  }(s))
                  .prototype, "layout", [d], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), v = g)) || v));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/physicalNum.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./entityUtil.ts"], (function (t) {
      "use strict";
      var i, e, n, r, o, c, l, s, a, u;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, e = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, c = t._decorator, l = t.Label, s = t.Vec3, a = t.Component
          }, function (t) {
              u = t.entityUtil
          }]
          , execute: function () {
              var p, h, y, f, m;
              o._RF.push({}, "63e5aPhn19GEK78524becgl", "physicalNum", void 0);
              var b = c.ccclass
                  , d = c.property;
              t("physicalNum", (p = b("physicalNum"), h = d(l), p((m = i((f = function (t) {
                      function i() {
                          for (var i, e = arguments.length, o = new Array(e), c = 0; c < e; c++) o[c] = arguments[c];
                          return i = t.call.apply(t, [this].concat(o)) || this, n(i, "lbNum", m, r(i)), i
                      }
                      return e(i, t), i.prototype.init = function (t) {
                          var i = this;
                          this.lbNum.string = "-" + t.toString(), this.node.position = new s(100, 0, 0), this.node.qtPositionY(-200, 1)
                              .call((function () {
                                  u.hideEntity(i.node)
                              }))
                              .start()
                      }, i
                  }(a))
                  .prototype, "lbNum", [h], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), y = f)) || y));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/pictorialBook.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./List.ts", "./dataUtil.ts", "./eventUtil.ts", "./GameStoreDetail.ts", "./CustomDefine.ts"], (function (t) {
      "use strict";
      var i, e, o, r, a, n, s, l, c, u, d, f, p;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, e = t.inheritsLoose, o = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, n = t._decorator, s = t.Label, l = t.Component
          }, function (t) {
              c = t.default
          }, function (t) {
              u = t.default
          }, function (t) {
              d = t.default
          }, function (t) {
              f = t.GameStoreDetail
          }, function (t) {
              p = t.eventDefine
          }]
          , execute: function () {
              var h, g, D, m, L, b, y, v, B;
              a._RF.push({}, "e7ca7pcCt9HxLBD6d/MBjFW", "pictorialBook", void 0);
              var k = n.ccclass
                  , x = n.property;
              t("pictorialBook", (h = k("pictorialBook"), g = x(c), D = x(s), m = x(s), h((y = i((b = function (t) {
                      function i() {
                          for (var i, e = arguments.length, a = new Array(e), n = 0; n < e; n++) a[n] = arguments[n];
                          return i = t.call.apply(t, [this].concat(a)) || this, o(i, "bookList", y, r(i)), o(i, "txtRatio", v, r(i)), o(i, "txtName", B, r(i)), i.currentData = void 0, i.goodsList = [], i.min = 1011, i.max = 1017, i
                      }
                      e(i, t);
                      var a = i.prototype;
                      return a.start = function () {
                          d.on(p.PICTORIAL_BOOK_CHANGED, this, this.onPictorialBookChanged)
                      }, a.init = function (t, i) {
                          this.currentData = t, console.log("map treasureArr", t), this.goodsList = f.getDetailListByDetailId.apply(f, t), this.bookList.setData(this.goodsList), this.goodsList.length > 0 && this.onPictorialBookChanged(this.goodsList[0])
                      }, a.onPictorialBookChanged = function (t) {
                          if (this.goodsList) {
                              var i = this.goodsList.find((function (i) {
                                  return i.DetailId == t.DetailId
                              }));
                              i && (this.txtName.string = u.isUnlockByDetailId(i.DetailId) ? i.ProductName : "????", this.txtRatio.string = Math.round(100 * this.getRatio(i.DetailId)) + "%")
                          }
                      }, a.getRatio = function (t) {
                          for (var i = this.min; i <= this.max; i++) {
                              var e = f.get(i);
                              if (-1 != e.treasureArr.indexOf(t)) return e.treasureProp
                          }
                          return .1
                      }, a.update = function (t) {}, i
                  }(l))
                  .prototype, "bookList", [g], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: null
                  }), v = i(b.prototype, "txtRatio", [D], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: null
              }), B = i(b.prototype, "txtName", [m], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: null
              }), L = b)) || L));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/pictorialbookItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./ItemRender.ts", "./dataUtil.ts", "./eventUtil.ts", "./resourceUtil.ts", "./CustomDefine.ts"], (function (t) {
      "use strict";
      var e, i, o, n, r, a, s, c, l, u, f, p, d, h, g;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, o = t.initializerDefineProperty, n = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, s = t.Sprite, c = t.Node, l = t.Color
          }, function (t) {
              u = t.BundlesConst
          }, function (t) {
              f = t.default
          }, function (t) {
              p = t.default
          }, function (t) {
              d = t.default
          }, function (t) {
              h = t.resourceUtil
          }, function (t) {
              g = t.eventDefine
          }]
          , execute: function () {
              var v, b, m, y, I, k, C;
              r._RF.push({}, "375ecOpjSxEt4bs6eybPsYQ", "pictorialbookItem", void 0);
              var D = a.ccclass
                  , w = a.property;
              t("pictorialbookItem", (v = D("pictorialbookItem"), b = w(s), m = w(c), v((k = e((I = function (t) {
                      function e() {
                          for (var e, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(r)) || this, o(e, "logo", k, n(e)), o(e, "ok", C, n(e)), e
                      }
                      i(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          var t = this;
                          this.bindTouchEnd(this.node, (function () {
                              d.dispatchEvent(g.PICTORIAL_BOOK_CHANGED, t.data)
                          }))
                      }, r.dataChanged = function () {
                          var t = this.data;
                          this.initView(t)
                      }, r.initView = function (t) {
                          var e = this
                              , i = "texture/goods/" + t.ImgLogo + "/spriteFrame";
                          h.loadBundleRes(u.images, i, (function (t, o) {
                              t ? console.log("fail", i, t) : e.logo.spriteFrame = o
                          })), this.ok.active = p.isUnlockByDetailId(t.DetailId);
                          var o = l.BLACK;
                          o = new l("#00000070"), this.logo.color = this.ok.active ? l.WHITE : o, this.logo.grayscale = !this.ok.active
                      }, r.update = function (t) {}, e
                  }(f))
                  .prototype, "logo", [b], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), C = e(I.prototype, "ok", [m], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), y = I)) || y));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Plane.ts", ["cc"], (function (t) {
      "use strict";
      var n, o;
      return {
          setters: [function (t) {
              n = t.cclegacy, o = t.Vec3
          }]
          , execute: function () {
              n._RF.push({}, "64a8fMSe85Bn7aYYIv3XX3h", "Plane", void 0);
              var r = new o
                  , i = new o;
              t("Plane", function () {
                  function t(t, n) {
                      void 0 === t && (t = new o(1, 0, 0)), void 0 === n && (n = 0), this.normal = t, this.constant = n, this.normal = t, this.constant = n
                  }
                  var n = t.prototype;
                  return n.setFromNormalAndCoplanarPoint = function (t, n) {
                      return this.normal.set(t), this.constant = -n.dot(this.normal), this
                  }, n.setFromCoplanarPoints = function (t, n, s) {
                      var a = o.subtract(r, s, n)
                          .cross(o.subtract(i, t, n))
                          .normalize();
                      return this.setFromNormalAndCoplanarPoint(a, t), this
                  }, n.projectPoint = function (t, n) {
                      return n.set(this.normal.multiplyScalar(-this.distanceToPoint(t))
                          .add(t))
                  }, n.distanceToPoint = function (t) {
                      return this.normal.dot(t) + this.constant
                  }, t
              }());
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/platformConf.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./Debug.ts"], (function (t) {
      "use strict";
      var n, o, e, r;
      return {
          setters: [function (t) {
              n = t.createClass
          }, function (t) {
              o = t.cclegacy
          }, function (t) {
              e = t.AppConst
          }, function (t) {
              r = t.Debug
          }]
          , execute: function () {
              o._RF.push({}, "909f2YNlJ9Hp7l0cOnW0f4W", "platformConf", void 0);
              var f = t("platformConf", function () {
                  function t() {}
                  return n(t, null, [{
                      key: "config"
                      , get: function () {
                          return this.currentConf
                      }
                      , set: function (t) {
                          this.currentConf = t
                      }
                  }, {
                      key: "currentApp"
                      , get: function () {
                          var t = window;
                          if (this.mPlatform) return this.mPlatform;
                          if (t.tt) this.mPlatform = e.BYTEDANCE;
                          else if (t.swan) this.mPlatform = e.BAIDU;
                          else if (t.qq) this.mPlatform = e.QQ;
                          else if (t.hbs) this.mPlatform = e.HW;
                          else if (t.qg)
                              if (t.qg && t.qg.getSystemInfoSync) {
                                  var n = t.qg.getSystemInfoSync();
                                  r.log("平台判断", JSON.stringify(n)), n && n.brand && -1 != n.brand.toLocaleLowerCase()
                                      .indexOf("vivo") ? this.mPlatform = e.VIVO : this.mPlatform = e.OPPO
                              } else this.mPlatform = e.OPPO;
                          else t.uc ? this.mPlatform = e.UC : t.kwaigame ? this.mPlatform = e.KUAI : t.wx ? this.mPlatform = e.WX : this.mPlatform = e.WEB;
                          return this.mPlatform
                      }
                  }]), t
              }());
              f.currentConf = void 0, f.mPlatform = void 0, o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/PlatformModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MathUtils.ts", "./Common.ts", "./MSG.ts", "./httpUtil.ts", "./dataUtil.ts", "./eventUtil.ts", "./NativeSize.ts", "./Const.ts", "./platformConf.ts", "./AdVertical.ts", "./AdHorizontal.ts", "./memoryConfig.ts", "./Debug.ts"], (function (t) {
      "use strict";
      var n, i, e, o, s, a, r, h, c, l, d, u, f, m, g, p, w, v;
      return {
          setters: [function (t) {
              n = t.createClass
          }, function (t) {
              i = t.cclegacy, e = t.View
          }, function (t) {
              o = t.default
          }, function (t) {
              s = t.default
          }, function (t) {
              a = t.MSG, r = t.SHARE_CHANNEL, h = t.VIDEO_STATUS
          }, function (t) {
              c = t.httpUtil
          }, function (t) {
              l = t.default
          }, function (t) {
              d = t.default
          }, function (t) {
              u = t.NativeSize
          }, function (t) {
              f = t.EventConst
          }, function (t) {
              m = t.platformConf
          }, function (t) {
              g = t.AdVertical
          }, function (t) {
              p = t.AdHorizontal
          }, function (t) {
              w = t.memoryConfig
          }, function (t) {
              v = t.Debug
          }]
          , execute: function () {
              i._RF.push({}, "9235bRoNqZML43gRIQEGbbT", "PlatformModule", void 0);
              t("default", function () {
                  function t() {
                      this.baseUrl = "https://api.liteplay.com.cn/", this.idConfig = null, this.share_clickTime = -1, this.currentShareCallback = void 0, this.currentShortCall = void 0, this.shareFail = !1, this.vibrateOn = !1, this.systemInfo = null, this.bannerOption = null, this.block = null, this.currentBannerId = "", this.currentVideoId = "", this.mVideo = null, this.inter = null, this.native = null, this.nativePic = null, this.nativeLR = null, this.customAd = [], this.box = null, this.platformName = "wx", this.bannerErrorQuene = [], this.nativeIdIndex = 0, this.bannerShowCount = 0, this.bannerShowCountLimit = 3, this.bannerShowTime = 0, this.bannerShowTimeLimit = 15, this.bannerLimitType = 0, this.bannerCb = null, this.isBannerShow = !1, this.blockWidth = 300, this.blockHeigth = 96, this.videoCb = null, this.videoLoading = !1, this.videoPlaying = !1, this.interShowCount = 0, this.interShowCountLimit = 3, this.nativeAdResult = null, this.nativeAdResultList = [], this.isInterLoaded = !1, this.nativeCb = null, this.nativeLoading = !1, this.recordObj = null, this.shareInfoArr = [], this.versionRet = null, this.mLaunchOption = void 0, this.mBannerAd = void 0, this.onBannerLoadCallback = null, this.loadCompletedShow = !1, this.lstCustomAd = {}, this.mCustomOptions = void 0, this.isLoaded = !1, this.gameBannerAd = void 0, this.gamePortalAd = void 0, this.share_clickTime = null, this.currentShareCallback = function () {}, this.currentShortCall = function () {}, this.shareFail = !1, this.updateProgram(), this.initRecord()
                  }
                  var i = t.prototype;
                  return i.GetRandomId = function (t, n) {
                      return void 0 === n && (n = 0), t instanceof Array ? t.length > 0 ? n < 0 ? t[s.randomNumBoth(0, t.length - 1)] : t.length - 1 < n ? (v.warn("id数组小于传入索引值，本次使用" + t[0] + "，请检查代码", t, n), t[0]) : t[n] : (v.warn("Id 配置为空"), null) : t
                  }, i.GetRandomCustomGroup = function (t, n) {
                      if (void 0 === n && (n = -1), t.length > 0) {
                          if (-1 == n) return t[s.randomNumBoth(0, t.length - 1)];
                          if (n < t.length) return t[n]
                      }
                      return t[0]
                  }, i.GetRandomNativeGroup = function (t, n, i) {
                      if (void 0 === i && (i = -1), t.length > 0) {
                          if (-1 == i) {
                              var e = t.filter((function (t) {
                                  return t.Size == n
                              }));
                              return e[s.randomNumBoth(0, e.length - 1)]
                          }
                          return i < t.length && t[i].Size == n ? t[i] : t.find((function (t) {
                              return t.Size == n
                          }))
                      }
                      return v.log("原生广告ID选取失败，选取第一个"), t[0]
                  }, i.getBannerId = function (t) {
                      return void 0 === t && (t = 0), this.GetRandomId(m.config.bannerIdList, t)
                  }, i.getBlockId = function (t) {
                      return void 0 === t && (t = 0), this.GetRandomId(m.config.blockIdList, t)
                  }, i.getVideoId = function (t) {
                      return void 0 === t && (t = 0), this.GetRandomId(m.config.videoIdList, t)
                  }, i.getCustomId = function (t) {
                      return void 0 === t && (t = 0), this.GetRandomCustomGroup(m.config.customIdList, t)
                  }, i.checkWindow = function () {
                      return !!window[this.platformName]
                  }, i.checkMethod = function (t) {
                      var n = window;
                      return !!n[this.platformName] && (!!n[this.platformName][t] || (v.log("checkMethod " + t + " 失败"), !1))
                  }, i.getWindow = function () {
                      return window
                  }, i.onEnable = function () {}, i.vibrateSwitch = function (t) {
                      this.vibrateOn = t
                  }, i.isIphoneXModel = function () {
                      if (window[this.platformName]) {
                          var t = this.getSystemInfoSync();
                          return !!/iphone x/.test(t.model.toLowerCase())
                      }
                  }, i.isIphone = function () {
                      if (window[this.platformName]) {
                          var t = this.getSystemInfoSync();
                          return !!/iphone/.test(t.model.toLowerCase())
                      }
                  }, i.isIphoneX = function () {
                      if (window[this.platformName]) {
                          var t = this.getSystemInfoSync()
                              , n = t.screenHeight
                              , i = t.screenWidth / n;
                          return i <= .5 || i >= 2
                      }
                  }, i.compareVersion = function (t, n) {
                      for (var i = t.split("."), e = n.split("."), o = Math.max(i.length, e.length); t.length < o;) i.push("0");
                      for (; n.length < o;) e.push("0");
                      for (var s = 0; s < o; s++) {
                          var a = parseInt(t[s])
                              , r = parseInt(n[s]);
                          if (a > r) return 1;
                          if (a < r) return -1
                      }
                      return 0
                  }, i.supportVersion = function (t) {
                      var n = this.getSystemInfoSync()
                          .SDKVersion;
                      return this.compareVersion(n, t) >= 0
                  }, i.supportFunction = function (t) {
                      var n = window;
                      return !!n[this.platformName] && !!n[this.platformName][t]
                  }, i.checkVersion = function (t, n) {
                      null == this.versionRet ? this._checkConfigVersion(n) : n(this.versionRet)
                  }, i._checkRemoteVersion = function (t) {
                      var n = this
                          , i = this.baseUrl + "admin/wx_list/getAppConfig"
                          , e = {
                              appid: m.config.appId
                          };
                      c.request(i, e, "POST", (function (i) {
                          n.versionRet = n.checkLog(i.data.version), t(n.versionRet)
                      }), (function () {
                          v.log("checkVersion fail")
                      }), (function () {
                          v.log("checkVersion complete")
                      }))
                  }, i._checkConfigVersion = function (t) {
                      var n = this;
                      c.getAllConfig((function (i) {
                          i && i.version ? (n.versionRet = n.checkLog(i.version), t(n.versionRet)) : n._checkRemoteVersion(t)
                      }))
                  }, i.checkLog = function (t) {
                      var n = m.config.version
                          , i = t != n;
                      return v.log("版本检查 后台版本" + t + " 配置文件版本" + n), v.log("获取广告开关：", i), i
                  }, i.isSmallWidth = function () {
                      if (window[this.platformName]) {
                          var t = this.getSystemInfoSync()
                              , n = t.screenHeight;
                          t.screenWidth;
                          return n < 667 && (v.log("高度不够", n), !0)
                      }
                  }, i.login = function (t, n) {
                      var i = l.getToken();
                      "" == i && (i = (i = s.generateUUID())
                          .replace(/-/g, ""), l.setToken(i)), s.isFunction(t) && t && t(i)
                  }, i.postMessage = function (t) {
                      var n = window;
                      n[this.platformName] && n[this.platformName].getOpenDataContext && n[this.platformName].getOpenDataContext()
                          .postMessage(t)
                  }, i.navigate2Video = function (t) {}, i.getClipboardData = function (t, n) {
                      var i = window;
                      i[this.platformName] && i[this.platformName].getClipboardData && i[this.platformName].getClipboardData({
                          success: function (t) {
                              function n(n) {
                                  return t.apply(this, arguments)
                              }
                              return n.toString = function () {
                                  return t.toString()
                              }, n
                          }((function (n) {
                              t && t(n.data), v.log("" + n.data)
                          }))
                          , fail: function (t) {
                              n && n(t), v.log("getClipboardData调用失败")
                          }
                      })
                  }, i.setClipboardData = function (t, n, i) {
                      var e = window;
                      e[this.platformName] && e[this.platformName].setClipboardData && e[this.platformName].setClipboardData({
                          data: t
                          , success: function (t) {
                              function n(n) {
                                  return t.apply(this, arguments)
                              }
                              return n.toString = function () {
                                  return t.toString()
                              }, n
                          }((function (t) {
                              n && n(t), v.log("setClipboardData调用成功")
                          }))
                          , fail: function (t) {
                              i && i(t), v.log("setClipboardData调用失败")
                          }
                      })
                  }, i.updateProgram = function () {
                      var t = window
                          , n = this;
                      if (t[this.platformName] && "function" == typeof t[this.platformName].getUpdateManager) {
                          var i = t[this.platformName].getUpdateManager();
                          i.onCheckForUpdate((function (t) {})), i.onUpdateReady((function (t) {
                              n.showModal("游戏有新内容啦", "新的内容更精彩，来体验一下吧", "放弃", "体验", (function (t) {
                                  t && i.applyUpdate()
                              }))
                          })), i.onUpdateFailed((function () {}))
                      }
                  }, i.vibrateShort = function () {
                      if (this.checkWindow()) {
                          var t = this.getWindow();
                          t[this.platformName] && !t[this.platformName].vibrateShort || t[this.platformName].vibrateShort()
                      }
                  }, i.vibrateLong = function () {
                      if (this.checkWindow()) {
                          var t = this.getWindow();
                          t[this.platformName] && !t[this.platformName].vibrateLong || t[this.platformName].vibrateLong()
                      }
                  }, i.showLoading = function (t) {
                      this.checkMethod("showLoading") ? this.getWindow()[this.platformName].showLoading({
                          title: t
                          , mask: !1
                          , success: null
                          , fail: null
                          , complete: null
                      }) : v.log("showLoading", t)
                  }, i.hideLoading = function () {
                      this.checkMethod("hideLoading") && this.getWindow()[this.platformName].hideLoading()
                  }, i.showModal = function (t, n, i, e, o) {
                      this.checkMethod("showModal") && this.getWindow()[this.platformName].showModal({
                          title: t
                          , content: n
                          , cancelText: i
                          , confirmText: e
                          , showCancel: !0
                          , cancelColor: "#000000"
                          , confirmColor: "#3CC51F"
                          , fail: null
                          , complete: null
                          , success: function (t) {
                              t.confirm ? o && o(!0) : t.cancel && o && o(!1)
                          }
                      })
                  }, i.showModalWithoutCancel = function (t, n, i, e) {
                      this.checkMethod("showModal") && this.getWindow()[this.platformName].showModal({
                          title: t
                          , content: n
                          , showCancel: !1
                          , confirmText: i
                          , cancelColor: "#000000"
                          , confirmColor: "#3CC51F"
                          , cancelText: ""
                          , fail: null
                          , complete: null
                          , success: function (t) {
                              t.confirm ? e && e(!0) : t.cancel && e && e(!1)
                          }
                      })
                  }, i.showToast = function (t, n, i) {
                      (void 0 === n && (n = "none"), void 0 === i && (i = !1), this.checkMethod("showToast")) && this.getWindow()[this.platformName].showToast({
                          title: t
                          , icon: n
                          , duration: 2e3
                          , mask: i
                          , image: null
                          , success: null
                          , fail: null
                          , complete: null
                      })
                  }, i.authOrGetUserInfo = function (t) {
                      if (this.checkWindow()) {
                          this.getWindow();
                          var n = this;
                          this.getSetting((function (i) {
                              v.log("授权信息", i), i["scope.userInfo"] ? n.getUserInfo((function (n) {
                                  v.log("获取用户信息：", n), t(n, !1)
                              }), (function (t) {})) : n.showUserInfoButton((function (n) {
                                  t(n, !0), v.log("授权获取用户信息：", n)
                              }))
                          }), (function (i) {
                              n.showUserInfoButton((function (n) {
                                  t(n, !0), v.log("授权获取用户信息：", n)
                              }))
                          }))
                      }
                  }, i.showUserInfoButton = function (t) {
                      var n = {
                          type: "text"
                          , text: ""
                          , style: this._initLoginButton()
                      };
                      if (this.checkWindow()) {
                          var i = this.getWindow()[this.platformName].createUserInfoButton(n);
                          i.onTap((function (n) {
                              n.userInfo && n.userInfo.nickName ? (t(n.userInfo), i.hide()) : t(null)
                          })), i.show()
                      }
                  }, i.getSetting = function (t, n) {
                      this.checkWindow() && this.getWindow()[this.platformName].getSetting({
                          success: function (t) {
                              function n(n) {
                                  return t.apply(this, arguments)
                              }
                              return n.toString = function () {
                                  return t.toString()
                              }, n
                          }((function (n) {
                              t(n.authSetting)
                          }))
                          , fail: function () {
                              n()
                          }
                          , complete: null
                      })
                  }, i.getUserInfo = function (t, n) {
                      this.checkWindow() && this.getWindow()[this.platformName].getUserInfo({
                          success: function (t) {
                              function n(n) {
                                  return t.apply(this, arguments)
                              }
                              return n.toString = function () {
                                  return t.toString()
                              }, n
                          }((function (n) {
                              t(n.userInfo)
                          }))
                          , fail: function () {
                              n()
                          }
                          , withCredentials: !1
                          , complete: null
                          , lang: "en"
                      })
                  }, i.getLaunchOption = function () {
                      if (this.checkWindow()) {
                          var t = this.getWindow();
                          return null == this.mLaunchOption && (t[this.platformName] ? (t[this.platformName].getEnterOptionsSync && (this.mLaunchOption = t[this.platformName].getEnterOptionsSync()), t[this.platformName].getLaunchOptionsSync && (this.mLaunchOption = t[this.platformName].getLaunchOptionsSync())) : this.mLaunchOption = {}), this.mLaunchOption
                      }
                  }, i.getSystemInfoSync = function () {
                      if (this.checkWindow()) {
                          var t = this.getWindow();
                          return null == this.systemInfo && (t[this.platformName] && t[this.platformName].getSystemInfoSync ? this.systemInfo = t[this.platformName].getSystemInfoSync() : this.systemInfo = {}, v.log(a.SYSTEM_INFO, JSON.stringify(this.systemInfo))), this.systemInfo
                      }
                  }, i.isLandscape = function (t, n) {
                      return t < n
                  }, i.initShare = function (t) {
                      var n = this;
                      if (this.checkWindow()) {
                          var i = this.getWindow();
                          i[this.platformName] && i[this.platformName].showShareMenu && (this.shareInfoArr = t, i[this.platformName].showShareMenu({
                              withShareTicket: !0
                              , menus: ["shareAppMessage", "shareTimeline"]
                              , success: null
                              , fail: null
                              , complete: null
                          }), i[this.platformName].onShareAppMessage && i[this.platformName].onShareAppMessage((function () {
                              return n.buildShareInfo()
                          })), i[this.platformName].onShareTimeline && i[this.platformName].onShareTimeline((function () {
                              return n.buildShareInfo()
                          })))
                      }
                  }, i.getShareInfo = function (t, n, i) {
                      if (this.checkWindow()) {
                          var e = this.getWindow();
                          e[this.platformName] && e[this.platformName].getShareInfo({
                              shareTicket: t
                              , success: function (t) {
                                  function n(n) {
                                      return t.apply(this, arguments)
                                  }
                                  return n.toString = function () {
                                      return t.toString()
                                  }, n
                              }((function (t) {
                                  n(t.encryptedData, t.iv)
                              }))
                              , fail: function () {
                                  i && i()
                              }
                              , complete: null
                          })
                      }
                  }, i.share = function (t, n, i) {
                      this.checkWindow() && (this.getWindow()[this.platformName] ? (this.currentShareCallback = n, this.currentShortCall = i, this.share_clickTime = Date.now(), this.shareFail = !1, this._share(t)) : n && n(!0))
                  }, i.shareWithoutCheck = function (t, n) {
                      this.checkWindow() && (this.getWindow()[this.platformName] || n && n(!0), this.currentShareCallback = n, this.share_clickTime = 1, this.shareFail = !1, this._share(t))
                  }, i._share = function (t) {
                      if (void 0 === t && (t = r.LINK), this.checkWindow()) {
                          var n = this.getWindow();
                          if (n[this.platformName])
                              if (n[this.platformName].shareAppMessage) {
                                  var i = this.buildShareInfo(t);
                                  v.log("分享数据：", i), n[this.platformName].shareAppMessage(i)
                              } else this.currentShareCallback(!0);
                          else this.currentShareCallback(!0)
                      }
                  }, i.buildShareInfo = function (t) {
                      void 0 === t && (t = r.LINK);
                      var n = ""
                          , i = "";
                      if (this.shareInfoArr.length > 0) {
                          var e = this.shareInfoArr[o.randomNumBoth(0, this.shareInfoArr.length - 1)];
                          n = e.title, i = e.img
                      }
                      return {
                          title: n
                          , imageUrl: i
                          , query: t
                      }
                  }, i._onShareback = function () {
                      var t = this;
                      setTimeout((function () {
                          t.share_clickTime && t.currentShareCallback && (t.shareFail ? t.currentShareCallback(!1) : 1 == t.share_clickTime || Date.now() - t.share_clickTime >= 3e3 ? t.currentShareCallback(!0) : t.currentShareCallback(!1)), t.shareFail = !1, t.currentShareCallback = null, t.share_clickTime = null
                      }), 100)
                  }, i._initLoginButton = function () {
                      if (this.checkWindow()) {
                          var t = this.getWindow();
                          if (t[this.platformName]) {
                              var n = t[this.platformName].getSystemInfoSync();
                              return {
                                  left: 0
                                  , top: 0
                                  , width: n.screenWidth
                                  , height: n.screenHeight
                                  , lineHeight: 40
                                  , color: "#ffffff"
                                  , type: "text"
                                  , text: "获取用户信息"
                                  , textAlign: "center"
                                  , fontSize: 28
                              }
                          }
                      }
                  }, i.initRecord = function () {}, i.clipRecord = function (t, n) {}, i.startRecord = function (t, n) {
                      this.recordObj || n && n(!1)
                  }, i.stopRecord = function (t) {
                      this.recordObj || t && t(!1)
                  }, i.pauseRecord = function () {}, i.resumeRecord = function () {}, i.showShareButton = function (t, n, i) {}, i.hideShareButton = function () {}, i._regisiterWXCallback = function () {
                      this.checkWindow() && (this._regisiterOnShow(), this._regisiterOnHide())
                  }, i._regisiterOnShow = function () {
                      if (this.checkWindow()) {
                          var t = this.getWindow();
                          if (t[this.platformName].onShow) {
                              var n = this;
                              t[this.platformName].onShow((function (t) {
                                  n._onShowCallback(t)
                              }))
                          }
                      }
                  }, i._onShowCallback = function (t) {
                      this._onShareback(), v.log("on show ", t), d.sendEventImmediately(f.ON_PLATFORM_SHOW, t)
                  }, i._regisiterOnHide = function () {
                      if (this.checkWindow()) {
                          var t = this.getWindow();
                          if (t[this.platformName].onHide) {
                              var n = this;
                              t[this.platformName].onHide((function (t) {
                                  n._onHideCallback(t)
                              }))
                          }
                      }
                  }, i._onHideCallback = function (t) {
                      v.log("on show ", t), d.sendEventImmediately(f.ON_PLATFORM_HIDE, t), v.log("on hide ", t);
                      var n = t && (8 == t.targetAction || 9 == t.targetAction || 10 == t.targetAction) && t.targetPagePath.length > 50;
                      n && c.clickBanner(), this.bannerCb ? this.bannerCb(n) : v.log("banner callback is null ")
                  }, i.initBanner = function () {
                      if (this.checkWindow()) this.getWindow()
                  }, i.prepareBanner = function (t, n) {
                      if (this.bannerOption = t, this.onBannerLoadCallback = n, this.checkMethod("createBannerAd")) {
                          var i = this.getWindow()
                              , e = t.getBannerStyle(this.getSystemInfoSync())
                              , o = this.GetRandomId(m.config.bannerIdList);
                          v.log("使用id[" + o + "]创建banner"), this.mBannerAd = i[this.platformName].createBannerAd({
                              adUnitId: o
                              , adIntervals: 30
                              , style: e
                          }), this.mBannerAd.isLoaded = !1, this.mBannerAd.bannerShowCount = 0, this.mBannerAd.bannerShowTime = Date.now(), this.mBannerAd && (this.mBannerAd.onResize(this.onBannerResize.bind(this, o)), this.mBannerAd.onError(this.onBannerError.bind(this, o)), this.mBannerAd.onLoad(this.onBannerLoad.bind(this, o)))
                      }
                  }, i.showBanner = function (t) {
                      var n = this;
                      null == this.mBannerAd ? this.prepareBanner(t, (function () {
                          n.mBannerAd.show()
                      })) : this.mBannerAd.show()
                  }, i.hideBanner = function (t) {
                      void 0 === t && (t = !1), null != this.mBannerAd && (this.mBannerAd.hide(), t && (this.mBannerAd.offLoad(null), this.mBannerAd.offResize(null), this.mBannerAd.offError(null), this.mBannerAd.destroy(), this.mBannerAd = null))
                  }, i.onBannerLoad = function (t) {
                      this.bannerShowCount = 0, this.onBannerLoadCallback && this.onBannerLoadCallback()
                  }, i.onBannerError = function (t, n) {
                      v.warn("banner___error:", n)
                  }, i.onBannerResize = function (t, n) {
                      v.log("onBannerResize -> size", n);
                      var i = this.getSystemInfoSync()
                          , e = this.mBannerAd;
                      if (this.mBannerAd && (e.style ? (isNaN(e.style.realWidth) || (this.bannerOption.Width = e.style.realWidth), isNaN(e.style.realHeight) || (this.bannerOption.Height = e.style.realHeight)) : v.warn("onBannerResize -> owner 1", e)), e && e.style) {
                          var o = this.bannerOption.getBannerStyle(i);
                          e.style.left = o.left
                      } else v.warn("onBannerResize -> owner 2", e)
                  }, i.exitApplication = function () {}, i.initVideo = function () {
                      this.createRewardAD(!1)
                  }, i.createRewardAD = function (t, n) {
                      var i = this;
                      if (void 0 === n && (n = 0), !this.videoLoading) {
                          var e = this.getVideoId(n);
                          v.warn("视频id", e);
                          var o = this.getWindow();
                          if (o[this.platformName])
                              if (o[this.platformName].createRewardedVideoAd) {
                                  if (s.isEmpty(e)) return v.warn(a.VIDEO_KEY_IS_NULL), void(this.videoCb && this.videoCb(h.END));
                                  if (!this.mVideo) {
                                      if (this.mVideo = o[this.platformName].createRewardedVideoAd({
                                              adUnitId: e
                                          }), !this.mVideo) return void v.warn("创建视频广告失败");
                                      this.mVideo.onError(this.onVideoError.bind(this)), this.mVideo.onClose(this.onVideoClose.bind(this)), this.mVideo.onLoad(this.onVideoLoad.bind(this))
                                  }
                                  this.videoLoading = !0, this.videoPlaying = !1, this.mVideo.load()
                                      .then((function () {
                                          t && (i.videoPlaying = !0, i.mVideo.show()
                                              .then((function () {
                                                  i.videoLoading = !1
                                              }))
                                              .catch((function (t) {
                                                  i.videoLoading = !1, i.onVideoError(t.errMsg, t.errCode), v.log(t.errMsg)
                                              })))
                                      }))
                                      .catch((function (t) {
                                          i.onVideoError(t.errMsg, t.errCode), v.log(t.errMsg)
                                      }))
                              } else this.videoCb && this.videoCb(h.END);
                          else this.videoCb && this.videoCb(h.END)
                      }
                  }, i.onVideoError = function (t, n) {
                      v.log(a.VIDEO_ERROR_COMPLETED, t, n), this.videoLoading = !1, this.videoPlaying = !1, this.videoCb && (this.videoCb(h.ERR), this.videoCb = null)
                  }, i.onVideoClose = function (t) {
                      var n = this;
                      if (v.log(a.VIDEO_CLOSE_COMPLETED, t.isEnded), this.videoLoading = !1, this.videoPlaying = !1, d.sendEventImmediately(f.ON_PLATFORM_SHOW, null), t.isEnded && c.clickVideo(), this.videoCb) {
                          var i = t.isEnded ? h.END : h.NOTEND;
                          setTimeout((function () {
                              n.videoCb(i)
                          }), 50)
                      }
                  }, i.onVideoLoad = function () {
                      v.log(a.VIDEO_LOAD_COMPLETED), this.videoLoading = !1
                  }, i.showVideo = function (t, n) {
                      void 0 === n && (n = 0), v.log("显示video"), this.videoCb = t, this.createRewardAD(!0, n)
                  }, i.prepareInter = function () {
                      if (this.checkWindow()) {
                          var t = this.getWindow();
                          t[this.platformName].createInterstitialAd && (s.isEmpty(this.interId) ? v.warn(a.INTER_KEY_IS_NULL) : (this.inter = t[this.platformName].createInterstitialAd({
                              adUnitId: this.interId
                          }), this.inter.onLoad(this._onInterLoad.bind(this)), this.inter.onClose(this._onInterClose.bind(this)), this.inter.load()))
                      }
                  }, i.showInter = function () {
                      this.loadCompletedShow = !0, this.inter ? this.inter.load() : this.prepareInter(), this.isInterLoaded && this.inter.show()
                  }, i._onInterLoad = function () {
                      this.isInterLoaded = !0, this.loadCompletedShow && this.inter.show()
                  }, i._onInterClose = function () {
                      this.loadCompletedShow = !1
                  }, i._onInterError = function (t) {
                      v.log("插屏广告出错：", t)
                  }, i.prepareNative = function (t, n) {}, i._onNativeLoad = function (t) {}, i._onNativeError = function (t) {}, i.destroyNative = function () {}, i.showNativeAd = function (t, n) {
                      s.isFunction(t) && t()
                  }, i.showNativePicAd = function (t, n, i, e) {}, i.hideNativePicAd = function () {}, i.showNativeLRAd = function (t, n, i) {}, i.hideNativeLRAd = function () {}, i.GetRandomGroup = function (t, n) {
                      if (void 0 === n && (n = -1), t.length > 0) {
                          if (-1 == n) return t[s.randomNumBoth(0, t.length - 1)];
                          if (n < t.length) return t[n]
                      }
                      return t[0]
                  }, i.GetCustomStyle = function (t) {
                      var n = this.mCustomOptions.Horizontal
                          , i = this.mCustomOptions.Vertical
                          , o = this.getSystemInfoSync()
                          , s = e.instance.getVisibleSize();
                      o || (o = {
                          windowWidth: s.width
                          , windowHeight: s.height
                      });
                      var a = o.windowWidth
                          , r = o.windowHeight
                          , h = 0
                          , c = 0;
                      switch (i) {
                      case g.TOP:
                          h = 0;
                          break;
                      case g.CENTER:
                          h = (r - this.mCustomOptions.Height) / 2;
                          break;
                      case g.BOTTOM:
                          h = r - this.mCustomOptions.Height;
                          break;
                      case g.CUSTOM:
                      default:
                          h = this.mCustomOptions.Top
                      }
                      switch (n) {
                      case p.LEFT:
                          c = 0;
                          break;
                      case p.CENTER:
                          c = (a - this.mCustomOptions.Width) / 2;
                          break;
                      case p.RIGHT:
                          c = a - this.mCustomOptions.Width;
                          break;
                      case p.CUSTOM:
                      default:
                          c = this.mCustomOptions.Left
                      }
                      return {
                          left: c + this.mCustomOptions.Offset.x
                          , top: h + this.mCustomOptions.Offset.y
                          , isFixed: !0
                          , width: s.height > s.width ? this.mCustomOptions.Width : 330
                      }
                  }, i.prepareCustom = function (t, n, i, e) {
                      var o = this;
                      if (this.checkWindow()) {
                          var s = this.getWindow();
                          if (!s[this.platformName] || s[this.platformName].createCustomAd) {
                              this.mCustomOptions = t;
                              var a = this.GetRandomGroup(m.config.customIdList, n);
                              this.mCustomOptions.currentSize = a.Size;
                              var r = this.GetCustomStyle(a)
                                  , h = {
                                      left: r.left
                                      , top: r.top
                                      , width: r.width
                                      , fixed: !0
                                  };
                              v.log("prepareCustom style ", h);
                              var c = w.instance.getIntKey("zs_matrix_renovate", 30)
                                  , l = window[this.platformName].createCustomAd({
                                      adUnitId: a.Id
                                      , adIntervals: c
                                      , style: h
                                  });
                              l.onClose((function () {
                                  null != i && (l.destroy(), i())
                              })), l.onError((function (t) {
                                  delete o.lstCustomAd[n], null != e && (l.destroy(), e())
                              })), this.lstCustomAd[n] = l
                          }
                      }
                  }, i.showCustomAd = function (t, n, i) {
                      void 0 === i && (i = null), this.lstCustomAd.hasOwnProperty(n) ? (this.lstCustomAd[n].show(), v.log("showCustomAd style ", this.lstCustomAd[n].style)) : (this.prepareCustom(t, n, i, (function () {})), this.lstCustomAd.hasOwnProperty(n) && this.lstCustomAd[n].show())
                  }, i.hideCustomAd = function (t) {
                      if (!isNaN(t) && this.lstCustomAd.hasOwnProperty(t)) this.lstCustomAd[t].hide();
                      else
                          for (var n in this.lstCustomAd) this.lstCustomAd.hasOwnProperty(n) && null != this.lstCustomAd[n] && this.lstCustomAd[n].hide()
                  }, i.clickNative = function (t) {}, i.showAppBox = function (t, n) {
                      s.isFunction(t) && t && t()
                  }, i.hideAppBox = function (t) {
                      s.isFunction(t) && t && t()
                  }, i.reportMonitor = function (t, n) {}, i.showMoreGameButton = function (t, n, i) {
                      n && n()
                  }, i.initRank = function () {
                      this.postMessage({
                          action: 1
                      })
                  }, i.showRank = function () {
                      this.postMessage({
                          action: 10
                      })
                  }, i.updateUserScore = function (t) {
                      var n = {
                          action: 13
                          , data: t
                      };
                      this.postMessage(n)
                  }, i.hideRank = function () {
                      this.postMessage({
                          action: 20
                      })
                  }, i.checkFollowAwemeSate = function (t, n) {
                      t && t(!0)
                  }, i.openAwemeUserProile = function (t, n) {
                      t && t(!0)
                  }, i.hasShortcutInstalled = function (t, n) {
                      t(!1)
                  }, i.installShortcut = function (t, n, i) {}, i.showBlock = function (t, n, i) {}, i.hideBlock = function () {}, i.showGameBannerAd = function () {}, i.hideGameBannerAd = function () {}, i.showGamePortalAd = function (t, n) {
                      n && n(!1)
                  }, i.hideGamePortalAd = function () {}, i.showBoxPortalAd = function (t, n, i, e) {
                      e && e(!1)
                  }, i.hideBoxPortalAd = function () {}, i.nativeOnLoadCallback = function () {}, n(t, [{
                      key: "interId"
                      , get: function () {
                          return this.GetRandomId(m.config.interIdList, -1)
                      }
                  }, {
                      key: "boxId"
                      , get: function () {
                          return this.GetRandomId(m.config.BoxPortalIdList, -1)
                      }
                  }, {
                      key: "gameBannerId"
                      , get: function () {
                          return this.GetRandomId(m.config.gameBannerIdList, -1)
                      }
                  }, {
                      key: "gamePortalId"
                      , get: function () {
                          return this.GetRandomId(m.config.gamePortalIdList, -1)
                      }
                  }, {
                      key: "nativeLRId"
                      , get: function () {
                          return this.GetRandomNativeGroup(m.config.nativeList, u.LR, -1)
                      }
                  }, {
                      key: "nativePicId"
                      , get: function () {
                          return this.GetRandomNativeGroup(m.config.nativeList, u.PIC, -1)
                      }
                  }]), t
              }());
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/platformUtil.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./WXModule.ts", "./OPPOModule.ts", "./VIVOModule.ts", "./QQModule.ts", "./HWModule.ts", "./UCModule.ts", "./TTModule.ts", "./PlatformModule.ts", "./ZSOPPOModule.ts", "./BDModule.ts", "./KuaiModule.ts", "./Const.ts", "./WebModule.ts", "./platformConf.ts", "./Debug.ts"], (function (t) {
      "use strict";
      var r, n, e, u, o, l, f, i, c, s, a, m, p, P, d, C, A;
      return {
          setters: [function (t) {
              r = t.createClass
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              e = t.default
          }, function (t) {
              u = t.default
          }, function (t) {
              o = t.default
          }, function (t) {
              l = t.default
          }, function (t) {
              f = t.default
          }, function (t) {
              i = t.default
          }, function (t) {
              c = t.default
          }, function (t) {
              s = t.default
          }, function (t) {
              a = t.default
          }, function (t) {
              m = t.default
          }, function (t) {
              p = t.default
          }, function (t) {
              P = t.AppConst
          }, function (t) {
              d = t.WebModule
          }, function (t) {
              C = t.platformConf
          }, function (t) {
              A = t.Debug
          }]
          , execute: function () {
              n._RF.push({}, "c2442CNmENA0JIRIKcAMwbA", "platformUtil", void 0), t("platformUtil", function () {
                      function t() {}
                      return r(t, null, [{
                          key: "currentPlatform"
                          , get: function () {
                              return this.mCurrentPlatform || (C.currentApp == P.WX ? this.mCurrentPlatform = new e : C.currentApp == P.OPPO ? this.mCurrentPlatform = new u : C.currentApp == P.VIVO ? this.mCurrentPlatform = new o : C.currentApp == P.OPPO_ZS ? this.mCurrentPlatform = new a : C.currentApp == P.BYTEDANCE ? this.mCurrentPlatform = new c : C.currentApp == P.QQ ? this.mCurrentPlatform = new l : C.currentApp == P.BAIDU ? this.mCurrentPlatform = new m : C.currentApp == P.UC ? this.mCurrentPlatform = new i : C.currentApp == P.HW ? this.mCurrentPlatform = new f : C.currentApp == P.KUAI ? this.mCurrentPlatform = new p : C.currentApp == P.WEB ? this.mCurrentPlatform = new d : this.mCurrentPlatform = new s, A.log("currentPlatform", this.mCurrentPlatform)), this.mCurrentPlatform
                          }
                      }]), t
                  }())
                  .mCurrentPlatform = void 0, n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/poolComponent.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (t) {
      "use strict";
      var e, o, n, r, i, a, c;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, o = t.inheritsLoose, n = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              i = t.cclegacy, a = t._decorator, c = t.Component
          }]
          , execute: function () {
              var l, p, s;
              i._RF.push({}, "6a2c4ASCCxAzqtUNHrA4ahl", "poolComponent", void 0);
              var u = a.ccclass
                  , f = a.property;
              t("poolComponent", u("poolComponent")((s = e((p = function (t) {
                      function e() {
                          for (var e, o = arguments.length, i = new Array(o), a = 0; a < o; a++) i[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(i)) || this, n(e, "tag", s, r(e)), e
                      }
                      return o(e, t), e
                  }(c))
                  .prototype, "tag", [f], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return ""
                      }
                  }), l = p)) || l);
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/poolManager.ts", ["cc", "./Debug.ts", "./poolComponent.ts"], (function (t) {
      "use strict";
      var i, o, c, e, a, n;
      return {
          setters: [function (t) {
              i = t.cclegacy, o = t._decorator, c = t.instantiate, e = t.NodePool, a = t.isValid
          }, null, function (t) {
              n = t.poolComponent
          }]
          , execute: function () {
              var r, s;
              i._RF.push({}, "907776q4iZNubarZf3Ut3A8", "poolManager", void 0);
              var d = o.ccclass;
              o.property, t("poolManager", d("poolManager")(((s = function () {
                      function t() {}
                      return t.getPrefab = function (t) {
                          return this.dictPrefab[t]
                      }, t.addPrefab = function (t) {
                          this.dictPrefab[t.data.name] = t
                      }, t.addPrefabs = function (t) {
                          var i = this;
                          t.forEach((function (t) {
                              i.addPrefab(t)
                          }))
                      }, t.getAllPool = function () {
                          return this.dictPool
                      }, t.getAllStack = function () {
                          return this.dictStack
                      }, t.getStack = function (t) {
                          return this.dictStack.hasOwnProperty(t) ? this.dictStack[t] : null
                      }, t.getNode = function (t, i, o) {
                          void 0 === o && (o = !1);
                          var n, r = t.data.name;
                          if (this.dictPool.hasOwnProperty(r)) {
                              var s = this.dictPool[r];
                              n = s.size() > 0 ? s.get() : c(t)
                          } else {
                              var d = new e;
                              d ? this.dictPool[r] = d : console.error("创建对象池错误", d), n = c(t)
                          }
                          return a(i) && n.setParent(i, o), this.dictStack.hasOwnProperty(r) || (this.dictStack[r] = []), this.dictStack[r].push(n), n
                      }, t.putNode = function (t) {
                          var i = t.getComponent(n)
                              .tag
                              , o = null;
                          this.dictPool.hasOwnProperty(i) ? o = this.dictPool[i] : (o = new e, this.dictPool[i] = o), this.removeStack(t), o.put(t)
                      }, t.clearPool = function (t) {
                          this.dictPool.hasOwnProperty(t) && this.dictPool[t].clear()
                      }, t.removeStackByName = function (t) {
                          if (this.dictStack.hasOwnProperty(t)) {
                              var i = this.dictStack[t];
                              i.splice(0, i.length)
                          }
                      }, t.removeStack = function (t) {
                          for (var i in this.dictStack)
                              if (this.dictStack.hasOwnProperty(i)) {
                                  var o = this.dictStack[i]
                                      , c = o.indexOf(t);
                                  if (-1 != c) {
                                      o.splice(c, 1);
                                      break
                                  }
                              }
                      }, t.removeStackAll = function (t) {
                          for (var i in this.dictStack)
                              if (this.dictStack.hasOwnProperty(i)) {
                                  var o = this.dictStack[i]
                                      , c = o.indexOf(t); - 1 != c && o.splice(c, 1)
                              }
                      }, t
                  }())
                  .dictPool = {}, s.dictPrefab = {}, s.dictStack = {}, r = s)) || r);
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/privacyForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./httpUtil.ts", "./memoryConfig.ts", "./uiForm.ts", "./Common.ts"], (function (t) {
      "use strict";
      var e, n, o, r, i, a, c, s, u, l, p, h;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, o = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              i = t.cclegacy, a = t._decorator, c = t.Node, s = t.RichText
          }, function (t) {
              u = t.httpUtil
          }, function (t) {
              l = t.memoryConfig
          }, function (t) {
              p = t.UiForm
          }, function (t) {
              h = t.default
          }]
          , execute: function () {
              var f, m, y, g, v, d, z;
              i._RF.push({}, "2f908I0R3JE3oYdquQfhzKl", "privacyForm", void 0);
              var b = a.ccclass
                  , x = a.property;
              t("privacyForm", (f = b("privacyForm"), m = x(c), y = x(s), f((d = e((v = function (t) {
                      function e() {
                          for (var e, n = arguments.length, i = new Array(n), a = 0; a < n; a++) i[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(i)) || this, o(e, "btnClose", d, r(e)), o(e, "txtContent", z, r(e)), e.urlPool = ["https://changshazhise01-1254961065.cos.ap-guangzhou.myqcloud.com/zhise/oppo/test.json", "https://changshazhise01-1254961065.cos.ap-guangzhou.myqcloud.com/zhise/oppo/agreement.json"], e
                      }
                      n(e, t);
                      var i = e.prototype;
                      return i.start = function () {
                          this.bindTouchEnd(this.btnClose, this.hideForm)
                      }, i.getPrivacy = function (t, e) {
                          var n = this.urlPool[t];
                          u.request(n, null, "GET", (function (t) {
                              var n = "";
                              for (var o in t)
                                  if (h.isArray(t[o].text))
                                      for (var r = 0; r < t[o].text.length; r++) n += t[o].text[r];
                                  else n += t[o].text;
                              null != e && e(n)
                          }))
                      }, i.reset = function (t) {
                          var e = this;
                          this.getPrivacy(t, (function (t) {
                              var n = l.instance.getKey("zs_company", "本公司")
                                  , o = l.instance.getKey("zs_game_name", "本游戏");
                              t = (t = (t = t.replace("company", n))
                                      .replace("/app_name/g", o))
                                  .replace("/\t/g", o), e.txtContent.string = t
                          }))
                      }, i.update = function (t) {}, e
                  }(p))
                  .prototype, "btnClose", [m], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), z = e(v.prototype, "txtContent", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), g = v)) || g));
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/putBoxCard.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./entityUtil.ts", "./TransformUtil.ts", "./GameData.ts", "./GameStoreDetail.ts", "./putBoxItem.ts"], (function (t) {
      "use strict";
      var i, e, n, o, a, s, r, l, u, c, h, d, p, m, f, b;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, e = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, s = t._decorator, r = t.Node, l = t.SpriteFrame, u = t.Label, c = t.Sprite
          }, function (t) {
              h = t.BaseObject
          }, function (t) {
              d = t.entityUtil
          }, function (t) {
              p = t.CoordinateTool
          }, function (t) {
              m = t.GameData
          }, function (t) {
              f = t.GameStoreDetail
          }, function (t) {
              b = t.putBoxItem
          }]
          , execute: function () {
              var g, y, v, C, T, Q, D, N, I, E, x, L, S, w, B, M, z;
              a._RF.push({}, "59dabkgYQhCapnRSZPoYnyL", "putBoxCard", void 0);
              var _ = s.ccclass
                  , k = s.property;
              t("putBoxCard", (g = _("putBoxCard"), y = k(r), v = k(r), C = k(l), T = k(l), Q = k(l), D = k(u), N = k(u), g((x = i((E = function (t) {
                      function i() {
                          for (var i, e = arguments.length, a = new Array(e), s = 0; s < e; s++) a[s] = arguments[s];
                          return (i = t.call.apply(t, [this].concat(a)) || this)
                              .detailId = 0, i.num = 0, i.gameDetail = null, i.isClick = !1, n(i, "ndQuality", x, o(i)), n(i, "ndLogo", L, o(i)), n(i, "spfQ0", S, o(i)), n(i, "spfQ1", w, o(i)), n(i, "spfQ2", B, o(i)), n(i, "lbNum", M, o(i)), n(i, "lbCoin", z, o(i)), i.boxNode = null, i.itemNode = null, i.canMove = !1, i
                      }
                      e(i, t);
                      var a = i.prototype;
                      return a.start = function () {
                          this.node.on(r.EventType.TOUCH_START, this.onTouchStart, this, !0), this.node.on(r.EventType.TOUCH_MOVE, this.onTouchMove, this, !0), this.node.on(r.EventType.TOUCH_END, this.onTouchEnd, this, !0), this.node.on(r.EventType.TOUCH_CANCEL, this.onTouchEnd, this, !0)
                      }, a.onTouchStart = function (t) {
                          var i = this;
                          this.isClick || (this.isClick = !0, d.showEntity("item_" + this.gameDetail.ImgLogo, this.boxNode, (function (e) {
                              i.itemNode = e, i.itemNode.getComponent(b)
                                  .init(i.detailId, i.num, i.boxNode), i.setItemPos(t), i.ndLogo.active = !1, i.canMove = !0
                          })))
                      }, a.onTouchMove = function (t) {
                          this.canMove && this.setItemPos(t)
                      }, a.onTouchEnd = function (t) {
                          this.canMove && (this.canMove = !1, m.instance.addBoxItem(this.detailId, this.num), this.itemNode.getComponent(b)
                              .setDynamic(), this.itemNode = null, d.hideEntity(this.node))
                      }, a.setItemPos = function (t) {
                          var i = p.transEventTouchToLocalPos(this.boxNode, t);
                          this.itemNode.setPosition(i)
                      }, a.init = function (t, i, e) {
                          var n = this;
                          switch (this.isClick = !1, this.ndLogo.active = !0, this.boxNode = e, this.detailId = t, this.num = i, this.canMove = !1, this.gameDetail = f.getStoreDetailByDetailId(this.detailId), this.gameDetail.quality) {
                          case 0:
                              this.ndQuality.active = !1, this.node.getComponent(c)
                                  .spriteFrame = this.spfQ0;
                              break;
                          case 1:
                              this.ndQuality.active = !0, this.ndQuality.children[0].active = !0, this.ndQuality.children[1].active = !1, this.node.getComponent(c)
                                  .spriteFrame = this.spfQ1;
                              break;
                          case 2:
                              this.ndQuality.active = !0, this.ndQuality.children[1].active = !0, this.ndQuality.children[0].active = !1, this.node.getComponent(c)
                                  .spriteFrame = this.spfQ2
                          }
                          this.lbNum.string = this.num.toString(), this.lbCoin.string = "" + this.num * this.gameDetail.Amount, this.ndLogo.children.forEach((function (t) {
                              t.active = n.gameDetail.ImgLogo == t.name
                          }))
                      }, i
                  }(h))
                  .prototype, "ndQuality", [y], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), L = i(E.prototype, "ndLogo", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), S = i(E.prototype, "spfQ0", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), w = i(E.prototype, "spfQ1", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), B = i(E.prototype, "spfQ2", [Q], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), M = i(E.prototype, "lbNum", [D], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), z = i(E.prototype, "lbCoin", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), I = E)) || I));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/putBoxForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./MSG.ts", "./audioManager.ts", "./dataUtil.ts", "./entityUtil.ts", "./framingLoadingUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./uiForm.ts", "./platformUtil.ts", "./CustomDefine.ts", "./GameData.ts", "./gameTreasureForm.ts", "./guidForm.ts", "./putBoxCard.ts"], (function (t) {
      "use strict";
      var n, i, e, o, r, a, s, u, l, c, m, d, f, h, p, g, b, y, v, F, C, x, w, B, N, T, S, U, D, E, A, O;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, i = t.inheritsLoose, e = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, s = t.Node, u = t.Label, l = t.ScrollView, c = t.Animation
          }, function (t) {
              m = t.BundlesConst
          }, function (t) {
              d = t.VIDEO_STATUS, f = t.VIDEO_MSG
          }, function (t) {
              h = t.audioManager
          }, function (t) {
              p = t.default
          }, function (t) {
              g = t.entityUtil
          }, function (t) {
              b = t.framingLoadingUtil
          }, function (t) {
              y = t.httpUtil
          }, function (t) {
              v = t.memoryConfig
          }, function (t) {
              F = t.uiManager
          }, function (t) {
              C = t.UiForm
          }, function (t) {
              x = t.platformUtil
          }, function (t) {
              w = t.formDefine, B = t.BundlesDefine, N = t.entityDefine, T = t.guideStep
          }, function (t) {
              S = t.GameData
          }, function (t) {
              U = t.gameTreasureForm
          }, function (t) {
              D = t.guidForm, E = t.FingerInfo, A = t.FingerType
          }, function (t) {
              O = t.putBoxCard
          }]
          , execute: function () {
              var I, G, V, z, M, L, P, R, _, k, j, H, J, q, K, Q, W;
              r._RF.push({}, "dbca5OBjnJIyohz7o0/5Fs/", "putBoxForm", void 0);
              var X = a.ccclass
                  , Y = a.property;
              t("putBoxForm", (I = X("putBoxForm"), G = Y({
                  type: s
              }), V = Y({
                  type: s
              }), z = Y(u), M = Y(s), L = Y({
                  type: s
              }), P = Y({
                  type: s
              }), R = Y(l), I((j = n((k = function (t) {
                      function n() {
                          for (var n, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                          return n = t.call.apply(t, [this].concat(r)) || this, e(n, "layout", j, o(n)), e(n, "boxNode", H, o(n)), e(n, "lbCoin", J, o(n)), e(n, "ndFinishAni", q, o(n)), e(n, "btnClose", K, o(n)), e(n, "btnVideo", Q, o(n)), n.isOver = !1, n.maxNum = 0, n.nowNum = 0, e(n, "itemScroll", W, o(n)), n
                      }
                      i(n, t);
                      var r = n.prototype;
                      return r.onDisable = function () {
                          for (var t = 0; t < this.boxNode.children.length; t++) {
                              var n = this.boxNode.children[t];
                              g.hideEntity(n), t--
                          }
                      }, r.start = function () {
                          this.bindTouchEnd(this.btnClose, this.onBtnClose), this.bindTouchEnd(this.btnVideo, this.onBtnVideo), this.node.on(s.EventType.TOUCH_START, (function (t) {
                              S.instance.isStartGame && S.instance.guid && S.instance.guid.onClose()
                          }), this)
                      }, r.onBtnClose = function () {
                          this.isOver || this.endGame(!1)
                      }, r.onBtnVideo = function () {
                          var t = this;
                          this.isOver || (y.reportVideoStart("全部装篓", "" + v.instance.level), x.currentPlatform.showVideo((function (n) {
                              switch (n) {
                              case d.END:
                                  t.endGame(!0), y.reportVideoFinish("全部装篓", "" + v.instance.level);
                                  break;
                              case d.ERR:
                                  F.showToast(f.ERR);
                                  break;
                              case d.NOTEND:
                                  F.showToast(f.NOTEND)
                              }
                          })))
                      }, r.endGame = function (t) {
                          var n = this;
                          t || 0 != S.instance.boxItems.length ? (this.isOver = !0, (t || S.instance.boxItems.length > 0) && (this.ndFinishAni.active = !0, this.ndFinishAni.getComponent(c)
                              .play(), h.playAudio("finish")), g.hideAllEntity(w.guidForm), this.scheduleOnce((function () {
                              S.instance.levelInfo.treasureProp > 0 && !S.instance.isTreasure ? F.pushUIForm("gameform/" + w.gameTreasureForm, (function (i) {
                                  i.getComponent(U)
                                      .init((function () {
                                          n.nextGame(t)
                                      }))
                              }), B.form) : n.nextGame(t)
                          }), 1.2)) : F.showToast("还没有把山货装进篓子呢！")
                      }, r.nextGame = function (t) {
                          F.hideUIFormByNode(this.node), S.instance.GameOver(t)
                      }, r.init = function (t) {
                          var n = this;
                          S.instance.initPutBoxForm(this), g.hideAllEntity(N.putBoxCard), this.maxNum = t.length, this.nowNum = 0, b.framingLoad(t.length, (function (i) {
                              var e = t[i];
                              n.addCard(e.detailId, e.num)
                          })), this.setCoin(0), this.ndFinishAni.active = !1, this.ndFinishAni.setScale(.4, .4), this.isOver = !1, this.itemScroll.scrollToLeft(0), F.hideUIForm(w.eventForm, null), F.hideUIForm(w.eventAnswerForm, null)
                      }, r.addCard = function (t, n) {
                          var i = this;
                          g.showEntity("gameform/" + N.putBoxCard, this.layout, (function (e) {
                              e.getComponent(O)
                                  .init(t, n, i.boxNode), i.nowNum++, i.testCard()
                          }), m.form)
                      }, r.testCard = function () {
                          var t = this;
                          this.nowNum != this.maxNum || 1001 != v.instance.level || p.testStep(T.putBox) || g.showEntity("gameform/" + w.guidForm, this.node, (function (n) {
                              t.scheduleOnce((function () {
                                  var i = t.layout.children[0].worldPosition.clone();
                                  i.x += 80, i.y += 100;
                                  var e = t.boxNode.worldPosition;
                                  n.getComponent(D)
                                      .init(T.putBox, new E(A.Move, [i, e]))
                              }), .1)
                          }), m.form)
                      }, r.setCoin = function (t) {
                          this.lbCoin.string = t.toString()
                      }, n
                  }(C))
                  .prototype, "layout", [G], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), H = n(k.prototype, "boxNode", [V], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), J = n(k.prototype, "lbCoin", [z], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), q = n(k.prototype, "ndFinishAni", [M], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), K = n(k.prototype, "btnClose", [L], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Q = n(k.prototype, "btnVideo", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), W = n(k.prototype, "itemScroll", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = k)) || _));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/putBoxItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./entityUtil.ts", "./TransformUtil.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var i, n, o, e, s, c, h, r, a, u, d, l;
      return {
          setters: [function (t) {
              i = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy, o = t._decorator, e = t.Node, s = t.RigidBody2D, c = t.ERigidBody2DType, h = t.Vec2, r = t.Vec3, a = t.Component
          }, function (t) {
              u = t.entityUtil
          }, function (t) {
              d = t.CoordinateTool
          }, function (t) {
              l = t.GameData
          }]
          , execute: function () {
              var y;
              n._RF.push({}, "6c4caCYSedFZbqfthf+B7R/", "putBoxItem", void 0);
              var p = o.ccclass;
              o.property, t("putBoxItem", p("putBoxItem")(y = function (t) {
                  function n() {
                      for (var i, n = arguments.length, o = new Array(n), e = 0; e < n; e++) o[e] = arguments[e];
                      return (i = t.call.apply(t, [this].concat(o)) || this)
                          .detailId = 0, i.num = 0, i.rig = null, i.isDynamic = !1, i.boxNode = null, i
                  }
                  i(n, t);
                  var o = n.prototype;
                  return o.start = function () {
                      this.node.on(e.EventType.TOUCH_START, this.onTouchStart, this), this.node.on(e.EventType.TOUCH_END, this.onTouchEnd, this), this.node.on(e.EventType.TOUCH_CANCEL, this.onTouchEnd, this), this.node.on(e.EventType.TOUCH_MOVE, this.onTouchMove, this)
                  }, o.onTouchStart = function () {
                      this.setKinematic()
                  }, o.onTouchEnd = function () {
                      this.setDynamic()
                  }, o.onTouchMove = function (t) {
                      var i = d.transEventTouchToLocalPos(this.boxNode, t);
                      this.node.position = i
                  }, o.update = function () {
                      this.isDynamic && this.node.position.y < -400 && (this.rig = this.rig || this.node.getComponent(s), this.rig.type = c.Kinematic, this.rig.linearVelocity = h.ZERO, this.rig.angularVelocity = 0, this.node.eulerAngles = r.ZERO, u.hideEntity(this.node), l.instance.subBoxItem(this.detailId, this.num))
                  }, o.init = function (t, i, n) {
                      this.boxNode = n, this.detailId = t, this.num = i, this.rig = this.rig || this.node.getComponent(s), this.rig.type = c.Kinematic, this.isDynamic = !1
                  }, o.setKinematic = function () {
                      this.rig.type = c.Kinematic, this.rig.linearVelocity = h.ZERO, this.rig.angularVelocity = 0, this.isDynamic = !1
                  }, o.setDynamic = function () {
                      this.rig = this.rig || this.node.getComponent(s), this.rig.type = c.Dynamic, this.isDynamic = !0
                  }, n
              }(a)) || y);
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/putGoodsBubble.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioManager.ts", "./baseObject.ts", "./dataUtil.ts", "./eventUtil.ts", "./CustomDefine.ts", "./fingerUtil.ts"], (function (t) {
      "use strict";
      var e, n, i, o, s, r, u, a, c, l, d, p, h, f, b, P;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              s = t.cclegacy, r = t._decorator, u = t.Node, a = t.Vec3, c = t.tween
          }, function (t) {
              l = t.audioManager
          }, function (t) {
              d = t.BaseObject
          }, function (t) {
              p = t.default
          }, function (t) {
              h = t.default
          }, function (t) {
              f = t.guideStep, b = t.eventDefine
          }, function (t) {
              P = t.fingerUtil
          }]
          , execute: function () {
              var m, v, g, y, w, E, I;
              s._RF.push({}, "660a6EDcjtMJrBRAstu98Oo", "putGoodsBubble", void 0);
              var O = r.ccclass
                  , S = r.property;
              t("putGoodsBubble", (m = O("putGoodsBubble"), v = S(u), g = S(u), m((E = e((w = function (t) {
                      function e() {
                          for (var e, n = arguments.length, s = new Array(n), r = 0; r < n; r++) s[r] = arguments[r];
                          return e = t.call.apply(t, [this].concat(s)) || this, i(e, "animNode", E, o(e)), i(e, "btnPut", I, o(e)), e.startPos = null, e.boxId = -1, e.barOffset = new a(0, 100, 0), e
                      }
                      n(e, t);
                      var s = e.prototype;
                      return s.start = function () {
                          this.showAnim(), this.bindTouchEnd(this.btnPut, this.onTouchEnd)
                      }, s.showAnim = function () {
                          this.startPos = this.animNode.position.clone();
                          var t = c(this.animNode)
                              .to(.5, {
                                  position: new a(this.startPos.x, this.startPos.y + 30, this.startPos.z)
                              })
                              , e = c(this.animNode)
                              .to(.5, {
                                  position: new a(this.startPos.x, this.startPos.y, this.startPos.z)
                              });
                          c(this.animNode)
                              .sequence(t, e)
                              .repeatForever()
                              .start()
                      }, s.reset = function (t) {
                          var e = this;
                          this.boxId = t, p.testStep(f.buildConfirm) && !p.testStep(f.putClick) && 1 == t && this.scheduleOnce((function () {
                              P.showFinger(e.btnPut.worldPosition), P.followUI(e.btnPut), h.dispatchEvent(b.SHOW_DIALOG, {
                                  step: f.putClick
                              })
                          }), .3)
                      }, s.onTouchEnd = function () {
                          console.log("onTouchEnd", this.node.name), p.stepEnd(f.putClick), P.removeFinger(), l.playAudio("btnSound"), h.dispatchEvent(b.SHOW_IGNORE_STALLS_TIP, {
                              stallsId: this.boxId
                          })
                      }, s.update = function (t) {}, e
                  }(d))
                  .prototype, "animNode", [v], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), I = e(w.prototype, "btnPut", [g], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), y = w)) || y));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/putonshelvesForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./MSG.ts", "./List.ts", "./dataUtil.ts", "./eventUtil.ts", "./framingLoadingUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./baseAdForm.ts", "./platformUtil.ts", "./CustomDefine.ts", "./GameStoreDetail.ts", "./fingerUtil.ts"], (function (t) {
      "use strict";
      var e, i, n, o, l, r, a, u, s, c, d, f, p, h, m, g, b, v, I, S, y, A, D;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              l = t.cclegacy, r = t._decorator, a = t.Node, u = t.Label
          }, function (t) {
              s = t.CategoryConst
          }, function (t) {
              c = t.VIDEO_STATUS
          }, function (t) {
              d = t.default
          }, function (t) {
              f = t.default
          }, function (t) {
              p = t.default
          }, function (t) {
              h = t.framingLoadingUtil
          }, function (t) {
              m = t.httpUtil
          }, function (t) {
              g = t.memoryConfig
          }, function (t) {
              b = t.uiManager
          }, function (t) {
              v = t.baseAdForm
          }, function (t) {
              I = t.platformUtil
          }, function (t) {
              S = t.eventDefine, y = t.guideStep
          }, function (t) {
              A = t.GameStoreDetail
          }, function (t) {
              D = t.fingerUtil
          }]
          , execute: function () {
              var L, C, P, w, F, _, x, E, U, V, T, z, N, O, k;
              l._RF.push({}, "2518eGls/NF6pE8OMOl6QvG", "putonshelvesForm", void 0);
              var B = r.ccclass
                  , G = r.property;
              t("putonshelvesForm", (L = B("putonshelvesForm"), C = G(a), P = G(d), w = G(u), F = G(u), _ = G(a), x = G(a), L((V = e((U = function (t) {
                      function e() {
                          for (var e, i = arguments.length, l = new Array(i), r = 0; r < i; r++) l[r] = arguments[r];
                          return e = t.call.apply(t, [this].concat(l)) || this, n(e, "btnClose", V, o(e)), n(e, "storeList", T, o(e)), n(e, "txtLevel", z, o(e)), n(e, "txtSize", N, o(e)), n(e, "btnPutAll", O, o(e)), n(e, "btnVideoPutAll", k, o(e)), e.boxId = -1, e
                      }
                      i(e, t);
                      var l = e.prototype;
                      return l.start = function () {
                          this.bindTouchEnd(this.btnClose, this.onCloseForm), this.bindTouchEnd(this.btnPutAll, this.onPutAll), this.bindTouchEnd(this.btnVideoPutAll, this.onVideoPutAll)
                      }, e.getPutLocalDetail = function () {
                          var t = f.getLocalShopDetailByCategoryId(s.FOODS)
                              .filter((function (t) {
                                  return t.num > 0
                              }));
                          return t.length > 0 ? t[0] : null
                      }, e.putAll = function (t, e) {
                          var i = this
                              , n = f.getRacksAll()
                              .filter((function (t) {
                                  return 0 == t.num
                              }));
                          0 != n.length ? h.framingLoad(n.length, (function (o) {
                              var l = i.getPutLocalDetail();
                              if (null != l) {
                                  var r = n[o]
                                      , a = A.getRackNum(r.rackId, r.level)
                                      , u = A.getStoreDetailByDetailId(l.detailId)
                                      , s = f.getLocalDetailNumById(l.detailId)
                                      , c = 0;
                                  c = s > a ? a : s, r.detailId = l.detailId, r.num = c, f.updateRack(r), f.addLocalDetailNum(u.CategoryId, u.DetailId, u.ChipNum, !0, -c, !1), p.dispatchEvent(S.PUT_ON_SHELVES_CHANGED, {
                                      detailId: l.detailId
                                      , boxId: r.rackId
                                  }), n.length - 1 == o && (f.saveRack(), f.saveLocalStore(), e && b.showToast("上架完成"), t && t())
                              }
                          })) : e && b.showToast("已经摆满了山货")
                      }, e.showPutButton = function (t, e, i) {
                          g.instance.getIntKey("open_putform_put_all_level", 1), f.getCurrentLevel(), g.instance.getIntKey("open_put_all_level", 3);
                          t.length, e.active = !1, i.active = !1
                      }, e.videoPutAll = function (t) {
                          m.reportVideoStart("上架-一键上架"), I.currentPlatform.showVideo((function (i) {
                              switch (i) {
                              case c.END:
                                  m.reportVideoFinish("上架-一键上架"), e.putAll((function () {
                                      t && t()
                                  }), !0)
                              }
                          }))
                      }, l.onVideoPutAll = function () {
                          var t = this;
                          e.videoPutAll((function () {
                              t.hideForm()
                          }))
                      }, l.onPutAll = function () {
                          var t = this;
                          f.addFreeTrial("putall", 0, 1), e.putAll((function () {
                              t.hideForm()
                          }), !0)
                      }, l.onCloseForm = function (t) {
                          D.removeFinger(), this.hideForm(), t.propagationStopped = !0, t.propagationImmediateStopped = !0
                      }, l.onCancel = function (t) {
                          t.propagationStopped = !0, t.propagationImmediateStopped = !0
                      }, l.reset = function (t) {
                          this.boxId = t, console.log("putonshelvesForm---rackId ", t);
                          var e = A.getStoreDetailByDetailId(this.boxId);
                          if (e) {
                              var i = f.getRackLevel(this.boxId);
                              this.txtLevel.string = "摊位等级   " + (i + 1), this.txtSize.string = "摊位容量   " + (e.StoreNum + e.UpStoreNum * i), this.showStoreGoods()
                          }
                      }, l.showStoreGoods = function () {
                          var t = this
                              , i = f.getLocalShopDetailByCategoryId(s.FOODS)
                              .filter((function (t) {
                                  return t.num > 0
                              }));
                          if (i.forEach((function (e) {
                                  e.boxId = t.boxId
                              })), this.storeList.setData(i), this.storeList.scrollView.content.children.length > 0) {
                              var n = this.storeList.scrollView.content.children[0];
                              f.testStep(y.putClick) && !f.testStep(y.putConfirm) && this.scheduleOnce((function () {
                                  D.showFinger(n.getWorldPosition()), D.followUI(n), p.dispatchEvent(S.SHOW_DIALOG, {
                                      step: y.putConfirm
                                  })
                              }), .3)
                          }
                          e.showPutButton(i, this.btnPutAll, this.btnVideoPutAll)
                      }, l.onEnable = function () {
                          t.prototype.onEnable.call(this), this.showTopCustomAd(), this.showBottomCustomAd()
                      }, l.onDisable = function () {
                          this.hideBottomCustomAd(), this.hideTopCustomAd()
                      }, l.update = function (t) {}, e
                  }(v))
                  .prototype, "btnClose", [C], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), T = e(U.prototype, "storeList", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: null
              }), z = e(U.prototype, "txtLevel", [w], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), N = e(U.prototype, "txtSize", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), O = e(U.prototype, "btnPutAll", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), k = e(U.prototype, "btnVideoPutAll", [x], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), E = U)) || E));
              l._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/putonshelvesItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./ItemRender.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./resourceUtil.ts", "./uiManager.ts", "./CustomDefine.ts", "./GameStoreDetail.ts", "./fingerUtil.ts"], (function (t) {
      "use strict";
      var e, i, n, o, l, a, r, u, s, d, c, f, p, h, m, I, g, b, v, D, y;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              l = t.cclegacy, a = t._decorator, r = t.Sprite, u = t.Label
          }, function (t) {
              s = t.BundlesConst
          }, function (t) {
              d = t.default
          }, function (t) {
              c = t.default
          }, function (t) {
              f = t.entityUtil
          }, function (t) {
              p = t.default
          }, function (t) {
              h = t.resourceUtil
          }, function (t) {
              m = t.uiManager
          }, function (t) {
              I = t.guideStep, g = t.entityDefine, b = t.eventDefine, v = t.formDefine
          }, function (t) {
              D = t.GameStoreDetail
          }, function (t) {
              y = t.fingerUtil
          }]
          , execute: function () {
              var x, S, N, C, E, U, _, B, R, L, z, A;
              l._RF.push({}, "9e0a5uXCitOT49BDm/ayB8Z", "putonshelvesItem", void 0);
              var F = a.ccclass
                  , T = a.property;
              t("putonshelvesItem", (x = F("putonshelvesItem"), S = T(r), N = T(u), C = T(u), E = T(u), x((B = e((_ = function (t) {
                      function e() {
                          for (var e, i = arguments.length, l = new Array(i), a = 0; a < i; a++) l[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(l)) || this, n(e, "logo", B, o(e)), n(e, "txtNum", R, o(e)), n(e, "txtDollor", L, o(e)), n(e, "txtName", z, o(e)), e.detailId = -1, n(e, "boxId", A, o(e)), e
                      }
                      i(e, t);
                      var l = e.prototype;
                      return l.start = function () {
                          this.bindTouchEnd(this.node, this.onSelect)
                      }, l.onEnable = function () {}, l.onDisable = function () {}, l.dataChanged = function () {
                          var t = this.data;
                          this.boxId = this.data.boxId, this.reset(this.boxId, t)
                      }, l.reset = function (t, e) {
                          var i = this;
                          this.detailId = e.detailId, this.boxId = t;
                          var n = D.getStoreDetailByDetailId(e.detailId)
                              , o = "texture/goods/" + n.ImgLogo + "/spriteFrame";
                          h.loadBundleRes(s.images, o, (function (t, e) {
                              t ? console.log("fail", o, t) : i.logo.spriteFrame = e
                          })), this.txtName.string = n.ProductName, this.txtNum.string = e.num + "", this.txtDollor.string = "" + n.Amount
                      }, l.onSelect = function (t) {
                          if (-1 != this.detailId) {
                              console.log("上货", this.detailId), c.stepEnd(I.putConfirm), y.removeFinger(), f.hideAllEntity(g.boxToolBubble);
                              var e = D.getStoreDetailByDetailId(this.detailId)
                                  , i = c.getLocalDetailNumById(this.detailId)
                                  , n = c.getRackById(this.boxId)
                                  , o = D.getRackNum(this.boxId, n.level)
                                  , l = 0;
                              l = i > o ? o : i, n.detailId = this.detailId, n.num = l, c.updateRack(n), c.saveRack(), c.addLocalDetailNum(e.CategoryId, e.DetailId, e.ChipNum, !0, -l, !0), p.dispatchEvent(b.PUT_ON_SHELVES_CHANGED, {
                                  detailId: this.detailId
                                  , boxId: this.boxId
                              }), p.dispatchEvent(b.SHOW_GAME_START_GUIDE, null), c.testStepCount(I.putConfirm, 1) && p.dispatchEvent(b.SHOW_DIALOG, {
                                  step: I.putCompleted
                              }), m.hideUIForm(v.putonshelvesForm)
                          }
                      }, l.update = function (t) {}, e
                  }(d))
                  .prototype, "logo", [S], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), R = e(_.prototype, "txtNum", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), L = e(_.prototype, "txtDollor", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), z = e(_.prototype, "txtName", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), A = e(_.prototype, "boxId", [T], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return -1
                  }
              }), U = _)) || U));
              l._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/QQModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PlatformModule.ts"], (function (t) {
      "use strict";
      var e, n, o;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              o = t.default
          }]
          , execute: function () {
              n._RF.push({}, "0ec24E2FXxN4Y8SLbdRQoit", "QQModule", void 0);
              t("default", function (t) {
                  function n() {
                      for (var e, n = arguments.length, o = new Array(n), u = 0; u < n; u++) o[u] = arguments[u];
                      return (e = t.call.apply(t, [this].concat(o)) || this)
                          .platformName = "qq", e
                  }
                  return e(n, t), n
              }(o));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/QuickTween.ts", ["cc", "./Util.ts"], (function () {
      "use strict";
      var t, o, n, i, e, r, u, l, s, a;
      return {
          setters: [function (s) {
              t = s.cclegacy, o = s.Node, n = s.tween, i = s.Vec3, e = s.easing, r = s.Sprite, u = s.Color, l = s.Camera
          }, function (t) {
              s = t.calcPunchData, a = t.calcShakeData
          }]
          , execute: function () {
              t._RF.push({}, "20531fqbcBMdYAOqZjdFtlj", "QuickTween", void 0), o.prototype.qtPosition = function (t, o, i) {
                  return n(this)
                      .to(o, {
                          position: t
                      }, i)
              }, o.prototype.qtPositionX = function (t, o, e) {
                  var r = this.position;
                  return n(this)
                      .to(o, {
                          position: new i(t, r.y, r.z)
                      }, e)
              }, o.prototype.qtPositionY = function (t, o, e) {
                  var r = this.position;
                  return n(this)
                      .to(o, {
                          position: new i(r.x, t, r.z)
                      }, e)
              }, o.prototype.qtPositionZ = function (t, o, e) {
                  var r = this.position;
                  return n(this)
                      .to(o, {
                          position: new i(r.x, r.y, t)
                      }, e)
              }, o.prototype.qtWorldPosition = function (t, o, i) {
                  return n(this)
                      .to(o, {
                          worldPosition: t
                      }, i)
              }, o.prototype.qtWorldPositionX = function (t, o, e) {
                  var r = this.worldPosition;
                  return n(this)
                      .to(o, {
                          worldPosition: new i(t, r.y, r.z)
                      }, e)
              }, o.prototype.qtWorldPositionY = function (t, o, e) {
                  var r = this.worldPosition;
                  return n(this)
                      .to(o, {
                          worldPosition: new i(r.x, t, r.z)
                      }, e)
              }, o.prototype.qtWorldPositionZ = function (t, o, e) {
                  var r = this.worldPosition;
                  return n(this)
                      .to(o, {
                          worldPosition: new i(r.x, r.y, t)
                      }, e)
              }, o.prototype.qtRotation = function (t, o, i) {
                  return n(this)
                      .to(o, {
                          eulerAngles: t
                      }, i)
              }, o.prototype.qtRotationQuat = function (t, o, i) {
                  return n(this)
                      .to(o, {
                          rotation: t
                      }, i)
              }, o.prototype.qtScale = function (t, o, e) {
                  var r = t;
                  return t instanceof i || (r = new i(t, t, t)), n(this)
                      .to(o, {
                          scale: r
                      }, e)
              }, o.prototype.qtScaleX = function (t, o, e) {
                  var r = this.scale;
                  return n(this)
                      .to(o, {
                          scale: new i(t, r.y, r.z)
                      }, e)
              }, o.prototype.qtScaleY = function (t, o, e) {
                  var r = this.scale;
                  return n(this)
                      .to(o, {
                          scale: new i(r.x, t, r.z)
                      }, e)
              }, o.prototype.qtScaleZ = function (t, o, e) {
                  var r = this.scale;
                  return n(this)
                      .to(o, {
                          scale: new i(r.x, r.y, t)
                      }, e)
              }, o.prototype.qtPunchPosition = function (t, o, i) {
                  var e, r, u = null != (e = null == i ? void 0 : i.vibrato) ? e : 3
                      , l = null != (r = null == i ? void 0 : i.elasticity) ? r : .5
                      , a = s(this.position.clone(), t, o, u, l)
                      , p = a.tos
                      , c = a.durations
                      , h = n(this);
                  return p.forEach((function (t, o) {
                      var e, r = c[o];
                      0 === o ? e = {
                          onStart: i.onStart
                      } : o === p.length - 1 && (e = {
                          onComplete: i.onComplete
                      }), h.then(n()
                          .to(r, {
                              position: t
                          }, e))
                  })), h.union()
              }, o.prototype.qtPunchRotation = function (t, o, i) {
                  var e, r, u = null != (e = null == i ? void 0 : i.vibrato) ? e : 3
                      , l = null != (r = null == i ? void 0 : i.elasticity) ? r : .5
                      , a = s(this.rotation.clone(), t, o, u, l)
                      , p = a.tos
                      , c = a.durations
                      , h = n(this);
                  return p.forEach((function (t, o) {
                      var e, r = c[o];
                      0 === o ? e = {
                          onStart: i.onStart
                      } : o === p.length - 1 && (e = {
                          onComplete: i.onComplete
                      }), h.then(n()
                          .to(r, {
                              eulerAngles: t
                          }, e))
                  })), h.union()
              }, o.prototype.qtPunchScale = function (t, o, i) {
                  var e, r, u = null != (e = null == i ? void 0 : i.vibrato) ? e : 3
                      , l = null != (r = null == i ? void 0 : i.elasticity) ? r : .5
                      , a = s(this.scale.clone(), t, o, u, l)
                      , p = a.tos
                      , c = a.durations
                      , h = n(this);
                  return p.forEach((function (t, o) {
                      var e, r = c[o];
                      0 === o ? e = {
                          onStart: i.onStart
                      } : o === p.length - 1 && (e = {
                          onComplete: i.onComplete
                      }), h.then(n()
                          .to(r, {
                              scale: t
                          }, e))
                  })), h.union()
              }, o.prototype.qtJumpPosition = function (t, o, r, u, l) {
                  var s = new i
                      , a = n(this)
                      , p = 2 * r;
                  this.jumpY = 0;
                  var c = 0
                      , h = n()
                      .to(u / p, {
                          jumpY: o
                      }, {
                          onStart: function (t) {
                              c = t.position.y, t.jumpY = 0
                          }
                          , onUpdate: function (t, o) {
                              s.set(t.position), s.y = c + t.jumpY, t.position = s
                          }
                          , onComplete: function (t) {
                              t.jumpY = 0
                          }
                          , easing: "quadOut"
                      })
                      .to(u / p, {
                          jumpY: o
                      }, {
                          onStart: function (t) {
                              c = t.position.y
                          }
                          , onUpdate: function (t, o) {
                              s.set(t.position), s.y = c - t.jumpY, t.position = s
                          }
                          , onComplete: function (t) {
                              t.jumpY = 0
                          }
                          , easing: "quadIn"
                      })
                      .union()
                      .repeat(r);
                  this.jumpOffsetY = 0;
                  var f = 0
                      , d = n()
                      .to(u, {
                          jumpOffsetY: t.y - this.position.y
                      }, {
                          onStart: function (o) {
                              f = t.y - o.position.y, o.jumpOffsetY = 0
                          }
                          , onUpdate: function (t, o) {
                              var n = e.quadOut(o) * f;
                              s.set(t.position), s.y += n, t.position = s
                          }
                          , onComplete: function (t) {
                              t.jumpOffsetY = 0
                          }
                          , easing: "quadOut"
                      });
                  this.jumpX = this.position.x, this.jumpZ = this.position.z;
                  var v = n()
                      .to(u, {
                          jumpX: t.x
                          , jumpZ: t.z
                      }, {
                          onStart: l.onStart
                          , onUpdate: function (t, o) {
                              s.set(t.position), s.x = t.jumpX, s.z = t.jumpZ, t.position = s, null == l.onUpdate || l.onUpdate()
                          }
                          , onComplete: function (t) {
                              t.jumpX = t.position.x, t.jumpZ = t.position.z, null == l.onComplete || l.onComplete()
                          }
                      });
                  return a.parallel(h, d, v), a
              }, o.prototype.qtShakePosition = function (t, o, e) {
                  var r, u, l, s, p = null != (r = null == e ? void 0 : e.vibrato) ? r : 10
                      , c = null != (u = null == e ? void 0 : e.randomness) ? u : 90
                      , h = null == (l = null == e ? void 0 : e.fadeOut) || l
                      , f = !1;
                  t instanceof i ? (s = t, f = !0) : s = new i(t, t, t);
                  var d = a(this.position.clone(), o, s, p, c, !1, f, h)
                      , v = d.tos
                      , m = d.durations
                      , y = n(this);
                  return v.forEach((function (t, o) {
                      var i, r = m[o];
                      0 === o ? i = {
                          onStart: e.onStart
                      } : o === v.length - 1 && (i = {
                          onComplete: e.onComplete
                      }), y.then(n()
                          .to(r, {
                              position: t
                          }, i))
                  })), y.union()
              }, o.prototype.qtShakeRotation = function (t, o, e) {
                  var r, u, l, s, p = null != (r = null == e ? void 0 : e.vibrato) ? r : 10
                      , c = null != (u = null == e ? void 0 : e.randomness) ? u : 90
                      , h = null == (l = null == e ? void 0 : e.fadeOut) || l
                      , f = !1;
                  t instanceof i ? (s = t, f = !0) : s = new i(t, t, t);
                  var d = a(this.eulerAngles.clone(), o, s, p, c, !1, f, h)
                      , v = d.tos
                      , m = d.durations
                      , y = n(this);
                  return v.forEach((function (t, o) {
                      var i, r = m[o];
                      0 === o ? i = {
                          onStart: e.onStart
                      } : o === v.length - 1 && (i = {
                          onComplete: e.onComplete
                      }), y.then(n()
                          .to(r, {
                              eulerAngles: t
                          }, i))
                  })), y.union()
              }, o.prototype.qtShakeScale = function (t, o, e) {
                  var r, u, l, s, p = null != (r = null == e ? void 0 : e.vibrato) ? r : 10
                      , c = null != (u = null == e ? void 0 : e.randomness) ? u : 90
                      , h = null == (l = null == e ? void 0 : e.fadeOut) || l
                      , f = !1;
                  t instanceof i ? (s = t, f = !0) : s = new i(t, t, t);
                  var d = a(this.scale.clone(), o, s, p, c, !1, f, h)
                      , v = d.tos
                      , m = d.durations
                      , y = n(this);
                  return v.forEach((function (t, o) {
                      var i, r = m[o];
                      0 === o ? i = {
                          onStart: e.onStart
                      } : o === v.length - 1 && (i = {
                          onComplete: e.onComplete
                      }), y.then(n()
                          .to(r, {
                              scale: t
                          }, i))
                  })), y.union()
              }, r.prototype.qtColor = function (t, o, i) {
                  return n(this)
                      .to(o, {
                          color: t
                      }, i)
              }, r.prototype.qtOpacity = function (t, o, i) {
                  var e = this
                      , r = this.color.clone()
                      , l = new u;
                  return n(this)
                      .to(o, {
                          color: new u(r.r, r.g, r.b, t)
                      }, {
                          onStart: i.onStart
                          , onUpdate: function (o, n) {
                              var u = r.a + (t - r.a) * n;
                              l.set(r.r, r.g, r.b, u), e.color = l, null == i.onUpdate || i.onUpdate()
                          }
                          , onComplete: i.onComplete
                      })
              }, l.prototype.qtShakePosition = function (t, o, e) {
                  var r, u, l, s, p = null != (r = null == e ? void 0 : e.vibrato) ? r : 10
                      , c = null != (u = null == e ? void 0 : e.randomness) ? u : 90
                      , h = null == (l = null == e ? void 0 : e.fadeOut) || l
                      , f = !1;
                  t instanceof i ? (s = t, f = !0) : s = new i(t, t, t);
                  var d = a(this.node.position.clone(), o, s, p, c, !0, f, h)
                      , v = d.tos
                      , m = d.durations
                      , y = n(this.node);
                  return v.forEach((function (t, o) {
                      var i, r = m[o];
                      0 === o ? i = {
                          onStart: e.onStart
                      } : o === v.length - 1 && (i = {
                          onComplete: e.onComplete
                      }), y.then(n()
                          .to(r, {
                              position: t
                          }, i))
                  })), y.union()
              }, t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/rackModel.ts", ["cc"], (function (t) {
      "use strict";
      var e;
      return {
          setters: [function (t) {
              e = t.cclegacy
          }]
          , execute: function () {
              e._RF.push({}, "094b2Aw4xlIrattFjsAbvk+", "rackModel", void 0);
              t("rackModel", (function (t, e, s, i, c) {
                  this.rackId = 0, this.detailId = 0, this.num = 0, this.level = 0, this.state = 0, this.rackId = t, this.detailId = e, this.num = s, this.level = i, this.state = c
              }));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/RandomEvent.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Sheets.ts", "./sheetManager.ts"], (function (t) {
      "use strict";
      var n, e, o, r;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy
          }, function (t) {
              o = t.RandomEventBase
          }, function (t) {
              r = t.SheetManager
          }]
          , execute: function () {
              e._RF.push({}, "56c16UpyOdNUZg5dPMKoh8P", "RandomEvent", void 0);
              t("RandomEvent", function (t) {
                  function e() {
                      return t.apply(this, arguments) || this
                  }
                  return n(e, t), e.get = function (t) {
                      return this[t] ? this[t] : r.get("RandomEvent", t, e)
                  }, e.getAll = function () {
                      return r.getAllSheets("RandomEvent", e)
                  }, e.getRandomEventByEventType = function (t) {
                      var n = this.getAll()
                          .filter((function (n) {
                              return n.eventType == t
                          }));
                      return n[Math.floor(Math.random() * n.length)]
                  }, e
              }(o));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/resourceUtil.ts", ["cc", "./Common.ts", "./eventUtil.ts", "./audioManager.ts", "./poolManager.ts", "./Const.ts", "./Debug.ts"], (function (n) {
      "use strict";
      var o, e, t, i, u, d, l, r, a, c, s, f, v, S;
      return {
          setters: [function (n) {
              o = n.cclegacy, e = n._decorator, t = n.assetManager, i = n.resources, u = n.JsonAsset, d = n.director, l = n.Prefab, r = n.AudioClip
          }, function (n) {
              a = n.default
          }, function (n) {
              c = n.default
          }, function (n) {
              s = n.audioManager
          }, function (n) {
              f = n.poolManager
          }, function (n) {
              v = n.EventConst
          }, function (n) {
              S = n.Debug
          }]
          , execute: function () {
              var I;
              o._RF.push({}, "87d9d2nubNB7ZTkVfw46w0q", "resourceUtil", void 0);
              var p = e.ccclass;
              e.property, n("resourceUtil", p("ResourceModule")(I = function () {
                  function n() {}
                  return n.loadAsset = function (n, o, e) {
                      -1 != n.indexOf("http") ? t.loadRemote(n, (function (n, o) {
                          e && e(n, o)
                      })) : i.load(n, u, (function (n, o) {
                          e && e(n, o)
                      }))
                  }, n.loadAssetDir = function (n, o, e, t) {
                      i.loadDir(n, o, (function (n, o, t) {
                          var i = n / o * 100;
                          i = Math.ceil(i), e && e(i)
                      }), (function (n, o) {
                          t && t(n, o)
                      }))
                  }, n.preloadScene = function (n, o, e, t) {
                      void 0 === t && (t = ""), "" == t ? d.preloadScene(n, o, e) : this.loadBundle(t, (function (t, i) {
                          i.preloadScene(n, o, e)
                      }))
                  }, n.loadScene = function (n, o, e) {
                      void 0 === e && (e = ""), "" == e ? d.loadScene(n, o) : this.loadBundle(e, (function (e, t) {
                          t.loadScene(n, (function (n, e) {
                              return d.runScene(e, null, o)
                          }))
                      }))
                  }, n.loadBundle = function (n, o, e) {
                      t.loadBundle(n, {
                          onFileProgress: function (o) {
                              var t = o.progress;
                              t = Math.ceil(t), S.log(n + "加载进度:" + o.progress + "%  ", o.progress), e && e(o.progress)
                          }
                      }, (function (n, e) {
                          o(n, e)
                      }))
                  }, n.preloadBundleDir = function (n, o, e) {
                      this.loadBundle(n, (function (n, t) {
                          t.preloadDir(e, o)
                      }))
                  }, n.loadBundleDir = function (n, o, e, t, i) {
                      this.loadBundle(n, (function (n, u) {
                          u.loadDir(e, o, (function (n, o, e) {
                              var i = n / o * 100;
                              i = Math.ceil(i), t && t(i)
                          }), (function (n, o) {
                              i && i(n, o)
                          }))
                      }))
                  }, n.loadBundleRes = function (n, o, e) {
                      this.loadBundle(n, (function (n, t) {
                          t.load(o, (function (n, o) {
                              e(n, o)
                          }))
                      }))
                  }, n.preloadBundleRes = function (n, o, e) {
                      this.loadBundle(n, (function (n, t) {
                          t.preload(o, e)
                      }))
                  }, n.loadSubEntity = function (n, o, e, t, i) {
                      void 0 === t && (t = ""), void 0 === i && (i = !0), i && c.sendEventImmediately(v.SHOW_TRANSITION, null), this.loadBundle(n, (function (u, d) {
                          null != d ? d.loadDir(t, l, (function (n, e) {
                              var t = n / e * 100;
                              a.isFunction(o) && o(t)
                          }), (function (o, t) {
                              if (i && c.sendEventImmediately(v.HIDE_TRANSITION, null), o) return S.warn("loadSubEntity err ", n, o), void e();
                              t.forEach((function (n) {
                                  f.addPrefab(n)
                              })), a.isFunction(e) && e()
                          })) : S.warn("bundle 是空 ", n)
                      }))
                  }, n.loadSubForm = function (n, o, e, t, i) {
                      void 0 === t && (t = "form"), void 0 === i && (i = !0), i && c.sendEventImmediately(v.SHOW_TRANSITION, null), this.loadBundle(n, (function (n, u) {
                          u.loadDir(t, l, (function (n, e) {
                              var t = n / e * 100;
                              a.isFunction(o) && o(t)
                          }), (function (n, o) {
                              if (i && c.sendEventImmediately(v.HIDE_TRANSITION, null), n) return S.warn("loadSubForm err ", n), void e();
                              o.forEach((function (n) {
                                  f.addPrefab(n)
                              })), a.isFunction(e) && e()
                          }))
                      }))
                  }, n.loadBundleSound = function (n, o, e, t, i) {
                      void 0 === t && (t = "sound"), void 0 === i && (i = !0), i && c.sendEventImmediately(v.SHOW_TRANSITION, null), this.loadBundle(n, (function (n, u) {
                          u.loadDir(t, r, (function (n, e) {
                              var t = n / e * 100;
                              a.isFunction(o) && o(t)
                          }), (function (n, o) {
                              if (i && c.sendEventImmediately(v.HIDE_TRANSITION, null), n) return S.warn("loadSound err ", n), void e();
                              o.forEach((function (n) {
                                  s.addAudio(n)
                              })), a.isFunction(e) && e()
                          }))
                      }))
                  }, n
              }()) || I);
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/settingUtil.ts", ["cc"], (function (t) {
      "use strict";
      var e, n, r;
      return {
          setters: [function (t) {
              e = t.cclegacy, n = t._decorator, r = t.sys
          }]
          , execute: function () {
              var a, s;
              e._RF.push({}, "46b4et5x/9Gnpdxt8VQnsUD", "settingUtil", void 0);
              var o = n.ccclass;
              n.property, t("settingUtil", o("settingUtil")(((s = function () {
                      function t() {}
                      return t.getInt = function (t, e) {
                          var n = this.getValue(t, e);
                          return parseInt("" + n)
                      }, t.getFloat = function (t, e) {
                          var n = this.getValue(t, e);
                          return parseFloat("" + n)
                      }, t.getBool = function (t, e) {
                          var n;
                          return n = 1 == e ? "true" : "false", "true" == this.getString(t, n)
                      }, t.getString = function (t, e) {
                          return this.getValue(t, e)
                      }, t.getObject = function (t, e) {
                          var n = this.getValue(t, "");
                          return n && "" != n ? JSON.parse(n) : e
                      }, t.setObject = function (t, e, n) {
                          void 0 === n && (n = !1);
                          var r = "";
                          e && (r = JSON.stringify(e)), this.setValue(t, r, n)
                      }, t.setBool = function (t, e, n) {
                          void 0 === n && (n = !1), 1 == e ? this.setValue(t, "true", n) : this.setValue(t, "false", n)
                      }, t.appendInt = function (t, e, n) {
                          void 0 === n && (n = !1);
                          var r = this.getInt(t, 0)
                              , a = parseInt(e) + r;
                          return this.setValue(t, a, n), a
                      }, t.appendFloat = function (t, e, n) {
                          void 0 === n && (n = !1);
                          var r = this.getFloat(t, 0)
                              , a = parseFloat(e) + r;
                          this.setValue(t, a, n)
                      }, t.removeValueOfKey = function (t) {
                          r.localStorage.removeItem(t), this.memoryCache.hasOwnProperty(t) && delete this.memoryCache[t]
                      }, t.removeAll = function () {
                          r.localStorage.clear(), this.memoryCache = {}
                      }, t.setValue = function (t, e, n) {
                          n && (window.wx ? window.wx.setStorage({
                              key: t
                              , data: e
                              , success: function () {
                                  console.warn("setValue success ", t)
                              }
                              , fail: function () {
                                  console.warn("setValue fail", t, e)
                              }
                          }) : r.localStorage.setItem(t, e)), this.memoryCache[t] = e
                      }, t.getValue = function (t, e) {
                          if (this.memoryCache.hasOwnProperty(t)) return this.memoryCache[t];
                          var n = r.localStorage.getItem(t);
                          return null != n && "" != n || (n = e), this.memoryCache[t] = n, n
                      }, t
                  }())
                  .memoryCache = {}, a = s)) || a);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/shakeTreeForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./MSG.ts", "./dataUtil.ts", "./entityUtil.ts", "./httpUtil.ts", "./memoryConfig.ts", "./resourceUtil.ts", "./uiManager.ts", "./uiForm.ts", "./platformUtil.ts", "./CustomDefine.ts", "./GameData.ts", "./GameStoreDetail.ts", "./guidForm.ts"], (function (t) {
      "use strict";
      var e, i, n, o, r, a, s, l, u, c, h, b, d, f, m, g, p, y, k, w, D, T, F, v, S, I, B;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, s = t.Node, l = t.Sprite, u = t.Label
          }, function (t) {
              c = t.BundlesConst
          }, function (t) {
              h = t.VIDEO_STATUS, b = t.VIDEO_MSG
          }, function (t) {
              d = t.default
          }, function (t) {
              f = t.entityUtil
          }, function (t) {
              m = t.httpUtil
          }, function (t) {
              g = t.memoryConfig
          }, function (t) {
              p = t.resourceUtil
          }, function (t) {
              y = t.uiManager
          }, function (t) {
              k = t.UiForm
          }, function (t) {
              w = t.platformUtil
          }, function (t) {
              D = t.guideStep, T = t.formDefine
          }, function (t) {
              F = t.GameData
          }, function (t) {
              v = t.GameStoreDetail
          }, function (t) {
              S = t.guidForm, I = t.FingerInfo, B = t.FingerType
          }]
          , execute: function () {
              var P, z, C, N, E, G, M, R, U, V, O, L, _, A, x, H, j, K, Q, X, q, J, W, Y, Z, $, tt, et, it, nt, ot;
              r._RF.push({}, "02b92mPXdRH+KrToVdzFQBn", "shakeTreeForm", void 0);
              var rt = a.ccclass
                  , at = a.property;
              t("shakeTreeForm", (P = rt("shakeTreeForm"), z = at(s), C = at(s), N = at(s), E = at(s), G = at(s), M = at(s), R = at(s), U = at(s), V = at(s), O = at(l), L = at(l), _ = at(u), A = at(u), x = at(u), P((K = e((j = function (t) {
                      function e() {
                          for (var e, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(r)) || this, n(e, "ndPro", K, o(e)), n(e, "btnBack", Q, o(e)), n(e, "ndBottom", X, o(e)), n(e, "ndMessage", q, o(e)), n(e, "ndDouble", J, o(e)), n(e, "btnShake", W, o(e)), n(e, "btnOk", Y, o(e)), n(e, "btnDouble", Z, o(e)), n(e, "btnCancel", $, o(e)), n(e, "spPro", tt, o(e)), n(e, "spImgLogo", et, o(e)), n(e, "lbMessage", it, o(e)), n(e, "lbName", nt, o(e)), n(e, "lbNum", ot, o(e)), e.tree = null, e.targetId = 0, e.isVideo = !1, e.isFinish = !1, e
                      }
                      i(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnBack, this.onBack), this.bindTouchEnd(this.btnShake, this.onShake), this.bindTouchEnd(this.btnOk, this.backToGame), this.bindTouchEnd(this.btnDouble, this.doubleReward), this.bindTouchEnd(this.btnCancel, this.doubleCancel)
                      }, r.doubleReward = function () {
                          var t = this;
                          m.reportVideoStart("水果翻倍", "" + g.instance.level), w.currentPlatform.showVideo((function (e) {
                              switch (e) {
                              case h.END:
                                  y.showToast("奖励翻倍!"), m.reportVideoFinish("水果翻倍", "" + g.instance.level), t.isVideo = !0, t.scheduleOnce((function () {
                                      t.doubleCancel()
                                  }), 1);
                                  break;
                              case h.ERR:
                                  y.showToast(b.ERR);
                                  break;
                              case h.NOTEND:
                                  y.showToast(b.NOTEND)
                              }
                          }))
                      }, r.doubleCancel = function () {
                          this.ndDouble.active = !1, this.isFinish && this.showFinish(), F.instance.resumeGame()
                      }, r.showDouble = function () {
                          this.ndDouble.active = !0
                      }, r.init = function (t) {
                          var e = this;
                          F.instance.showShakeOrDigToGameForm(), this.isVideo = !1, this.ndDouble.active = !1, this.isFinish = !1, this.tree = t, this.ndBottom.active = !0, this.btnBack.active = !0, this.ndMessage.active = !1, this.ndPro.active = !1, this.spPro.fillRange = 1;
                          var i = v.getStoreDetailByDetailId(this.tree.detailId)
                              , n = v.getStoreDetailByDetailId(i.targetId);
                          this.targetId = i.targetId, this.lbMessage.string = i.tips, this.lbName.string = n.ProductName, p.loadBundleRes(c.images, "texture/goods/" + n.ImgLogo + "/spriteFrame", (function (t, i) {
                              t ? console.log(t) : e.spImgLogo.spriteFrame = i
                          })), d.testStep(D.shakeTree) || this.scheduleOnce((function () {
                              f.showEntity("gameform/" + T.guidForm, e.node, (function (t) {
                                  t.getComponent(S)
                                      .init(D.shakeTree, new I(B.Point, [e.btnShake.worldPosition]))
                              }), c.form)
                          }), .1)
                      }, r.onBack = function () {
                          this.tree.backShake(), this.hideThis()
                      }, r.onShake = function () {
                          F.instance.isStartGame && F.instance.guid && F.instance.guid.onClose(), F.instance.subPhysical(this.tree.physicalCost) && (this.ndBottom.active = !1, this.btnBack.active = !1, this.ndPro.active = !0, this.tree.shakeTree())
                      }, r.onFinish = function () {
                          this.isFinish = !0, this.isVideo ? this.showFinish() : this.showDouble()
                      }, r.showFinish = function () {
                          this.isVideo && F.instance.doubleCacheItem(this.targetId), this.lbNum.string = F.instance.getCacheItemNum(this.targetId)
                              .toString(), this.ndPro.active = !1, this.ndMessage.active = !0
                      }, r.backToGame = function () {
                          this.tree.backToGame(), this.hideThis()
                      }, r.hideThis = function () {
                          y.hideUIFormByNode(this.node), F.instance.showAllGameForm()
                      }, r.setPro = function (t) {
                          this.spPro.fillRange = t
                      }, e
                  }(k))
                  .prototype, "ndPro", [z], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), Q = e(j.prototype, "btnBack", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), X = e(j.prototype, "ndBottom", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), q = e(j.prototype, "ndMessage", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), J = e(j.prototype, "ndDouble", [G], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), W = e(j.prototype, "btnShake", [M], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Y = e(j.prototype, "btnOk", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Z = e(j.prototype, "btnDouble", [U], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), $ = e(j.prototype, "btnCancel", [V], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), tt = e(j.prototype, "spPro", [O], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), et = e(j.prototype, "spImgLogo", [L], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), it = e(j.prototype, "lbMessage", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), nt = e(j.prototype, "lbName", [A], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ot = e(j.prototype, "lbNum", [x], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), H = j)) || H));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/shareForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./dataUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./uiForm.ts", "./platformUtil.ts", "./moneyUtil.ts"], (function (t) {
      "use strict";
      var n, r, e, i, o, a, s, c, l, u, h, f, d, m, p;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, r = t.inheritsLoose, e = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, a = t._decorator, s = t.Node, c = t.Label
          }, function (t) {
              l = t.SHARE_CHANNEL
          }, function (t) {
              u = t.default
          }, function (t) {
              h = t.memoryConfig
          }, function (t) {
              f = t.uiManager
          }, function (t) {
              d = t.UiForm
          }, function (t) {
              m = t.platformUtil
          }, function (t) {
              p = t.moneyUtil
          }]
          , execute: function () {
              var b, y, _, g, F, w, C, S, v;
              o._RF.push({}, "8cdd9XsISxCGafDO7xDtuFb", "shareForm", void 0);
              var x = a.ccclass
                  , D = a.property;
              t("shareForm", (b = x("shareForm"), y = D(s), _ = D(s), g = D(c), b((C = n((w = function (t) {
                      function n() {
                          for (var n, r = arguments.length, o = new Array(r), a = 0; a < r; a++) o[a] = arguments[a];
                          return n = t.call.apply(t, [this].concat(o)) || this, e(n, "btnShare", C, i(n)), e(n, "btnClose", S, i(n)), e(n, "txtCoin", v, i(n)), n.share_reward_coin = 100, n
                      }
                      r(n, t);
                      var o = n.prototype;
                      return o.start = function () {
                          console.log("shareForm start"), this.bindTouchEnd(this.btnShare, this.onShare), this.bindTouchEnd(this.btnClose, this.hideForm)
                      }, o.onShare = function () {
                          var t = this;
                          console.log("shareForm onShare"), m.currentPlatform.share(l.VIDEO, (function (n) {
                              n && (f.showToast("分享成功!获得" + t.share_reward_coin + "金钱"), u.addCoin(t.share_reward_coin), p.instance.flyCoin(t.btnShare.position, (function () {
                                  t.hideForm()
                              }), 10, t.node))
                          }), (function (t) {
                              f.showToast("分享失败")
                          }))
                      }, o.init = function () {
                          console.log("shareForm init"), this.share_reward_coin = h.instance.getIntKey("share_reward_coin", 100), this.txtCoin.string = "" + this.share_reward_coin
                      }, n
                  }(d))
                  .prototype, "btnShare", [y], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), S = n(w.prototype, "btnClose", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), v = n(w.prototype, "txtCoin", [g], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), F = w)) || F));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/shareInfo.ts", ["cc"], (function (t) {
      "use strict";
      var e;
      return {
          setters: [function (t) {
              e = t.cclegacy
          }]
          , execute: function () {
              e._RF.push({}, "04957p5aHpME5NFzcjoCSon", "shareInfo", void 0);
              t("shareInfo", (function () {
                  this.img = void 0, this.title = void 0
              }));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/sheetManager.ts", ["cc", "./resourceUtil.ts"], (function (t) {
      "use strict";
      var e, n, a, r;
      return {
          setters: [function (t) {
              e = t.cclegacy, n = t.JsonAsset, a = t.assetManager
          }, function (t) {
              r = t.resourceUtil
          }]
          , execute: function () {
              e._RF.push({}, "1e8bcTzeZlMxp5hQMh0LFET", "sheetManager", void 0), t("SheetManager", function () {
                      function t() {}
                      return t.loadDB = function (t, e) {
                          var s = this; - 1 == t.indexOf("http") ? r.loadAsset(t, n, (function (t, n) {
                              t ? console.warn(t) : (s.data = n.json, e())
                          })) : a.loadRemote(t, (function (t, n) {
                              if (t) return console.warn(t), s.data = {}, void e();
                              s.data = n.json, e()
                          }))
                      }, t.get = function (t, e, n) {
                          var a = this.data[t][e];
                          if (a) {
                              for (var r, s = this.getKeys(this.data[t].keys), i = new n, o = 0; o < s.length; o++) r = this.data.dic[a[o]], i[s[o]] = "null" !== r ? r : null;
                              return n[e] = i, i
                          }
                      }, t.getKeys = function (t) {
                          for (var e = [], n = 0; n < t.length; n++) {
                              var a = t[n];
                              e.push(this.data.dic[a])
                          }
                          return e
                      }, t.getTableLength = function (t) {
                          var e = this.data[t];
                          if (e.length) return e.length;
                          var n = 0;
                          for (var a in e) n++;
                          return e.length = n - 1, n - 1
                      }, t.getList = function (t) {
                          return this.data[t]
                      }, t.getComplexLength = function (t, e) {
                          return this.data[t][e].length
                      }, t.getComplex = function (t, e, n) {
                          for (var a = this.getList(t)[e], r = this.getKeys(this.data[t].keys), s = [], i = 0; i < a.length; i++) {
                              for (var o, u = new n, h = 0; h < r.length; h++) o = this.data.dic[a[i][h]], u[r[h]] = "null" !== o ? o : null;
                              s.push(u)
                          }
                          return s
                      }, t.getAllSheets = function (t, e) {
                          var n = this.getList(t)
                              , a = [];
                          for (var r in n) "keys" != r && a.push(this.get(t, r, e));
                          return a
                      }, t
                  }())
                  .data = void 0, e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Sheets.ts", ["cc"], (function (n) {
      "use strict";
      var e;
      return {
          setters: [function (n) {
              e = n.cclegacy
          }]
          , execute: function () {
              e._RF.push({}, "83106FH4VNDDLZOKVbv7M08", "Sheets", void 0);
              n("VideoExchangeBase", (function () {})), n("LeveLCfgBase", (function () {})), n("MissionCfgBase", (function () {})), n("BoxUpgradeBase", (function () {})), n("GameStoreDetailBase", (function () {})), n("GameStoreBase", (function () {})), n("OnlineRewardCfgBase", (function () {})), n("BubbleCfgBase", (function () {})), n("SkinBase", (function () {})), n("BargainCfgBase", (function () {})), n("CheckInCfgBase", (function () {})), n("AutoTaskCfgBase", (function () {})), n("SplashCfgBase", (function () {})), n("ConfigDataBase", (function () {})), n("RandomEventBase", (function () {}));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/shopControl.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./CustomDefine.ts", "./fingerUtil.ts", "./boxControl.ts", "./gameState.ts", "./buildShopBubble.ts", "./TransformUtil.ts"], (function (e) {
      "use strict";
      var t, i, n, o, l, r, s, u, a, h, c, b, d, p, f, B, w, C, v, g, y, S, m, U, O;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, o = e.assertThisInitialized, l = e.createClass
          }, function (e) {
              r = e.cclegacy, s = e._decorator, u = e.Node, a = e.CCInteger, h = e.Vec3
          }, function (e) {
              c = e.CategoryConst, b = e.BundlesConst
          }, function (e) {
              d = e.BaseObject
          }, function (e) {
              p = e.default
          }, function (e) {
              f = e.entityUtil
          }, function (e) {
              B = e.default
          }, function (e) {
              w = e.eventDefine, C = e.pathDefine, v = e.entityDefine, g = e.guideStep
          }, function (e) {
              y = e.fingerUtil
          }, function (e) {
              S = e.boxControl
          }, function (e) {
              m = e.gameState
          }, function (e) {
              U = e.buildShopBubble
          }, function (e) {
              O = e.CoordinateTool
          }]
          , execute: function () {
              var I, T, x, E, D, L, k, P, _;
              r._RF.push({}, "8a5de43n99EiYcULp8C+/Og", "shopControl", void 0);
              var A = s.ccclass
                  , z = s.property;
              e("shopControl", (I = A("shopControl"), T = z(u), x = z({
                  type: a
                  , displayName: "解锁等级"
                  , tooltip: "等级从0开始"
              }), E = z({
                  type: a
                  , displayName: "区域ID"
              }), I((k = t((L = function (e) {
                      function t() {
                          for (var t, i = arguments.length, l = new Array(i), r = 0; r < i; r++) l[r] = arguments[r];
                          return t = e.call.apply(e, [this].concat(l)) || this, n(t, "tipPos", k, o(t)), n(t, "level", P, o(t)), n(t, "areaId", _, o(t)), t.buildBubbleOwner = null, t
                      }
                      i(t, e);
                      var r = t.prototype;
                      return r.start = function () {
                          console.log("shopControl start ", this.node.name), B.on(w.LEVEL_CHANGED, this, this.onLevelChanged), B.on(w.BUILD_COMPLETED, this, this.onBuildCompleted)
                      }, r.onEnable = function () {
                          this.checkShopTip()
                      }, r.childrenState = function (e) {
                          this.node.getComponentsInChildren(S)
                              .forEach((function (t) {
                                  t && t.setState(e)
                              }))
                      }, r.getMaxUnlockLevel = function () {
                          for (var e = 0, t = 1; t <= 7; t++) {
                              var i = "AREA" + t;
                              p.isUnlockCategoryById(c[i]) && (e = t)
                          }
                          return e
                      }, r.checkShopTip = function () {
                          var e = p.getCurrentLevel()
                              , t = "AREA" + (this.level + 1);
                          p.isUnlockCategoryById(c[t]) ? (this.childrenState(-1), this.showShopBox(!0), this.clearBuildTip()) : this.level <= e ? (this.showBuildBubble(this.level), this.childrenState(0), this.showShopBox(!1)) : this.level == e + 1 ? (this.showBuildBubble(this.level, !0), this.childrenState(1), this.showShopBox(!1)) : (this.showBuildBubble(this.level, !0), this.childrenState(2), this.showShopBox(!1))
                      }, r.showShopBox = function (e) {
                          var t = this.node.children[0];
                          t.children[0].active = !e, t.children[1].active = e;
                          this.boxContainer.children
                      }, r.showBuildBubble = function (e, t) {
                          var i = this;
                          void 0 === t && (t = !1), null == this.buildBubbleOwner && (console.log("showBuildBubble", e, this.node.name), f.showEntity(C.form_townform + v.buildShopBubble, m.instance.townUI, (function (n) {
                              if (n.name = "buildBubble---" + i.node.name, i.buildBubbleOwner = n, i.buildBubbleOwner.getComponent(U)
                                  .reset(e, t), i.followBuildBubble(), i.hasFinger()) {
                                  var o = i.buildBubbleOwner.worldPosition.clone();
                                  y.showFinger(o, new h(0, 100)), y.followUI(i.buildBubbleOwner)
                              }
                          }), b.form))
                      }, r.hasFinger = function () {
                          return p.testStep(g.selectMap) && !p.testStep(g.buildClick) && 0 == this.level
                      }, r.followBuildBubble = function () {
                          if (null != this.buildBubbleOwner && null != m.instance.townUI) {
                              var e = O.transWorldPositionToUI(this.tipPos.worldPosition, m.instance.townUI, m.instance.townCamera);
                              this.buildBubbleOwner.setPosition(e), this.buildBubbleOwner.parent = m.instance.townUI, this.buildBubbleOwner.setSiblingIndex(1)
                          }
                      }, r.clearBuildTip = function () {
                          null != this.buildBubbleOwner && (f.hideEntity(this.buildBubbleOwner), this.buildBubbleOwner = null)
                      }, r.onLevelChanged = function () {
                          this.clearBuildTip(), this.checkShopTip()
                      }, r.onBuildCompleted = function () {
                          this.clearBuildTip(), this.checkShopTip()
                      }, r.lateUpdate = function (e) {
                          this.followBuildBubble()
                      }, l(t, [{
                          key: "boxContainer"
                          , get: function () {
                              return this.node.children[0].children[1]
                          }
                      }]), t
                  }(d))
                  .prototype, "tipPos", [T], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), P = t(L.prototype, "level", [x], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), _ = t(L.prototype, "areaId", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), D = L)) || D));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/shopModel.ts", ["cc"], (function (t) {
      "use strict";
      var e;
      return {
          setters: [function (t) {
              e = t.cclegacy
          }]
          , execute: function () {
              e._RF.push({}, "b36a3noFrVGkaiPCqdOT6gH", "shopModel", void 0);
              t("shopModel", (function () {
                  this.detailId = 0, this.categoryId = 0, this.active = !1, this.isLocked = !0, this.num = 0
              }));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/shopOwner.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./entityUtil.ts", "./gameState.ts", "./Common.ts", "./TransformUtil.ts", "./BubbleCfg.ts", "./customerAnimator.ts", "./msgBubble.ts", "./CustomDefine.ts"], (function (e) {
      "use strict";
      var t, n, i, o, s, a, r, u, l, h, b, c, d, f, p, m, y, w;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, n = e.inheritsLoose, i = e.initializerDefineProperty, o = e.assertThisInitialized
          }, function (e) {
              s = e.cclegacy, a = e._decorator, r = e.Vec3, u = e.TweenSystem, l = e.Component
          }, function (e) {
              h = e.BundlesConst
          }, function (e) {
              b = e.entityUtil
          }, function (e) {
              c = e.gameState
          }, function (e) {
              d = e.default
          }, function (e) {
              f = e.CoordinateTool
          }, function (e) {
              p = e.BubbleCfg
          }, function (e) {
              m = e.customerAnimator
          }, function (e) {
              y = e.msgBubble
          }, function (e) {
              w = e.entityDefine
          }]
          , execute: function () {
              var B, v, g, O, P;
              s._RF.push({}, "47bcaVQBiZCCZfTdwOuPnqZ", "shopOwner", void 0);
              var x = a.ccclass
                  , I = a.property;
              e("shopOwner", (B = x("shopOwner"), v = I(m), B((P = t((O = function (e) {
                      function t() {
                          for (var t, n = arguments.length, s = new Array(n), a = 0; a < n; a++) s[a] = arguments[a];
                          return t = e.call.apply(e, [this].concat(s)) || this, i(t, "animator", P, o(t)), t.lineIndex = 0, t.lineList = [], t.moveSpeed = 1, t.roleAngel = 0, t.moveTween = null, t.poseGroup = {
                              9: ["ShopOwner1", "ShopOwner2"]
                              , 10: ["ShopOwner3"]
                          }, t.isPoseBubble = !1, t.bubbleGroup = {
                              7: ["ShopOwner1", "ShopOwner2"]
                              , 8: ["ShopOwner3"]
                          }, t.bubbleOffset = new r(0, 130, 0), t.bubbleNode = void 0, t.tempPos = new r, t.headOffset = new r(0, 2, 0), t
                      }
                      n(t, e);
                      var s = t.prototype;
                      return s.init = function (e) {
                          this.lineIndex = 0, this.lineList = e, this.node.worldPosition = this.lineList[this.lineIndex], this.moveToNextLine(), this.delayBubble(), this.delayPose()
                      }, s.rotateRole = function (e, t) {
                          this.roleAngel = Math.atan2(t.x - e.x, t.z - e.z) * (180 / Math.PI) % 360, this.node.setRotationFromEuler(0, this.roleAngel, 0)
                      }, s.moveToNextLine = function () {
                          var e = this;
                          if (this.lineList) {
                              this.lineIndex++, this.lineIndex > this.lineList.length - 1 && (this.lineIndex = 0);
                              var t = this.lineList[this.lineIndex]
                                  , n = r.distance(this.node.position, t) / d.randomBoth(.8, 1.2);
                              this.rotateRole(t, this.node.position), this.animator.playWalk(), this.node.qtPosition(t, n)
                                  .call((function () {
                                      e.animator.playIdle()
                                  }))
                                  .delay(d.randomBoth(1, 5))
                                  .call((function () {
                                      setTimeout((function () {
                                          e.moveToNextLine()
                                      }), 0)
                                  }))
                                  .start()
                          }
                      }, s.pauseMove = function () {
                          this.animator && this.animator.playIdle(), u.instance.ActionManager.pauseTarget(this.node)
                      }, s.resumeMove = function () {
                          this.animator && this.animator.playWalk(), u.instance.ActionManager.resumeTarget(this.node)
                      }, s.delayPose = function () {
                          var e = this;
                          this.scheduleOnce((function () {
                              e.runPose()
                          }), d.randomBoth(5, 17))
                      }, s.currentPoseGroup = function () {
                          for (var e in this.poseGroup)
                              if (this.poseGroup[e].indexOf(this.node.name) > -1) return e;
                          return "9"
                      }, s.runPose = function () {
                          var e = this;
                          this.pauseMove(), this.cancelDelayBubble();
                          var t = p.getRandom(this.currentPoseGroup());
                          this.showBubble(t), this.isPoseBubble = !0, -1 != ["ShopOwner1"].indexOf(this.node.name) ? this.animator.playBashful() : -1 != ["ShopOwner2"].indexOf(this.node.name) ? this.animator.playTalking() : -1 != ["ShopOwner3"].indexOf(this.node.name) && this.animator.playStandingArguing(), this.scheduleOnce((function () {
                              e.isPoseBubble = !1, e.resumeMove(), e.delayPose(), e.delayBubble()
                          }), d.randomBoth(4, 7))
                      }, s.currentGroup = function () {
                          for (var e in this.bubbleGroup)
                              if (this.bubbleGroup[e].indexOf(this.node.name) > -1) return e;
                          return "7"
                      }, s.randomBubble = function () {
                          var e = p.getRandom(this.currentGroup());
                          this.showBubble(e), this.delayBubble()
                      }, s.delayBubble = function () {
                          var e = this;
                          this.cancelDelayBubble(), this.scheduleOnce((function () {
                              e.randomBubble()
                          }), d.randomBoth(10, 30))
                      }, s.cancelDelayBubble = function () {
                          this.unschedule(this.delayBubble)
                      }, s.showBubble = function (e) {
                          var t = this;
                          this.isPoseBubble || this.bubbleNode || (this.bubbleNode = {}, b.showEntity(w.msgBubble, c.instance.townUI, (function (n) {
                              t.bubbleNode = n, t.bubbleNode.position = new r(1e3, 0, 0), t.bubbleNode.active = !0, t.bubbleNode.getComponent(y)
                                  .init(e)
                          }), h.form), this.scheduleOnce((function () {
                              t.removeBubble()
                          }), 5))
                      }, s.removeBubble = function () {
                          this.bubbleNode && (b.hideEntity(this.bubbleNode), this.bubbleNode = null)
                      }, s.update = function () {
                          if (c.instance.townUI && c.instance.townCamera) {
                              var e = r.add(this.tempPos, this.node.worldPosition, this.headOffset)
                                  , t = f.transWorldPositionToUI(e, c.instance.townUI, c.instance.townCamera);
                              this.bubbleNode && (this.bubbleNode.position = r.add(this.tempPos, t, this.bubbleOffset))
                          }
                      }, t
                  }(l))
                  .prototype, "animator", [v], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), g = O)) || g));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/shopOwnerManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./baseObject.ts", "./dataUtil.ts", "./entityUtil.ts", "./eventUtil.ts", "./framingLoadingUtil.ts", "./Common.ts", "./CustomDefine.ts", "./shopOwner.ts"], (function (t) {
      "use strict";
      var n, i, o, e, r, s, a, u, p, c, h, l, f, d, g, L, w, y;
      return {
          setters: [function (t) {
              n = t.applyDecoratedDescriptor, i = t.inheritsLoose, o = t.initializerDefineProperty, e = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, s = t._decorator, a = t.Node
          }, function (t) {
              u = t.CategoryConst
          }, function (t) {
              p = t.BaseObject
          }, function (t) {
              c = t.default
          }, function (t) {
              h = t.entityUtil
          }, function (t) {
              l = t.default
          }, function (t) {
              f = t.framingLoadingUtil
          }, function (t) {
              d = t.default
          }, function (t) {
              g = t.eventDefine, L = t.pathDefine, w = t.BundlesDefine
          }, function (t) {
              y = t.shopOwner
          }]
          , execute: function () {
              var v, m, O, C, D;
              r._RF.push({}, "06c6cK4N69ASLLQmcTpxsxm", "shopOwnerManager", void 0);
              var b = s.ccclass
                  , B = s.property;
              t("shopOwnerManager", (v = b("shopOwnerManager"), m = B({
                  type: [a]
              }), v((D = n((C = function (t) {
                      function n() {
                          for (var n, i = arguments.length, r = new Array(i), s = 0; s < i; s++) r[s] = arguments[s];
                          return n = t.call.apply(t, [this].concat(r)) || this, o(n, "shopGroupList", D, e(n)), n.groupList = [], n
                      }
                      i(n, t);
                      var r = n.prototype;
                      return r.start = function () {
                          l.on(g.BUILD_COMPLETED, this, this.onBuildCompleted)
                      }, r.initGroupList = function () {
                          if (0 == this.groupList.length)
                              for (var t = 0; t < this.shopGroupList.length; t++) {
                                  for (var n = new Array, i = 0; i < this.shopGroupList[t].children.length; i++) n.push(this.shopGroupList[t].children[i].position.clone());
                                  this.groupList.push(n)
                              }
                      }, r.onEnable = function () {
                          var t = this;
                          this.initGroupList(), f.framingLoad(6, (function (n) {
                              var i = u["AREA" + (n + 1)];
                              c.isUnlockCategoryById(i) && t.loadShopOwner(i - 1)
                          }))
                      }, r.onBuildCompleted = function (t) {
                          this.initGroupList(), this.loadShopOwner(t)
                      }, r.loadShopOwner = function (t) {
                          var n = this;
                          if (t < this.groupList.length - 1) {
                              var i = d.randomNumBoth(1, 3);
                              h.showEntity(L.town_showowner + "ShopOwner" + i, this.node, (function (i) {
                                  var o = i.getComponent(y)
                                      , e = n.groupList[t];
                                  o.init(e)
                              }), w.town)
                          }
                      }, r.update = function (t) {}, n
                  }(p))
                  .prototype, "shopGroupList", [m], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return []
                      }
                  }), O = C)) || O));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/shopUpgradeForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./dataUtil.ts", "./eventUtil.ts", "./httpUtil.ts", "./resourceUtil.ts", "./uiManager.ts", "./baseAdForm.ts", "./rackModel.ts", "./platformUtil.ts", "./Common.ts", "./CustomDefine.ts", "./missionUtil.ts", "./BoxUpgrade.ts", "./GameStoreDetail.ts", "./fingerUtil.ts"], (function (t) {
      "use strict";
      var e, i, o, n, r, l, a, s, u, c, b, p, d, h, m, g, f, v, U, x, w, S, F, y, A, C, L;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, o = t.initializerDefineProperty, n = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, l = t._decorator, a = t.Sprite, s = t.Node, u = t.Label
          }, function (t) {
              c = t.VIDEO_STATUS
          }, function (t) {
              b = t.default
          }, function (t) {
              p = t.default
          }, function (t) {
              d = t.httpUtil
          }, function (t) {
              h = t.resourceUtil
          }, function (t) {
              m = t.uiManager
          }, function (t) {
              g = t.baseAdForm
          }, function (t) {
              f = t.rackModel
          }, function (t) {
              v = t.platformUtil
          }, function (t) {
              U = t.default
          }, function (t) {
              x = t.eventDefine, w = t.guideStep, S = t.BundlesDefine, F = t.missionType
          }, function (t) {
              y = t.missionUtil
          }, function (t) {
              A = t.BoxUpgrade
          }, function (t) {
              C = t.GameStoreDetail
          }, function (t) {
              L = t.fingerUtil
          }]
          , execute: function () {
              var T, z, I, M, D, E, V, B, R, k, _, N, P, G, j, O, W, H, X, Y, q, J, K, Q, Z, $, tt, et, it, ot, nt, rt, lt, at, st;
              r._RF.push({}, "3fbe3x77r5GCYa1c4UF/Ika", "shopUpgradeForm", void 0);
              var ut = l.ccclass
                  , ct = l.property;
              t("shopUpgradeForm", (T = ut("shopUpgradeForm"), z = ct(a), I = ct(s), M = ct(s), D = ct(s), E = ct(u), V = ct(u), B = ct(s), R = ct(u), k = ct(u), _ = ct(s), N = ct(u), P = ct(u), G = ct(s), j = ct(u), O = ct(s), W = ct(s), T((Y = e((X = function (t) {
                      function e() {
                          for (var e, i = arguments.length, r = new Array(i), l = 0; l < i; l++) r[l] = arguments[l];
                          return e = t.call.apply(t, [this].concat(r)) || this, o(e, "boxLogo", Y, n(e)), o(e, "btnUpgrade", q, n(e)), o(e, "btnVideoUpgrade", J, n(e)), o(e, "btnClose", K, n(e)), o(e, "lblLevelForm", Q, n(e)), o(e, "lblLevelTo", Z, n(e)), o(e, "imgLevelMax", $, n(e)), o(e, "lblSizeForm", tt, n(e)), o(e, "lblSizeTo", et, n(e)), o(e, "imgSizeMax", it, n(e)), o(e, "lblAmountForm", ot, n(e)), o(e, "lblAmountTo", nt, n(e)), o(e, "imgAmountMax", rt, n(e)), o(e, "lblCoin", lt, n(e)), o(e, "imgMax", at, n(e)), o(e, "coinContainer", st, n(e)), e.boxId = -1, e
                      }
                      i(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          p.on(x.STALLS_UPDATED, this, this.onRefreshStalls), this.bindTouchEnd(this.btnClose, this.hideForm), this.bindTouchEnd(this.btnUpgrade, this.onUpgrade), this.bindTouchEnd(this.btnVideoUpgrade, this.onVideoUpgrade)
                      }, r.reset = function (t) {
                          this.boxId = t, this.showForm(this.boxId)
                      }, r.onRefreshStalls = function (t) {
                          this.boxId == t.detailId && this.reset(this.boxId)
                      }, r.showForm = function (t) {
                          var e = this;
                          if (this.boxId == t) {
                              var i = C.getStoreDetailByDetailId(this.boxId)
                                  , o = b.getRackLevel(t);
                              this.lblLevelForm.string = "" + (o + 1), this.lblLevelTo.string = "" + (o + 2), this.lblSizeForm.string = "" + (i.StoreNum + i.UpStoreNum * o), this.lblSizeTo.string = "" + (i.StoreNum + (i.UpStoreNum * o + 1)), this.lblCoin.string = "" + Math.pow(2, o) * i.UpAmount;
                              var n = A.get(o)
                                  , r = A.get(o + 1);
                              if (this.lblAmountForm.string = n.addition + "%", this.lblAmountTo.string = r.addition + "%", o < i.UpAmountMaxNum) {
                                  var l = this.getUpAmount()
                                      , a = b.getCoin() >= l;
                                  this.coinContainer.active = a, this.btnUpgrade.active = a, this.btnVideoUpgrade.active = !this.btnUpgrade.active, this.lblCoin.node.active = !0, this.showMaxTag(!1)
                              } else this.coinContainer.active = !1, this.showMaxTag(!0), this.lblCoin.node.active = !1, this.btnUpgrade.active = !1, this.btnVideoUpgrade.active = !1;
                              if (b.testStep(w.selectMap) && !b.testStep(w.upConfirm)) {
                                  var s = this.btnUpgrade.getWorldPosition();
                                  L.showFinger(s)
                              }
                              if (b.testStep(w.upConfirm) && !b.testStep(w.upClose)) {
                                  var u = this.btnClose.getWorldPosition();
                                  L.showFinger(u)
                              }
                              console.log("showForm " + t);
                              var c = "texture/putGoods/tw_sj_" + U.padLeft("" + this.boxId, 3, "0") + "/spriteFrame";
                              h.loadBundleRes(S.images, c, (function (t, i) {
                                  t ? console.log(t) : e.boxLogo.spriteFrame = i
                              }))
                          }
                      }, r.showMaxTag = function (t) {
                          this.imgMax.active = t, this.imgAmountMax.active = t, this.imgLevelMax.active = t, this.imgSizeMax.active = t, this.lblSizeTo.node.active = !t, this.lblAmountTo.node.active = !t, this.lblLevelTo.node.active = !t
                      }, r.onEnable = function () {
                          t.prototype.onEnable.call(this), this.showTopCustomAd(), this.showBottomCustomAd()
                      }, r.onDisable = function () {
                          L.removeFinger(), L.removeFollow(), this.hideTopCustomAd(), this.hideBottomCustomAd()
                      }, r.getUpAmount = function () {
                          var t = C.getStoreDetailByDetailId(this.boxId);
                          if (!t) return null;
                          var e = b.getRackLevel(this.boxId);
                          return Math.pow(2, e) * t.UpAmount
                      }, r.onVideoUpgrade = function () {
                          var t = this;
                          d.reportVideoStart("箱子升级"), v.currentPlatform.showVideo((function (e) {
                              switch (e) {
                              case c.END:
                                  d.reportVideoFinish("箱子升级"), t.boxUpgrade()
                              }
                          }))
                      }, r.onUpgrade = function () {
                          var t = this.getUpAmount();
                          if (t) {
                              var e = C.getStoreDetailByDetailId(this.boxId)
                                  , i = b.getRackLevel(this.boxId);
                              i < e.UpAmountMaxNum && (b.getCoin() >= t ? (d.trackEvent("升级箱子" + this.boxId, "" + i), b.subCoin(t), this.boxUpgrade(), b.saveCoin()) : m.showToast("钱不够了"))
                          }
                      }, r.boxUpgrade = function () {
                          if (-1 == b.getRackIndexById(this.boxId)) {
                              var t = new f(this.boxId, 0, 0, 0, 0);
                              b.updateRack(t)
                          } else b.addRackLevel(this.boxId);
                          y.missionEnd(F.STALLS_LEVEL), this.reset(this.boxId), b.stepEnd(w.upConfirm), L.removeFinger(), p.dispatchEvent(x.BOX_LEVEL_UPGRADED, {
                              boxId: this.boxId
                          }), m.showToast("升级成功")
                      }, r.hideForm = function () {
                          b.stepEnd(w.upClose), L.removeFinger(), t.prototype.hideForm.call(this)
                      }, r.update = function (t) {}, e
                  }(g))
                  .prototype, "boxLogo", [z], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), q = e(X.prototype, "btnUpgrade", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), J = e(X.prototype, "btnVideoUpgrade", [M], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), K = e(X.prototype, "btnClose", [D], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Q = e(X.prototype, "lblLevelForm", [E], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Z = e(X.prototype, "lblLevelTo", [V], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), $ = e(X.prototype, "imgLevelMax", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), tt = e(X.prototype, "lblSizeForm", [R], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), et = e(X.prototype, "lblSizeTo", [k], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), it = e(X.prototype, "imgSizeMax", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), ot = e(X.prototype, "lblAmountForm", [N], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), nt = e(X.prototype, "lblAmountTo", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), rt = e(X.prototype, "imgAmountMax", [G], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), lt = e(X.prototype, "lblCoin", [j], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), at = e(X.prototype, "imgMax", [O], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), st = e(X.prototype, "coinContainer", [W], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), H = X)) || H));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/sickle.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./audioManager.ts", "./entityUtil.ts"], (function (t) {
      "use strict";
      var n, i, e, o, s, r, c, l, u;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              i = t.cclegacy, e = t._decorator, o = t.find, s = t.Vec3, r = t.tween, c = t.Component
          }, function (t) {
              l = t.audioManager
          }, function (t) {
              u = t.entityUtil
          }]
          , execute: function () {
              var a;
              i._RF.push({}, "c78d9Ig+RtM3qwJPz6fQVpU", "sickle", void 0);
              var d = e.ccclass;
              e.property, t("sickle", d("sickle")(a = function (t) {
                  function i() {
                      return t.apply(this, arguments) || this
                  }
                  n(i, t);
                  var e = i.prototype;
                  return e.start = function () {}, e.init = function (t, n) {
                      var i = this;
                      void 0 === n && (n = null);
                      var e = o("Main Camera/sicklePos")
                          .worldPosition;
                      this.node.worldPosition = e, this.node.eulerAngles = s.ZERO, t.y += .05, r(this.node)
                          .to(.3, {
                              worldPosition: t
                          })
                          .to(.2, {
                              eulerAngles: new s(0, 120, 0)
                          })
                          .call((function () {
                              l.playAudio("sickleSound"), n && n(), u.hideEntity(i.node)
                          }))
                          .start()
                  }, i
              }(c)) || a);
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Skin.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./sheetManager.ts", "./Sheets.ts"], (function (t) {
      "use strict";
      var n, e, i, s;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy
          }, function (t) {
              i = t.SheetManager
          }, function (t) {
              s = t.SkinBase
          }]
          , execute: function () {
              e._RF.push({}, "1df18sGVNZJnIFZU2TY2KqE", "Skin", void 0);
              t("Skin", function (t) {
                  function e() {
                      return t.apply(this, arguments) || this
                  }
                  return n(e, t), e.get = function (t) {
                      return this[t] ? this[t] : i.get("Skin", t, e)
                  }, e
              }(s));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/SpineComponent.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (n) {
      "use strict";
      var t, e, i, o;
      return {
          setters: [function (n) {
              t = n.inheritsLoose
          }, function (n) {
              e = n.cclegacy, i = n._decorator, o = n.Component
          }]
          , execute: function () {
              var s;
              e._RF.push({}, "8c794PSDC1ML6kGoheB6ccL", "SpineComponent", void 0);
              var r = i.ccclass;
              i.property, n("SpineComponent", r("SpineComponent")(s = function (n) {
                  function e() {
                      for (var t, e = arguments.length, i = new Array(e), o = 0; o < e; o++) i[o] = arguments[o];
                      return (t = n.call.apply(n, [this].concat(i)) || this)
                          .spine = void 0, t
                  }
                  t(e, n);
                  var i = e.prototype;
                  return i.onLoad = function () {
                      this.spine = this.getComponent("sp.Skeleton")
                  }, i.play = function (n, t) {
                      var e, i;
                      void 0 === t && (t = !1), null == (e = this.spine) || e.setToSetupPose(), null == (i = this.spine) || i.setAnimation(0, n, t), this.spine.timeScale = 1
                  }, i.stop = function () {
                      var n;
                      null == (n = this.spine) || n.clearTrack(0)
                  }, i.addStartListener = function (n) {
                      var t;
                      null == (t = this.spine) || t.setStartListener(n)
                  }, i.addEndListener = function (n) {
                      var t;
                      null == (t = this.spine) || t.setEndListener(n)
                  }, i.backPlay = function (n, t) {
                      void 0 === t && (t = !1);
                      var e = this.spine.setAnimation(0, n, t);
                      e.trackTime = e.animationEnd, this.spine.timeScale = -1
                  }, e
              }(o)) || s);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/SplashCfg.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Sheets.ts", "./sheetManager.ts"], (function (t) {
      "use strict";
      var e, n, s, u;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              s = t.SplashCfgBase
          }, function (t) {
              u = t.SheetManager
          }]
          , execute: function () {
              n._RF.push({}, "4d9e4fS6aREVJA2ZLpT0v1S", "SplashCfg", void 0);
              t("SplashCfg", function (t) {
                  function n() {
                      return t.apply(this, arguments) || this
                  }
                  return e(n, t), n.get = function (t) {
                      return this[t] ? this[t] : u.get("SplashCfg", t, n)
                  }, n.getAll = function () {
                      return u.getAllSheets("SplashCfg", n)
                  }, n
              }(s));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/StaticBatch.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (t) {
      "use strict";
      var c, i, e, n, o;
      return {
          setters: [function (t) {
              c = t.inheritsLoose
          }, function (t) {
              i = t.cclegacy, e = t._decorator, n = t.BatchingUtility, o = t.Component
          }]
          , execute: function () {
              var r;
              i._RF.push({}, "e8ff5xihXBBH4V8cEurg9AA", "StaticBatch", void 0);
              var a = e.ccclass;
              e.property, t("StaticBatch", a("StaticBatch")(r = function (t) {
                  function i() {
                      return t.apply(this, arguments) || this
                  }
                  c(i, t);
                  var e = i.prototype;
                  return e.start = function () {
                      n.batchStaticModel(this.node, this.node)
                  }, e.update = function (t) {}, i
              }(o)) || r);
              i._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/stepModel.ts", ["cc"], (function (t) {
      "use strict";
      var s;
      return {
          setters: [function (t) {
              s = t.cclegacy
          }]
          , execute: function () {
              s._RF.push({}, "d40f7Dfi5NA6LH+G5ysxVIn", "stepModel", void 0);
              t("stepModel", (function (t, s, e) {
                  this.step = 0, this.state = 0, this.count = 0, this.step = t, this.state = s, this.count = e
              }));
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/stoneEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseGameEntity.ts"], (function (t) {
      "use strict";
      var e, n, i, r, o, s, c, a, u;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, r = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, s = t._decorator, c = t.CCInteger
          }, function (t) {
              a = t.GameEntityType, u = t.baseGameEntity
          }]
          , execute: function () {
              var p, y, l, h, f;
              o._RF.push({}, "32f9d8zWQBEVah5JhBUj8dV", "stoneEntity", void 0);
              var d = s.ccclass
                  , v = s.property;
              t("stoneEntity", (p = d("stoneEntity"), y = v(c), p((f = e((h = function (t) {
                      function e() {
                          for (var e, n = arguments.length, o = new Array(n), s = 0; s < n; s++) o[s] = arguments[s];
                          return e = t.call.apply(t, [this].concat(o)) || this, i(e, "eventId", f, r(e)), e.entityType = a.Stone, e.physicalCost = 100, e
                      }
                      return n(e, t), e.prototype.triggerTouch = function () {
                          var e = this;
                          t.prototype.triggerTouch.call(this), this.showEntity((function () {
                              e.dropEntity((function () {
                                  e.eventId > 0 && e.showEvent(e.eventId)
                              }))
                          }))
                      }, e
                  }(u))
                  .prototype, "eventId", [y], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return 0
                      }
                  }), l = h)) || l));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/stoneModel.ts", ["cc"], (function (t) {
      "use strict";
      var e, s, r;
      return {
          setters: [function (t) {
              e = t.cclegacy, s = t._decorator, r = t.Vec3
          }]
          , execute: function () {
              e._RF.push({}, "fb68c7CV4NEq7PWArJaohe5", "stoneModel", void 0);
              s.ccclass, s.property, t("stoneModel", (function () {
                  this.euler = r.ZERO, this.part1 = !0, this.part2 = !0, this.part3 = !0, this.part4 = !0, this.part5 = !0, this.part6 = !0
              }));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/stopPropagation.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (o) {
      "use strict";
      var t, n, e, r, p;
      return {
          setters: [function (o) {
              t = o.inheritsLoose
          }, function (o) {
              n = o.cclegacy, e = o._decorator, r = o.Node, p = o.Component
          }]
          , execute: function () {
              var a;
              n._RF.push({}, "f51d0q3tmhIGZW8EZqIa7qe", "stopPropagation", void 0);
              var i = e.ccclass;
              e.property, o("StopPropagation", i("StopPropagation")(a = function (o) {
                  function n() {
                      return o.apply(this, arguments) || this
                  }
                  t(n, o);
                  var e = n.prototype;
                  return e.start = function () {
                      this.node.on(r.EventType.TOUCH_START, this.onMaskMouseDown, this)
                  }, e.onMaskMouseDown = function (o) {
                      o.propagationStopped = !0, o.propagationImmediateStopped = !0
                  }, n
              }(p)) || a);
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/storeEmptyForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./uiManager.ts", "./baseAdForm.ts", "./CustomDefine.ts", "./GameStoreDetail.ts", "./autoForm.ts", "./mapForm.ts"], (function (t) {
      "use strict";
      var o, e, n, i, r, u, l, s, a, c, m, f, h, b, p, d, g, y;
      return {
          setters: [function (t) {
              o = t.applyDecoratedDescriptor, e = t.inheritsLoose, n = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, u = t._decorator, l = t.Node, s = t.Label
          }, function (t) {
              a = t.BundlesConst
          }, function (t) {
              c = t.default
          }, function (t) {
              m = t.uiManager
          }, function (t) {
              f = t.baseAdForm
          }, function (t) {
              h = t.pathDefine, b = t.formDefine, p = t.BundlesDefine
          }, function (t) {
              d = t.GameStoreDetail
          }, function (t) {
              g = t.autoForm
          }, function (t) {
              y = t.mapForm
          }]
          , execute: function () {
              var F, A, v, k, C, w, z, D, E, I, T, W, B;
              r._RF.push({}, "ffbc189JfhPzbGWWYmTgw4m", "storeEmptyForm", void 0);
              var L = u.ccclass
                  , S = u.property;
              t("storeEmptyForm", (F = L("storeEmptyForm"), A = S(l), v = S(l), k = S(l), C = S(s), w = S(s), F((E = o((D = function (t) {
                      function o() {
                          for (var o, e = arguments.length, r = new Array(e), u = 0; u < e; u++) r[u] = arguments[u];
                          return o = t.call.apply(t, [this].concat(r)) || this, n(o, "btnWork", E, i(o)), n(o, "btnAuto", I, i(o)), n(o, "btnClose", T, i(o)), n(o, "lblLevel", W, i(o)), n(o, "lblSize", B, i(o)), o.rackId = -1, o
                      }
                      e(o, t);
                      var r = o.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnWork, this.onWork), this.bindTouchEnd(this.btnAuto, this.onAuto), this.bindTouchEnd(this.btnClose, this.hideForm), this.btnAuto.active = c.getAutoMap()
                              .length > 0
                      }, r.reset = function (t) {
                          this.rackId = t;
                          var o = c.getRackById(this.rackId)
                              , e = 1;
                          null != o && (e = o.level + 1), this.lblLevel.string = "" + e, this.lblSize.string = "" + d.getRackNum(this.rackId, e), this.btnAuto.active = c.getAutoMap()
                              .length > 0
                      }, r.onWork = function (t) {
                          m.pushUIForm(h.form_townform + b.mapForm, (function (t) {
                              t.getComponent(y)
                                  .reset()
                          }), p.form), this.hideForm()
                      }, r.onAuto = function (t) {
                          m.pushUIForm(h.form_townform + b.autoForm, (function (t) {
                              t.getComponent(g)
                                  .reset()
                          }), a.form), this.hideForm()
                      }, r.onEnable = function () {
                          t.prototype.onEnable.call(this), this.showTopCustomAd(), this.showBottomCustomAd()
                      }, r.onDisable = function () {
                          this.hideTopCustomAd(), this.hideBottomCustomAd()
                      }, r.update = function (t) {}, o
                  }(f))
                  .prototype, "btnWork", [A], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), I = o(D.prototype, "btnAuto", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), T = o(D.prototype, "btnClose", [k], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), W = o(D.prototype, "lblLevel", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), B = o(D.prototype, "lblSize", [w], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), z = D)) || z));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/storehouseForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./entityUtil.ts", "./uiForm.ts", "./CustomDefine.ts", "./GameStoreDetail.ts", "./framingLoadingUtil.ts", "./uiManager.ts", "./memoryConfig.ts", "./List.ts", "./putonshelvesForm.ts", "./httpUtil.ts", "./platformUtil.ts", "./MSG.ts", "./moneyUtil.ts"], (function (t) {
      "use strict";
      var e, n, i, o, r, l, a, u, s, c, f, h, d, m, p, b, y, g, v, D, C, F;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, i = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, l = t._decorator, a = t.Node
          }, function (t) {
              u = t.CategoryConst
          }, function (t) {
              s = t.default
          }, function (t) {
              c = t.entityUtil
          }, function (t) {
              f = t.UiForm
          }, function (t) {
              h = t.entityDefine
          }, function (t) {
              d = t.GameStoreDetail
          }, function (t) {
              m = t.framingLoadingUtil
          }, function (t) {
              p = t.uiManager
          }, function (t) {
              b = t.memoryConfig
          }, function (t) {
              y = t.default
          }, function (t) {
              g = t.putonshelvesForm
          }, function (t) {
              v = t.httpUtil
          }, function (t) {
              D = t.platformUtil
          }, function (t) {
              C = t.VIDEO_STATUS
          }, function (t) {
              F = t.moneyUtil
          }]
          , execute: function () {
              var A, w, L, P, S, U, I, V, _, E, H, N, z, B, T, M;
              r._RF.push({}, "053beCeQwxBwYXqhQMSFRN6", "storehouseForm", void 0);
              var O = l.ccclass
                  , k = l.property
                  , x = l.executeInEditMode;
              t("storehouseForm", (A = O("storehouseForm"), w = x(!0), L = k(a), P = k(a), S = k(a), U = k(a), I = k(y), V = k(a), A(_ = w((H = e((E = function (t) {
                      function e() {
                          for (var e, n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                          return e = t.call.apply(t, [this].concat(r)) || this, i(e, "btnPutAll", H, o(e)), i(e, "btnVideoPutAll", N, o(e)), i(e, "btnBack", z, o(e)), i(e, "btnHalf", B, o(e)), i(e, "storehouseList", T, o(e)), i(e, "emptyNode", M, o(e)), e
                      }
                      n(e, t);
                      var r = e.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnBack, this.hideForm), this.bindTouchEnd(this.btnPutAll, this.onPutAll), this.bindTouchEnd(this.btnVideoPutAll, this.onVideoPutAll), this.bindTouchEnd(this.btnHalf, this.onHalfClear)
                      }, r.onEnable = function () {
                          this.initView()
                      }, r.onHalfClear = function () {
                          var t = this;
                          v.reportVideoStart("半价清仓"), D.currentPlatform.showVideo((function (e) {
                              switch (e) {
                              case C.END:
                                  v.reportVideoFinish("半价清仓"), t.halfClear()
                              }
                          }))
                      }, r.halfClear = function () {
                          var t = this
                              , e = s.getLocalShopDetailByCategoryId(u.FOODS)
                              .filter((function (t) {
                                  return t.num > 0
                              }))
                              , n = e.length
                              , i = 0;
                          m.framingLoad(n, (function (o) {
                              var r = e[o]
                                  , l = d.getStoreDetailByDetailId(r.detailId)
                                  , a = Math.round(l.Amount * r.num * .5);
                              s.addLocalDetailNum(l.CategoryId, l.DetailId, l.ChipNum, !0, -r.num, !1), s.addCoin(a), i += a, o == n - 1 && (s.saveLocalStore(), s.saveCoin(), t.initView(), F.instance.flyNum(i, t.btnHalf.position, (function () {})), p.showToast("清仓成功，钱币增加" + i))
                          }))
                      }, r.onVideoPutAll = function () {
                          var t = this;
                          g.videoPutAll((function () {
                              t.hideForm()
                          }))
                      }, r.onPutAll = function () {
                          var t = this;
                          g.putAll((function () {
                              t.hideForm()
                          }), !0)
                      }, r.initView = function () {
                          var t = s.getLocalShopDetailByCategoryId(u.FOODS)
                              .filter((function (t) {
                                  return t.num > 0
                              }));
                          this.storehouseList.setData(t), this.emptyNode.active = 0 == t.length;
                          var e = 1 == b.instance.getIntKey("open_half_clear_level", 1)
                              , n = s.getCurrentLevel() + 1 >= b.instance.getIntKey("half_clear_level", 1);
                          t.length > 0 && e && n ? this.btnHalf.active = !0 : this.btnHalf.active = !1
                      }, r.onDisable = function () {
                          c.hideAllEntity(h.storeItem)
                      }, e
                  }(f))
                  .prototype, "btnPutAll", [L], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), N = e(E.prototype, "btnVideoPutAll", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), z = e(E.prototype, "btnBack", [S], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), B = e(E.prototype, "btnHalf", [U], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), T = e(E.prototype, "storehouseList", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: null
              }), M = e(E.prototype, "emptyNode", [V], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = E)) || _) || _));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/storeItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./ItemRender.ts", "./resourceUtil.ts", "./GameStoreDetail.ts"], (function (t) {
      "use strict";
      var e, r, i, n, o, a, l, u, s, c, m, p;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, r = t.inheritsLoose, i = t.initializerDefineProperty, n = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, a = t._decorator, l = t.Sprite, u = t.Label
          }, function (t) {
              s = t.BundlesConst
          }, function (t) {
              c = t.default
          }, function (t) {
              m = t.resourceUtil
          }, function (t) {
              p = t.GameStoreDetail
          }]
          , execute: function () {
              var f, g, d, b, h, y, v, x, D, I, N, z, w;
              o._RF.push({}, "61427vXHU9Pv6SAWaQUM0EB", "storeItem", void 0);
              var S = a.ccclass
                  , B = a.property;
              t("storeItem", (f = S("storeItem"), g = B(l), d = B(u), b = B(u), h = B(l), y = B(u), f((D = e((x = function (t) {
                      function e() {
                          for (var e, r = arguments.length, o = new Array(r), a = 0; a < r; a++) o[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(o)) || this, i(e, "logo", D, n(e)), i(e, "txtNum", I, n(e)), i(e, "txtDollor", N, n(e)), i(e, "imgName", z, n(e)), i(e, "txtName", w, n(e)), e
                      }
                      r(e, t);
                      var o = e.prototype;
                      return o.start = function () {}, o.dataChanged = function () {
                          var t = this.data;
                          this.reset(t)
                      }, o.reset = function (t) {
                          var e = this
                              , r = p.getStoreDetailByDetailId(t.detailId);
                          m.loadBundleRes(s.images, "texture/goods/" + r.ImgLogo + "/spriteFrame", (function (t, r) {
                              t || (e.logo.spriteFrame = r)
                          })), this.txtName.string = r.ProductName, this.txtNum.string = t.num + "", this.txtDollor.string = "" + r.Amount
                      }, o.update = function (t) {}, e
                  }(c))
                  .prototype, "logo", [g], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), I = e(x.prototype, "txtNum", [d], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), N = e(x.prototype, "txtDollor", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), z = e(x.prototype, "imgName", [h], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), w = e(x.prototype, "txtName", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), v = x)) || v));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/systemForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./audioManager.ts", "./dataUtil.ts", "./uiManager.ts", "./uiForm.ts", "./CustomDefine.ts", "./privacyForm.ts"], (function (i) {
      "use strict";
      var t, n, e, o, r, u, c, s, a, l, d, m, b, h, f, g;
      return {
          setters: [function (i) {
              t = i.applyDecoratedDescriptor, n = i.inheritsLoose, e = i.initializerDefineProperty, o = i.assertThisInitialized
          }, function (i) {
              r = i.cclegacy, u = i._decorator, c = i.Sprite, s = i.Node
          }, function (i) {
              a = i.FormConst
          }, function (i) {
              l = i.audioManager
          }, function (i) {
              d = i.default
          }, function (i) {
              m = i.uiManager
          }, function (i) {
              b = i.UiForm
          }, function (i) {
              h = i.pathDefine, f = i.BundlesDefine
          }, function (i) {
              g = i.privacyForm
          }]
          , execute: function () {
              var p, v, M, y, S, C, A, F, V, k, w, z, E, T, U, P, D, _, I, B, L;
              r._RF.push({}, "cbcdayUIrlPcLcB/WspOo3x", "systemForm", void 0);
              var x = u.ccclass
                  , R = u.property;
              i("systemForm", (p = x("systemForm"), v = R(c), M = R(c), y = R(c), S = R(c), C = R(c), A = R(c), F = R(s), V = R(s), k = R(s), p((E = t((z = function (i) {
                      function t() {
                          for (var t, n = arguments.length, r = new Array(n), u = 0; u < n; u++) r[u] = arguments[u];
                          return t = i.call.apply(i, [this].concat(r)) || this, e(t, "imgSound", E, o(t)), e(t, "imgSoundActive", T, o(t)), e(t, "imgMusic", U, o(t)), e(t, "imgMusicActive", P, o(t)), e(t, "imgVibrate", D, o(t)), e(t, "imgVibrateActive", _, o(t)), e(t, "btnClose", I, o(t)), e(t, "btnPrivacy", B, o(t)), e(t, "btnUser", L, o(t)), t
                      }
                      n(t, i);
                      var r = t.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.imgSound.node, this.onSoundClick), this.bindTouchEnd(this.imgSoundActive.node, this.onSoundClick), this.bindTouchEnd(this.imgMusic.node, this.onMusicClick), this.bindTouchEnd(this.imgMusicActive.node, this.onMusicClick), this.bindTouchEnd(this.imgVibrate.node, this.onVibrateClick), this.bindTouchEnd(this.imgVibrateActive.node, this.onVibrateClick), this.bindTouchEnd(this.btnClose, this.hideForm), this.bindTouchEnd(this.btnPrivacy, this.onPrivacyClick), this.bindTouchEnd(this.btnUser, this.onUserClick)
                      }, r.onEnable = function () {
                          this.imgSound.node.active = l.instance.isMuteSound, this.imgSoundActive.node.active = !l.instance.isMuteSound, this.imgMusic.node.active = l.instance.isMuteSound, this.imgMusicActive.node.active = !l.instance.isMuteSound, this.imgMusic.node.active = !d.isVibrate, this.imgMusicActive.node.active = d.isVibrate
                      }, r.onSoundClick = function () {
                          l.instance.isMuteSound = !l.instance.isMuteSound, this.imgSound.node.active = l.instance.isMuteSound, this.imgSoundActive.node.active = !l.instance.isMuteSound
                      }, r.onMusicClick = function () {
                          l.instance.isMuteMusic = !l.instance.isMuteMusic, this.imgMusic.node.active = l.instance.isMuteSound, this.imgMusicActive.node.active = !l.instance.isMuteSound
                      }, r.onVibrateClick = function () {
                          d.isVibrate = !d.isVibrate, this.imgMusic.node.active = !d.isVibrate, this.imgMusicActive.node.active = d.isVibrate
                      }, r.onPrivacyClick = function () {
                          m.pushUIForm(h.form_townform + a.privacyForm, (function (i) {
                              i.getComponent(g)
                                  .reset(0)
                          }), f.form)
                      }, r.onUserClick = function () {
                          m.pushUIForm(a.privacyForm, (function (i) {
                              i.getComponent(g)
                                  .reset(1)
                          }), f.form)
                      }, r.update = function (i) {}, t
                  }(b))
                  .prototype, "imgSound", [v], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), T = t(z.prototype, "imgSoundActive", [M], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), U = t(z.prototype, "imgMusic", [y], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), P = t(z.prototype, "imgMusicActive", [S], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), D = t(z.prototype, "imgVibrate", [C], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = t(z.prototype, "imgVibrateActive", [A], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), I = t(z.prototype, "btnClose", [F], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), B = t(z.prototype, "btnPrivacy", [V], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), L = t(z.prototype, "btnUser", [k], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), w = z)) || w));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/takeDownForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./dataUtil.ts", "./eventUtil.ts", "./baseAdForm.ts", "./CustomDefine.ts", "./GameStoreDetail.ts"], (function (t) {
      "use strict";
      var o, e, n, i, r, a, s, u, l, c, d, f;
      return {
          setters: [function (t) {
              o = t.applyDecoratedDescriptor, e = t.inheritsLoose, n = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, s = t.Node
          }, function (t) {
              u = t.default
          }, function (t) {
              l = t.default
          }, function (t) {
              c = t.baseAdForm
          }, function (t) {
              d = t.eventDefine
          }, function (t) {
              f = t.GameStoreDetail
          }]
          , execute: function () {
              var h, m, b, p, D, C, y;
              r._RF.push({}, "c9bf4SKUx9C/os9uW707WY6", "takeDownForm", void 0);
              var F = a.ccclass
                  , v = a.property;
              t("takeDownForm", (h = F("takeDownForm"), m = v(s), b = v(s), h((C = o((D = function (t) {
                      function o() {
                          for (var o, e = arguments.length, r = new Array(e), a = 0; a < e; a++) r[a] = arguments[a];
                          return o = t.call.apply(t, [this].concat(r)) || this, n(o, "btnClose", C, i(o)), n(o, "btnConfirm", y, i(o)), o.boxId = -1, o
                      }
                      e(o, t);
                      var r = o.prototype;
                      return r.start = function () {
                          this.bindTouchEnd(this.btnClose, this.hideForm), this.bindTouchEnd(this.btnConfirm, this.onConfirm)
                      }, r.reset = function (t) {
                          this.boxId = t, console.log("takeDownForm---boxId ", t)
                      }, r.onConfirm = function () {
                          var t = u.getRackById(this.boxId)
                              , o = f.getStoreDetailByDetailId(t.detailId);
                          u.addLocalDetailNum(o.CategoryId, t.detailId, o.ChipNum, !0, t.num), l.dispatchEvent(d.REMOVED_FORM_THE_SHELVES, this.boxId), this.hideForm()
                      }, r.onEnable = function () {
                          t.prototype.onEnable.call(this), this.showTopCustomAd(), this.showBottomCustomAd()
                      }, r.onDisable = function () {
                          this.hideTopCustomAd(), this.hideBottomCustomAd()
                      }, r.update = function (t) {}, o
                  }(c))
                  .prototype, "btnClose", [m], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), y = o(D.prototype, "btnConfirm", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), p = D)) || p));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/takeIcon.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./entityUtil.ts", "./resourceUtil.ts"], (function (t) {
      "use strict";
      var n, e, o, i, s, r, c, u, a;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy, o = t._decorator, i = t.Sprite, s = t.Vec3, r = t.Component
          }, function (t) {
              c = t.BundlesConst
          }, function (t) {
              u = t.entityUtil
          }, function (t) {
              a = t.resourceUtil
          }]
          , execute: function () {
              var l;
              e._RF.push({}, "df747EnghlIXY7Ir9nZEoqS", "takeIcon", void 0);
              var p = o.ccclass;
              o.property, t("takeIcon", p("takeIcon")(l = function (t) {
                  function e() {
                      return t.apply(this, arguments) || this
                  }
                  return n(e, t), e.prototype.init = function (t) {
                      var n = this;
                      a.loadBundleRes(c.images, "texture/goods/" + t + "/spriteFrame", (function (t, e) {
                              t ? console.log(t) : n.node.getComponent(i)
                                  .spriteFrame = e
                          })), this.node.position = new s(0, -200, 0), this.node.qtPositionY(0, .6)
                          .call((function () {
                              n.node.parent.qtPunchScale(new s(.2, .2, .2), .2, {
                                      vibrato: 1
                                      , elasticity: 0
                                  })
                                  .start(), u.hideEntity(n.node)
                          }))
                          .start()
                  }, e
              }(r)) || l);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/takeTipsForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./dataUtil.ts", "./entityUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./uiForm.ts", "./TransformUtil.ts", "./CustomDefine.ts", "./GameData.ts", "./GameStoreDetail.ts", "./guidForm.ts"], (function (t) {
      "use strict";
      var i, n, e, a, o, r, l, u, c, s, d, m, f, p, g, y, h, b, v, F, T, C;
      return {
          setters: [function (t) {
              i = t.applyDecoratedDescriptor, n = t.inheritsLoose, e = t.initializerDefineProperty, a = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, r = t._decorator, l = t.Label, u = t.Node
          }, function (t) {
              c = t.BundlesConst
          }, function (t) {
              s = t.default
          }, function (t) {
              d = t.entityUtil
          }, function (t) {
              m = t.memoryConfig
          }, function (t) {
              f = t.uiManager
          }, function (t) {
              p = t.UiForm
          }, function (t) {
              g = t.CoordinateTool
          }, function (t) {
              y = t.guideStep, h = t.formDefine
          }, function (t) {
              b = t.GameData
          }, function (t) {
              v = t.GameStoreDetail
          }, function (t) {
              F = t.guidForm, T = t.FingerInfo, C = t.FingerType
          }]
          , execute: function () {
              var D, N, w, k, U, P, Q, z, I, S, B, G, _;
              o._RF.push({}, "d3e7cntWCNNCJR18Msi3P+0", "takeTipsForm", void 0);
              var E = r.ccclass
                  , L = r.property;
              t("takeTipsForm", (D = E("takeTipsForm"), N = L(l), w = L(l), k = L(u), U = L(u), P = L(u), D((I = i((z = function (t) {
                      function i() {
                          for (var i, n = arguments.length, o = new Array(n), r = 0; r < n; r++) o[r] = arguments[r];
                          return i = t.call.apply(t, [this].concat(o)) || this, e(i, "lbTips", I, a(i)), e(i, "lbProductName", S, a(i)), e(i, "ndNew", B, a(i)), e(i, "ndQuality1", G, a(i)), e(i, "ndQuality2", _, a(i)), i.callback = null, i
                      }
                      n(i, t);
                      var o = i.prototype;
                      return o.start = function () {
                          this.node.on(u.EventType.TOUCH_END, this.onTouchEnd, this)
                      }, o.init = function (t, i) {
                          var n, e, a = v.getStoreDetailByDetailId(t);
                          this.lbTips.string = null != (n = null == a ? void 0 : a.takeTips) ? n : "", this.lbProductName.string = null != (e = null == a ? void 0 : a.ProductName) ? e : "", this.ndNew.active = !s.isUnlockByDetailId(t), this.ndQuality1.active = 1 == (null == a ? void 0 : a.quality), this.ndQuality2.active = 2 == (null == a ? void 0 : a.quality), this.callback = i, (this.ndNew.active || this.ndQuality1.active || this.ndQuality2.active) && b.instance.direction.gameCameraLogic.showFlashing()
                      }, o.onTouchEnd = function (t) {
                          if (t.propagationStopped = !0, b.instance.direction.gameCameraLogic.hideFlashing(), f.hideUIFormByNode(this.node), this.callback && this.callback(), 1001 == m.instance.level && !s.testStep(y.cutGrass)) {
                              var i = b.instance.findItemByAreaAndName("00", "mg_xianggu");
                              i && d.showEntity("gameform/" + h.guidForm, b.instance.gameForm.node, (function (t) {
                                  var n = g.trans3DToUI(i, "Main Camera", "Canvas/Camera");
                                  n.y += 50, t.getComponent(F)
                                      .init(y.cutGrass, new T(C.Point, [n]))
                              }), c.form)
                          }
                      }, i
                  }(p))
                  .prototype, "lbTips", [N], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), S = i(z.prototype, "lbProductName", [w], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), B = i(z.prototype, "ndNew", [k], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), G = i(z.prototype, "ndQuality1", [U], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), _ = i(z.prototype, "ndQuality2", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), Q = z)) || Q));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/talkItem.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (t) {
      "use strict";
      var e, n, r, i, o, a, l, c, u, p;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, r = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              o = t.cclegacy, a = t._decorator, l = t.Node, c = t.Label, u = t.Color, p = t.Component
          }]
          , execute: function () {
              var s, f, b, h, g, C, y, m, v, d, k;
              o._RF.push({}, "cfd01cWa9ZFKoYpwUXAS2X2", "talkItem", void 0);
              var w = a.ccclass
                  , z = a.property;
              t("talkItem", (s = w("talkItem"), f = z(l), b = z(l), h = z({
                  type: [c]
              }), g = z(u), s((m = e((y = function (t) {
                      function e() {
                          for (var e, n = arguments.length, o = new Array(n), a = 0; a < n; a++) o[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(o)) || this, r(e, "leftContainer", m, i(e)), r(e, "rightContainer", v, i(e)), r(e, "talkContent", d, i(e)), r(e, "txtColor", k, i(e)), e
                      }
                      n(e, t);
                      var o = e.prototype;
                      return o.start = function () {}, o.init = function (t, e) {
                          this.leftContainer.active = t, this.rightContainer.active = !t;
                          this.txtColor.toHEX("#rrggbb");
                          this.talkContent.forEach((function (t) {
                              t.string = e
                          }))
                      }, o.update = function (t) {}, e
                  }(p))
                  .prototype, "leftContainer", [f], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), v = e(y.prototype, "rightContainer", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), d = e(y.prototype, "talkContent", [h], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), k = e(y.prototype, "txtColor", [g], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return new u(0, 0, 0, 0)
                  }
              }), C = y)) || C));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/taskGoodsModel.ts", ["cc"], (function (t) {
      "use strict";
      var o;
      return {
          setters: [function (t) {
              o = t.cclegacy
          }]
          , execute: function () {
              o._RF.push({}, "545c9xJo1BLxb91RilmNNAZ", "taskGoodsModel", void 0);
              t("taskGoodsModel", (function () {
                  this.goods = [], this.lastTime = void 0
              }));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/taskTarget.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./GameStoreDetail.ts"], (function (t) {
      "use strict";
      var e, r, n, i, a, l, o, u, c;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, r = t.inheritsLoose, n = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, l = t._decorator, o = t.Label, u = t.Component
          }, function (t) {
              c = t.GameStoreDetail
          }]
          , execute: function () {
              var s, p, b, f, g, m, y;
              a._RF.push({}, "1a133lkbrFNk4MhjRUNz0e2", "taskTarget", void 0);
              var h = l.ccclass
                  , _ = l.property;
              t("taskTarget", (s = h("taskTarget"), p = _(o), b = _(o), s((m = e((g = function (t) {
                      function e() {
                          for (var e, r = arguments.length, a = new Array(r), l = 0; l < r; l++) a[l] = arguments[l];
                          return e = t.call.apply(t, [this].concat(a)) || this, n(e, "lb_name", m, i(e)), n(e, "lb_num", y, i(e)), e
                      }
                      return r(e, t), e.prototype.init = function (t, e) {
                          var r = c.getStoreDetailByDetailId(t);
                          this.lb_name.string = r.ProductName, this.lb_num.string = "x" + e
                      }, e
                  }(u))
                  .prototype, "lb_name", [p], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), y = e(g.prototype, "lb_num", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), f = g)) || f));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/testScene.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./List.ts"], (function (t) {
      "use strict";
      var e, n, r, i, a, s, o, c;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, n = t.inheritsLoose, r = t.initializerDefineProperty, i = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, s = t._decorator, o = t.Component
          }, function (t) {
              c = t.default
          }]
          , execute: function () {
              var u, l, p, f, y;
              a._RF.push({}, "70336jyi51AhLsIXyGmR9P1", "testScene", void 0);
              var h = s.ccclass
                  , v = s.property;
              t("testScene", (u = h("testScene"), l = v(c), u((y = e((f = function (t) {
                      function e() {
                          for (var e, n = arguments.length, a = new Array(n), s = 0; s < n; s++) a[s] = arguments[s];
                          return e = t.call.apply(t, [this].concat(a)) || this, r(e, "rankList", y, i(e)), e
                      }
                      n(e, t);
                      var a = e.prototype;
                      return a.onEnable = function () {
                          for (var t = [], e = 0; e < 100; e++) t.push({
                              rank: e
                              , name: "名称"
                          });
                          this.rankList.setData(t)
                      }, a.update = function (t) {}, e
                  }(o))
                  .prototype, "rankList", [l], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: null
                  }), p = f)) || p));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/toastForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./uiForm.ts"], (function (e) {
      "use strict";
      var t, i, n, s, o, r, c, a, u, h, l;
      return {
          setters: [function (e) {
              t = e.applyDecoratedDescriptor, i = e.inheritsLoose, n = e.initializerDefineProperty, s = e.assertThisInitialized
          }, function (e) {
              o = e.cclegacy, r = e._decorator, c = e.Label, a = e.RichText, u = e.tween, h = e.Vec3
          }, function (e) {
              l = e.UiForm
          }]
          , execute: function () {
              var g, d, p, m, w, T;
              o._RF.push({}, "32e3eIOrHZHC6/QwPv1xSIZ", "toastForm", void 0);
              var f = r.ccclass
                  , v = r.property;
              e("default", (g = v(c), d = v(a), f((w = t((m = function (e) {
                      function t() {
                          var t;
                          return t = e.call(this) || this, n(t, "msgText", w, s(t)), n(t, "msgRichText", T, s(t)), t.showTween = null, t
                      }
                      i(t, e);
                      var o = t.prototype;
                      return o.start = function () {}, o.show = function (e, t) {
                          void 0 === t && (t = !1), this.node.setSiblingIndex(9999), t ? (this.msgRichText.string = e, this.msgText.node.active = !1, this.msgRichText.node.active = !0) : (this.msgText.string = e, this.msgText.node.active = !0, this.msgRichText.node.active = !1), this.node.active = !0, this.showTween && (this.showTween.stop(), this.showTween = null), this.showTween = u(this.node)
                              .to(.1, {
                                  scale: new h(1.2, 1.2, 1.2)
                              }, {
                                  easing: "bounceInOut"
                              })
                              .to(.1, {
                                  scale: new h(1, 1, 1)
                              }, {
                                  easing: "bounceInOut"
                              })
                              .union()
                              .start(), this.scheduleOnce(this.hide, 1)
                      }, o.hide = function () {
                          this.node.active = !1
                      }, t
                  }(l))
                  .prototype, "msgText", [g], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), T = t(m.prototype, "msgRichText", [d], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), p = m)) || p));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/touchMgr.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./eventUtil.ts"], (function (e) {
      "use strict";
      var t, n, o, s, i, u, r;
      return {
          setters: [function (e) {
              t = e.inheritsLoose
          }, function (e) {
              n = e.cclegacy, o = e._decorator, s = e.Node, i = e.Component
          }, function (e) {
              u = e.EventConst
          }, function (e) {
              r = e.default
          }]
          , execute: function () {
              var h;
              n._RF.push({}, "4e6b4iG08ROAYQJhCYG9Y8a", "touchMgr", void 0);
              var c = o.ccclass;
              o.property, e("TouchMgr", c("TouchMgr")(h = function (e) {
                  function n() {
                      return e.apply(this, arguments) || this
                  }
                  t(n, e);
                  var o = n.prototype;
                  return o.start = function () {
                      this.addListener()
                  }, o.addListener = function () {
                      this.node.on(s.EventType.TOUCH_START, this.mouseDown, this), this.node.on(s.EventType.TOUCH_MOVE, this.mouseMove, this), this.node.on(s.EventType.TOUCH_CANCEL, this.mouseUp, this), this.node.on(s.EventType.TOUCH_END, this.mouseUp, this)
                  }, o.mouseDown = function (e) {
                      r.sendEventImmediately(u.TOUCH_DOWN, e)
                  }, o.mouseMove = function (e) {
                      r.sendEventImmediately(u.TOUCH_MOVE, e)
                  }, o.mouseUp = function (e) {
                      r.sendEventImmediately(u.TOUCH_UP, e)
                  }, o.removeListener = function () {
                      this.node.off(s.EventType.TOUCH_START, this.mouseDown, this), this.node.off(s.EventType.TOUCH_MOVE, this.mouseMove, this), this.node.off(s.EventType.TOUCH_CANCEL, this.mouseUp, this)
                  }, o.onDisable = function () {
                      this.removeListener()
                  }, n
              }(i)) || h);
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/TransformUtil.ts", ["cc"], (function (t) {
      "use strict";
      var n, o, r, e, a, i;
      return {
          setters: [function (t) {
              n = t.cclegacy, o = t.Quat, r = t.Vec3, e = t.find, a = t.Camera, i = t.Mat4
          }]
          , execute: function () {
              n._RF.push({}, "16706joEQBEB7Uj78MDrq/X", "TransformUtil", void 0), t("Quaternion", function () {
                      function t() {}
                      return t.RotateY = function (t, n) {
                          var r = new o;
                          return t.rotation = o.rotateY(r, t.rotation, n * this.Deg2Rad), r
                      }, t.RotateX = function (t, n) {
                          var r = new o;
                          return t.rotation = o.rotateX(r, t.rotation, n * this.Deg2Rad), r
                      }, t.RotateZ = function (t, n) {
                          var r = new o;
                          return t.rotation = o.rotateZ(r, t.rotation, n * this.Deg2Rad), r
                      }, t.RotateAround = function (t, n, r) {
                          var e = new o;
                          return o.rotateAround(e, t, n, r * this.Deg2Rad), e
                      }, t.RotateAroundLocal = function (t, n, r) {
                          var e = new o;
                          return o.rotateAroundLocal(e, t, n, r * this.Deg2Rad), e
                      }, t.RotationAroundNode = function (t, n, e, a) {
                          var i = new o
                              , u = new r
                              , c = new r
                              , s = t.position
                              , f = a * this.Deg2Rad;
                          return o.fromAxisAngle(i, e, f), r.subtract(u, s, n), r.transformQuat(c, u, i), t.position = r.add(c, n, c), o.rotateAround(i, t.rotation, e, f), i
                      }, t.GetEulerFromQuat = function (t) {
                          return o.toEuler(new r, t, !0)
                      }, t.GetQuatFromAngle = function (t) {
                          return o.fromEuler(new o, t.x, t.y, t.z)
                      }, t.Lerp = function (t, n, r) {
                          var e = new o;
                          return o.lerp(e, t, n, r), e
                      }, t.Slerp = function (t, n, r) {
                          var e = new o;
                          return o.slerp(e, t, n, r), e
                      }, t.LookRotation = function (t, n) {
                          void 0 === n && (n = r.UP);
                          var e = new o;
                          return r.normalize(t, t), o.fromViewUp(e, t, n), e
                      }, t
                  }())
                  .Deg2Rad = Math.PI / 180;
              t("VectorTool", function () {
                  function t() {}
                  return t.SmoothDampV3 = function (t, n, o, e, a, i) {
                      var u = 0
                          , c = 0
                          , s = 0
                          , f = 2 / (e = Math.max(1e-4, e))
                          , l = f * i
                          , d = 1 / (1 + l + .48 * l * l + .235 * l * l * l)
                          , v = t.x - n.x
                          , m = t.y - n.y
                          , x = t.z - n.z
                          , w = n
                          , p = a * e
                          , y = p * p
                          , z = v * v + m * m + x * x;
                      if (z > y) {
                          var h = Math.sqrt(z);
                          v = v / h * y, m = m / h * y, x = x / h * y
                      }
                      n.x = t.x - v, n.y = t.y - m, n.z = t.z - x;
                      var R = (o.x + f * v) * i
                          , g = (o.y + f * m) * i
                          , T = (o.z + f * x) * i;
                      o.x = (o.x - f * R) * d, o.y = (o.y - f * g) * d, o.z = (o.z - f * T) * d, u = n.x + (v + R) * d, c = n.y + (m + g) * d, s = n.z + (x + T) * d;
                      var D = w.x - t.x
                          , M = w.y - t.y
                          , A = w.z - t.z;
                      return D * (u - w.x) + M * (c - w.y) + A * (s - w.z) > 0 && (u = w.x, c = w.y, s = w.z, o.x = (u - w.x) / i, o.y = (c - w.y) / i, o.z = (s - w.z) / i), new r(u, c, s)
                  }, t.SmoothDamp = function (n, o, r, e, a, i) {
                      var u = 2 / (e = Math.max(1e-4, e))
                          , c = u * i
                          , s = 1 / (1 + c + .48 * c * c + .235 * c * c * c)
                          , f = n - o
                          , l = o
                          , d = a * e
                          , v = (r + u * (f = t.Clamp(f, -d, d))) * i;
                      r = (r - u * v) * s;
                      var m = (o = n - f) + (f + v) * s;
                      return l - n > 0 == m > l && (r = ((m = l) - l) / i), m
                  }, t.Clamp = function (t, n, o) {
                      return t <= n && (t = n), t >= o && (t = o), t
                  }, t
              }()), t("CoordinateTool", function () {
                  function t() {}
                  return t.transEventTouchToLocalPos = function (t, n) {
                      var o = n.touch.getUILocation()
                          , e = new r(o.x, o.y, 0)
                          , a = new r;
                      return t.inverseTransformPoint(a, e), a
                  }, t.trans3DToUI = function (t, n, o) {
                      var r = e(n)
                          .getComponent(a)
                          , i = e(o)
                          .getComponent(a)
                          , u = r.worldToScreen(t.worldPosition)
                          , c = i.screenToWorld(u);
                      return c.z = 0, c
                  }, t.transWorldPositionToUI = function (t, n, o) {
                      var e = new r;
                      return o.convertToUINode(t, n.parent, e), e
                  }, t.aModelTobModelLocalPos = function (t, n, o) {
                      var e = n.worldMatrix.clone()
                          , a = i.invert(e, o.getWorldMatrix(e));
                      t = t.set(n.position.x, n.position.y, n.position.z), r.transformMat4(t, t, a)
                  }, t
              }());
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/treasureEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./entityUtil.ts", "./uiManager.ts", "./takeTipsForm.ts", "./CustomDefine.ts", "./baseGameEntity.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var e, n, i, o, a, r, s, c, u, m, l, y, f, p;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy, i = t._decorator, o = t.Tween, a = t.tween
          }, function (t) {
              r = t.entityUtil
          }, function (t) {
              s = t.uiManager
          }, function (t) {
              c = t.takeTipsForm
          }, function (t) {
              u = t.formDefine, m = t.BundlesDefine
          }, function (t) {
              l = t.GameEntityState, y = t.baseGameEntity, f = t.GameEntityType
          }, function (t) {
              p = t.GameData
          }]
          , execute: function () {
              var h;
              n._RF.push({}, "84ef5IQB0FJWqJ79BhFcAsK", "treasureEntity", void 0);
              var d = i.ccclass;
              i.property, t("treasureEntity", d("treasureEntity")(h = function (t) {
                  function n() {
                      for (var e, n = arguments.length, i = new Array(n), o = 0; o < n; o++) i[o] = arguments[o];
                      return (e = t.call.apply(t, [this].concat(i)) || this)
                          .entityType = f.Treasure, e.physicalCost = 100, e
                  }
                  e(n, t);
                  var i = n.prototype;
                  return i.triggerTouch = function () {
                      var e = this;
                      t.prototype.triggerTouch.call(this), p.instance.gameForm.node.pauseSystemEvents(!1), this.showEntity((function () {
                          s.pushUIForm("gameform/" + u.takeTipsForm, (function (t) {
                              t.getComponent(c)
                                  .init(e.detailId, (function () {
                                      e.takeEntity(), p.instance.gameForm.node.resumeSystemEvents(!1)
                                  }))
                          }), m.form)
                      }))
                  }, i.takeEntity = function (t) {
                      var e = this;
                      void 0 === t && (t = null), this.state = l.Took, o.stopAllByTarget(this.node), a(this.node)
                          .to(.3, {
                              position: this.gameCameraLogic.takePosNode.worldPosition
                              , rotation: this.gameCameraLogic.takePosNode.worldRotation
                          })
                          .call((function () {
                              t && t(), p.instance.addTreasureCacheItem(e.detailId, e.area, e.num, e), r.hideEntity(e.node)
                          }))
                          .start()
                  }, n
              }(y)) || h);
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/treasureGinsengEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./entityUtil.ts", "./uiManager.ts", "./digGinsengForm.ts", "./CustomDefine.ts", "./baseGameEntity.ts", "./GameData.ts", "./ginsengEntity.ts"], (function (t) {
      "use strict";
      var n, e, i, o, s, a, r, u, c, g, f, l, m;
      return {
          setters: [function (t) {
              n = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy, i = t._decorator, o = t.Tween, s = t.tween
          }, function (t) {
              a = t.entityUtil
          }, function (t) {
              r = t.uiManager
          }, function (t) {
              u = t.digGinsengForm
          }, function (t) {
              c = t.formDefine, g = t.BundlesDefine
          }, function (t) {
              f = t.GameEntityState
          }, function (t) {
              l = t.GameData
          }, function (t) {
              m = t.ginsengEntity
          }]
          , execute: function () {
              var d;
              e._RF.push({}, "3ba96DASuhL7KhJkD+HRbK4", "treasureGinsengEntity", void 0);
              var y = i.ccclass;
              i.property, t("treasureGinsengEntity", y("treasureGinsengEntity")(d = function (t) {
                  function e() {
                      return t.apply(this, arguments) || this
                  }
                  n(e, t);
                  var i = e.prototype;
                  return i.startDigGinseng = function () {
                      var t = this;
                      r.pushUIForm("gameform/" + c.digGinsengForm, (function (n) {
                          n.getComponent(u)
                              .init(t)
                      }), g.form)
                  }, i.takeEntity = function (t) {
                      var n = this;
                      void 0 === t && (t = null), this.state = f.Took, o.stopAllByTarget(this.node), s(this.node)
                          .to(.3, {
                              position: this.gameCameraLogic.takePosNode.worldPosition
                              , rotation: this.gameCameraLogic.takePosNode.worldRotation
                          })
                          .call((function () {
                              t && t(), l.instance.addTreasureCacheItem(n.detailId, n.area, n.num, n), a.hideEntity(n.node)
                          }))
                          .start()
                  }, e
              }(m)) || d);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/treeEntity.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./entityUtil.ts", "./memoryConfig.ts", "./uiManager.ts", "./MathUtils.ts", "./shakeTreeForm.ts", "./CustomDefine.ts", "./baseGameEntity.ts", "./fruitEntity.ts", "./gameCameraLogic.ts", "./GameData.ts"], (function (t) {
      "use strict";
      var e, i, n, o, r, a, s, u, l, h, c, m, d, f, y, g, p, v, F, b, T, C, N, w;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              r = t.cclegacy, a = t._decorator, s = t.Node, u = t.CCInteger, l = t.find, h = t.Vec3
          }, function (t) {
              c = t.BundlesConst
          }, function (t) {
              m = t.entityUtil
          }, function (t) {
              d = t.memoryConfig
          }, function (t) {
              f = t.uiManager
          }, function (t) {
              y = t.default
          }, function (t) {
              g = t.shakeTreeForm
          }, function (t) {
              p = t.formDefine, v = t.BundlesDefine
          }, function (t) {
              F = t.GameEntityType, b = t.GameEntityState, T = t.baseGameEntity
          }, function (t) {
              C = t.fruitEntity
          }, function (t) {
              N = t.gameCameraLogic
          }, function (t) {
              w = t.GameData
          }]
          , execute: function () {
              var E, A, k, I, P, _, z, L, R, G, D, x, B;
              r._RF.push({}, "58d3f0RG+hORbwFOunUgwIl", "treeEntity", void 0);
              var S = a.ccclass
                  , j = a.property
                  , M = ["level1/yangmei_01", "level1/yangmei_02"]
                  , U = ["level2/juzi_01", "level2/juzi_02"]
                  , O = ["level1/branch", "level1/insect"];
              t("treeEntity", (E = S("treeEntity"), A = j(s), k = j(s), I = j(s), P = j(s), _ = j(u), E((R = e((L = function (t) {
                      function e() {
                          for (var e, i = arguments.length, r = new Array(i), a = 0; a < i; a++) r[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(r)) || this, n(e, "ndFruits", R, o(e)), n(e, "ndLeaves", G, o(e)), n(e, "ndTreeCamera", D, o(e)), n(e, "ndFruitPos", x, o(e)), e.entityType = F.Tree, e.entityNum = 26, e.nowNum = 0, e.shakeTreeForm = null, n(e, "treeType", B, o(e)), e.isFirstFruit = !0, e.videoIdx = 0, e
                      }
                      i(e, t);
                      var r = e.prototype;
                      return r.onEnable = function () {}, r.init = function () {
                          this.state = b.Init, this.gameCameraLogic = l("Main Camera")
                              .getComponent(N), this.ndFruits.active = !0, this.ndLeaves.active = !0, this.nowNum = 0, this.isFirstFruit = !0
                      }, r.setPosAndRotateAndAreaAndNum = function (e, i, n, o, r, a) {
                          void 0 === n && (n = h.ONE), void 0 === a && (a = 1), t.prototype.setPosAndRotateAndAreaAndNum.call(this, e, i, n, o, r, a), this.init()
                      }, r.triggerTouch = function () {
                          var e = this;
                          this.state == b.Init && (t.prototype.customEntity.call(this), this.gameCameraLogic.moveToPosAndRotation(this.ndTreeCamera.worldPosition, this.ndTreeCamera.worldRotation, .5, (function () {
                              f.pushUIForm("gameform/" + p.shakeTreeForm, (function (t) {
                                  e.shakeTreeForm = t.getComponent(g), e.shakeTreeForm.init(e)
                              }), v.form)
                          })))
                      }, r.shakeTree = function () {
                          var t = this;
                          this.node.qtShakeRotation(10, 2, {
                                  vibrato: 10
                                  , randomness: 10
                                  , fadeOut: !0
                              })
                              .delay(.3)
                              .call((function () {
                                  t.startGenerateFruits()
                              }))
                              .start()
                      }, r.startGenerateFruits = function () {
                          1 == d.instance.getIntKey("zs_video4", 0) ? this.videoIdx = y.randomNumBoth(1, this.entityNum - 10) : this.videoIdx = 0, this.schedule(this.generateFruit, .3)
                      }, r.generateFruit = function () {
                          var t = this;
                          if (this.nowNum++, this.nowNum > this.entityNum) this.finishShake();
                          else {
                              var e = y.probabilityCanHappen(70) || this.nowNum == this.videoIdx
                                  , i = ""
                                  , n = 0 == this.treeType ? M : U
                                  , o = this.isFirstFruit && e ? 1 : 0
                                  , r = this.nowNum == this.videoIdx;
                              if (e) {
                                  this.isFirstFruit = !1, i = n[y.randomNumBoth(0, n.length - 1)]
                              } else {
                                  var a = y.randomNumBoth(0, O.length - 1);
                                  i = O[a]
                              }
                              m.showEntity(i, this.node, (function (e) {
                                  e.getComponent(C)
                                      .init(t.ndFruitPos.position, o, r), t.shakeTreeForm.setPro((t.entityNum - t.nowNum) / t.entityNum)
                              }), c.tdPrefabs)
                          }
                      }, r.finishShake = function () {
                          this.unscheduleAllCallbacks(), m.hideAllEntity("yangmei_01"), m.hideAllEntity("yangmei_02"), m.hideAllEntity("juzi_01"), m.hideAllEntity("juzi_02"), m.hideAllEntity("branch"), m.hideAllEntity("insect"), this.ndLeaves.active = !1, this.ndFruits.active = !1, this.shakeTreeForm.onFinish(), w.instance.addTreeCacheItem(this.detailId, this.area, this.num, this)
                      }, r.backToGame = function () {
                          this.gameCameraLogic.moveToNowPosAndRotation(.5)
                      }, r.backShake = function () {
                          this.gameCameraLogic.moveToNowPosAndRotation(.5), this.state = b.Init
                      }, e
                  }(T))
                  .prototype, "ndFruits", [A], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return null
                      }
                  }), G = e(L.prototype, "ndLeaves", [k], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), D = e(L.prototype, "ndTreeCamera", [I], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), x = e(L.prototype, "ndFruitPos", [P], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return null
                  }
              }), B = e(L.prototype, "treeType", [_], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), z = L)) || z));
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Triangle.ts", ["cc"], (function (t) {
      "use strict";
      var r, e;
      return {
          setters: [function (t) {
              r = t.cclegacy, e = t.Vec3
          }]
          , execute: function () {
              r._RF.push({}, "35cdcVeRH9OiZ+tY3WOZsIf", "Triangle", void 0);
              var i = new e
                  , n = new e
                  , s = new e
                  , a = new e
                  , c = new e
                  , u = new e;
              t("Triangle", function () {
                  function t(t, r, i) {
                      void 0 === t && (t = new e), void 0 === r && (r = new e), void 0 === i && (i = new e), this.a = t, this.b = r, this.c = i, this.c = i, this.b = r, this.a = t
                  }
                  var r = t.prototype;
                  return r.set = function (t, r, e) {
                      return this.a.set(t), this.b.set(r), this.c.set(e), this
                  }, r.closestPointToPoint = function (t, r) {
                      var o, l, d = this.a
                          , v = this.b
                          , h = this.c;
                      e.subtract(i, v, d), e.subtract(n, h, d), e.subtract(s, t, d);
                      var f = i.dot(s)
                          , b = n.dot(s);
                      if (f <= 0 && b <= 0) return r.set(d.clone());
                      e.subtract(a, t, v);
                      var p = i.dot(a)
                          , w = n.dot(a);
                      if (p >= 0 && w <= p) return r.set(v.clone());
                      var y = f * w - p * b;
                      if (y <= 0 && f >= 0 && p <= 0) return o = f / (f - p), r.set(d.clone()
                          .add(i.multiplyScalar(o)));
                      e.subtract(c, t, h);
                      var m = i.dot(c)
                          , S = n.dot(c);
                      if (S >= 0 && m <= S) return r.set(h);
                      var g = m * b - f * S;
                      if (g <= 0 && b >= 0 && S <= 0) return l = b / (b - S), r.set(d.add(n.multiplyScalar(l)));
                      var T = p * S - m * w;
                      if (T <= 0 && w - p >= 0 && m - S >= 0) return e.subtract(u, h, v), l = (w - p) / (w - p + (m - S)), r.set(v.add(u.multiplyScalar(l)));
                      var R = 1 / (T + g + y);
                      return o = g * R, l = y * R, r.set(d.add(i.multiplyScalar(o))
                          .add(n.multiplyScalar(l)))
                  }, t
              }());
              r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/TTModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./Common.ts", "./Debug.ts", "./MathUtils.ts", "./PlatformModule.ts"], (function (r) {
      "use strict";
      var e, o, t, i, a, c, s;
      return {
          setters: [function (r) {
              e = r.inheritsLoose
          }, function (r) {
              o = r.cclegacy
          }, function (r) {
              t = r.SHARE_CHANNEL
          }, function (r) {
              i = r.default
          }, function (r) {
              a = r.Debug
          }, function (r) {
              c = r.default
          }, function (r) {
              s = r.default
          }]
          , execute: function () {
              o._RF.push({}, "6de81UzHYNG45Ggit19ITAK", "TTModule", void 0);
              r("default", function (r) {
                  function o() {
                      var e;
                      return (e = r.call(this) || this)
                          .platformName = "tt", e.recordRes = null, e.recordCb = null, e.recordNumber = 0, e.moreGameCb = null, e.shareVideoId = void 0, e._regisiterWXCallback(), e._registerTTCallback(), e.initRecord(), e
                  }
                  e(o, r);
                  var s = o.prototype;
                  return s._registerTTCallback = function () {
                      var r = this;
                      window[this.platformName] && (window[this.platformName].onMoreGamesModalClose && window[this.platformName].onMoreGamesModalClose((function (e) {
                          a.log("modal closed", e), r.moreGameCb && r.moreGameCb(0)
                      })), window[this.platformName].onNavigateToMiniGameBox ? window[this.platformName].onNavigateToMiniGameBox((function (r) {
                          a.log("onNavigateToMiniGameBox", r)
                      })) : window[this.platformName].onNavigateToMiniProgram && window[this.platformName].onNavigateToMiniProgram((function (r) {
                          a.log("onNavigateToMiniProgram", r)
                      })))
                  }, s.initRecord = function () {
                      window[this.platformName] && window[this.platformName].getGameRecorderManager && (this.recordObj = window[this.platformName].getGameRecorderManager())
                  }, s.clipRecord = function (r, e) {
                      void 0 === r && (r = [2, 2]), this.recordObj && (this.recordNumber++, a.log("clipRecord", this.recordNumber), this.recordObj.recordClip({
                          timeRange: r
                          , success: function (r) {
                              a.log("clipRecord 成功 ", r), i.isFunction(e) && e(r)
                          }
                      }))
                  }, s.startRecord = function (r, e) {
                      var o = this;
                      if (void 0 === r && (r = 300), void 0 === e && (e = null), a.log("record startRecord"), this.recordObj) {
                          this.recordNumber = 0, this.recordCb = null, this.recordRes = null, this.recordObj.onStart((function (r) {
                              a.log("record onStart"), e && e(r)
                          }));
                          this.recordRes;
                          this.recordObj.onStop((function (r) {
                              a.log("on stop ", r), o.recordNumber >= 1 ? o.recordObj.clipVideo({
                                  path: r.videoPath
                                  , success: function (r) {
                                      a.log("record clip succes:", r), o.recordRes = r, a.log("record clip recordRes :", o.recordRes), o.recordCb && o.recordCb(r)
                                  }
                                  , fail: function () {
                                      a.log("record clip fail:", r), o.recordRes = r, o.recordCb && o.recordCb(r)
                                  }
                              }) : (o.recordRes = r, o.recordCb && o.recordCb(r))
                          })), this.recordObj.start({
                              duration: r
                          })
                      } else e && e(!1)
                  }, s.stopRecord = function (r) {
                      void 0 === r && (r = null), a.log(" stop Record  callback  ", !!r), this.recordObj ? (a.log("record stop recordRes ", this.recordRes), this.recordRes ? i.isFunction(r) && r(this.recordRes) : (this.recordCb = r, this.recordObj.stop(), a.log("record stop  ", this.recordRes))) : r && r(!1)
                  }, s.pauseRecord = function () {
                      this.recordObj && this.recordObj.pause()
                  }, s.resumeRecord = function () {
                      this.recordObj && this.recordObj.resume()
                  }, s.share = function (r, e, o) {
                      this.currentShareCallback = e, this.currentShortCall = o, a.log("是否有回调：", o);
                      var t = this.buildShareInfo2(r);
                      a.log("shareInfo:", t), window[this.platformName] && window[this.platformName].shareAppMessage ? window[this.platformName].shareAppMessage(t) : this.currentShareCallback(!0)
                  }, s.buildShareInfo2 = function (r) {
                      var e = this
                          , o = ""
                          , i = "";
                      if (this.shareInfoArr.length > 0) {
                          var s = this.shareInfoArr[c.randomNumBoth(0, this.shareInfoArr.length - 1)];
                          o = s.title, i = s.img
                      } - 1 != [t.LINK, t.ARTICLE, t.TOKEN, t.VIDEO].indexOf(r) && (r = r);
                      var n = this.recordRes && this.recordRes.videoPath ? this.recordRes.videoPath : "";
                      return a.log("video path ", n), {
                          channel: r
                          , title: o
                          , imageUrl: i
                          , query: ""
                          , extra: {
                              videoPath: n
                              , videoTopics: [o]
                              , withVideoId: !0
                          }
                          , success: function (r) {
                              a.log("share video success :", r), e.shareVideoId = r.videoId, e.currentShareCallback && e.currentShareCallback(!0)
                          }
                          , fail: function (r) {
                              if (a.log("share video fail ", r), a.log("index of : ", r.errMsg.indexOf("short")), r && r.errMsg && -1 != r.errMsg.indexOf("short") && e.currentShortCall) return a.log("时间太短 执行回调"), void e.currentShortCall(r);
                              e.currentShareCallback && e.currentShareCallback(!1)
                          }
                      }
                  }, o
              }(s));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/TweenEx.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (t) {
      "use strict";
      var e, i, n, o, a, s, c, r, h, l, p, u, y;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              a = t.cclegacy, s = t._decorator, c = t.Enum, r = t.EventHandler, h = t.v3, l = t.UITransform, p = t.UIOpacity, u = t.tween, y = t.Component
          }]
          , execute: function () {
              var d, f, b, m, v, w, T, _, O, I, k, A, g, U, x;
              a._RF.push({}, "ad159L6GKlJBbmRVQqDRy+a", "TweenEx", void 0);
              var z = s.ccclass
                  , B = s.property
                  , M = t("TweenType", c({
                      Opacity: 0
                      , Scale: 1
                      , MoveTo: 2
                      , MoveBy: 3
                  }));
              t("TweenEx", (d = z("TweenEx"), f = B({
                  type: M
              }), b = B({
                  visible: function () {
                      return this.tweenType != M.Opacity
                  }
              }), m = B({
                  visible: function () {
                      return this.tweenType == M.Opacity
                  }
              }), v = B({
                  type: [r]
              }), d((_ = e((T = function (t) {
                      function e() {
                          for (var e, i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
                          return e = t.call.apply(t, [this].concat(a)) || this, n(e, "tweenType", _, o(e)), n(e, "duration", O, o(e)), n(e, "delayTime", I, o(e)), n(e, "vec", k, o(e)), n(e, "opacity", A, o(e)), n(e, "repeatTimes", g, o(e)), n(e, "playOnStart", U, o(e)), n(e, "endCallBack", x, o(e)), e._opacity = 0, e._pos = h(0, 0, 0), e._scale = h(0, 0, 0), e._UIOpacity = null, e._UITransform = null, e
                      }
                      i(e, t);
                      var a = e.prototype;
                      return a.onLoad = function () {
                          this._UITransform = this.getComponent(l), this.tweenType == M.Opacity && (this._UIOpacity = this.getComponent(p) || this.addComponent(p), this._opacity = this._UIOpacity.opacity), this._pos = this.node.position.clone(), this._scale = this.node.scale.clone()
                      }, a.start = function () {
                          this.playOnStart && this.excute()
                      }, a.show = function () {
                          this.showAction()
                              .start()
                      }, a.hide = function () {
                          this.hideAction()
                              .start()
                      }, a.showImmediately = function () {
                          this.showActionImmediately()
                      }, a.hideImmediately = function () {
                          this.hideActionImmediately()
                      }, a.excute = function () {
                          var t = this;
                          this.delayTime > 0 ? this.scheduleOnce((function () {
                              t.excuteAction()
                          }), this.delayTime) : this.excuteAction()
                      }, a.excuteAction = function () {
                          var t = this; - 1 == this.repeatTimes ? u(this.tweenType == M.Opacity ? this._UIOpacity : this.node)
                              .sequence(this.showAction(), this.hideAction())
                              .repeatForever()
                              .start() : this.repeatTimes > 0 ? u(this.tweenType == M.Opacity ? this._UIOpacity : this.node)
                              .sequence(this.showAction(), this.hideAction())
                              .repeat(this.repeatTimes)
                              .call((function () {
                                  r.emitEvents(t.endCallBack)
                              }))
                              .start() : this.showAction()
                              .call((function () {
                                  r.emitEvents(t.endCallBack)
                              }))
                              .start()
                      }, a.showAction = function () {
                          var t = null;
                          switch (this.tweenType) {
                          case M.Opacity:
                              t = u(this._UIOpacity)
                                  .to(this.duration, {
                                      opacity: this.opacity
                                  });
                              break;
                          case M.Scale:
                              t = u(this.node)
                                  .to(this.duration, {
                                      scale: this.vec
                                  });
                              break;
                          case M.MoveTo:
                              t = u(this.node)
                                  .to(this.duration, {
                                      position: this.vec
                                  });
                              break;
                          case M.MoveBy:
                              t = u(this.node)
                                  .by(this.duration, {
                                      position: this.vec
                                  })
                          }
                          return t
                      }, a.hideAction = function () {
                          var t = null;
                          switch (this.tweenType) {
                          case M.Opacity:
                              t = u(this._UIOpacity)
                                  .to(this.duration, {
                                      opacity: this._opacity
                                  });
                              break;
                          case M.Scale:
                              t = u(this.node)
                                  .to(this.duration, {
                                      scale: this._scale
                                  });
                              break;
                          case M.MoveTo:
                              t = u(this.node)
                                  .to(this.duration, {
                                      position: this._pos
                                  });
                              break;
                          case M.MoveBy:
                              t = u(this.node)
                                  .by(this.duration, {
                                      position: h(-this.vec.x, -this.vec.y, -this.vec.z)
                                  })
                          }
                          return t
                      }, a.showActionImmediately = function () {
                          switch (this.tweenType) {
                          case M.Opacity:
                              this._UIOpacity = this.opacity;
                              break;
                          case M.Scale:
                              this.node.scale = this.vec;
                              break;
                          case M.MoveTo:
                              this.node.position = this.vec;
                              break;
                          case M.MoveBy:
                              this.node.position = this.node.position.add(this.vec)
                          }
                          return null
                      }, a.hideActionImmediately = function () {
                          switch (this.tweenType) {
                          case M.Opacity:
                              this._UIOpacity = this._opacity;
                              break;
                          case M.Scale:
                              this.node.scale = this._scale;
                              break;
                          case M.MoveTo:
                              this.node.position = this._pos;
                              break;
                          case M.MoveBy:
                              this.node.position = this.node.position.add(this.vec.negative())
                          }
                          return null
                      }, e
                  }(y))
                  .prototype, "tweenType", [f], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return M.Scale
                      }
                  }), O = e(T.prototype, "duration", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), I = e(T.prototype, "delayTime", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), k = e(T.prototype, "vec", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return h(0, 0, 0)
                  }
              }), A = e(T.prototype, "opacity", [m], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 0
                  }
              }), g = e(T.prototype, "repeatTimes", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return -1
                  }
              }), U = e(T.prototype, "playOnStart", [B], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return !1
                  }
              }), x = e(T.prototype, "endCallBack", [v], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return []
                  }
              }), w = T)) || w));
              a._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/UCModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PlatformModule.ts"], (function (t) {
      "use strict";
      var e, n, u;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              u = t.default
          }]
          , execute: function () {
              n._RF.push({}, "86a9d2tp29HCbtzb8hDeMKS", "UCModule", void 0);
              t("default", function (t) {
                  function n() {
                      for (var e, n = arguments.length, u = new Array(n), o = 0; o < n; o++) u[o] = arguments[o];
                      return (e = t.call.apply(t, [this].concat(u)) || this)
                          .platformName = "uc", e
                  }
                  return e(n, t), n
              }(u));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/uICamera.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (t) {
      "use strict";
      var r, e, n, o;
      return {
          setters: [function (t) {
              r = t.inheritsLoose
          }, function (t) {
              e = t.cclegacy, n = t._decorator, o = t.Component
          }]
          , execute: function () {
              var c;
              e._RF.push({}, "d06d8WXvGRGuL6kciLjBZMY", "uICamera", void 0);
              var u = n.ccclass;
              n.property, t("UICamera", u("UICamera")(c = function (t) {
                  function e() {
                      return t.apply(this, arguments) || this
                  }
                  return r(e, t), e.prototype.start = function () {}, e
              }(o)) || c);
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/uiForm.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./baseObject.ts", "./entityUtil.ts", "./uiManager.ts"], (function (t) {
      "use strict";
      var e, i, n, o, s, a, c, r, u, l, p, f, h, d;
      return {
          setters: [function (t) {
              e = t.applyDecoratedDescriptor, i = t.inheritsLoose, n = t.initializerDefineProperty, o = t.assertThisInitialized
          }, function (t) {
              s = t.cclegacy, a = t._decorator, c = t.UIOpacity, r = t.Vec3, u = t.tween, l = t.v3, p = t.Node
          }, function (t) {
              f = t.BaseObject
          }, function (t) {
              h = t.entityUtil
          }, function (t) {
              d = t.uiManager
          }]
          , execute: function () {
              var y, m, k, M, E;
              s._RF.push({}, "b037c9U6hBJZJOiK9oFITqc", "uiForm", void 0);
              var O = a.ccclass
                  , b = a.property;
              t("UiForm", O("UiForm")((k = e((m = function (t) {
                      function e() {
                          for (var e, i = arguments.length, s = new Array(i), a = 0; a < i; a++) s[a] = arguments[a];
                          return e = t.call.apply(t, [this].concat(s)) || this, n(e, "isPopEffect", k, o(e)), n(e, "isMask", M, o(e)), n(e, "maskOpacity", E, o(e)), e.fullView = !0, e.formName = "", e.maskName = "maskLayer", e._opacity = 0, e._UIOpacity = null, e
                      }
                      i(e, t);
                      var s = e.prototype;
                      return s.start = function () {}, s.onLoad = function () {
                          this.isPopEffect && this.isMask && (this._UIOpacity = this.getComponent(c) || this.addComponent(c), this._opacity = this._UIOpacity.opacity), this.isMask && this.addMask()
                      }, s.showEffect = function () {
                          this.isPopEffect && (this.node.setScale(r.ONE), u(this.node)
                              .to(.1, {
                                  scale: l(1.1, 1.1, 1.1)
                              })
                              .to(.1, {
                                  scale: r.ONE
                              })
                              .start())
                      }, s.closeEffect = function (t) {
                          this.isPopEffect ? (this.node.setScale(r.ONE), u(this.node)
                              .to(.1, {
                                  scale: l(1.1, 1.1, 1.1)
                              })
                              .to(.1, {
                                  scale: r.ONE
                              })
                              .call(t)
                              .start()) : t()
                      }, s.addMask = function () {
                          var t = this;
                          this.node.getChildByName(this.maskName) ? this.node.active = !0 : h.showEntity(this.maskName, this.node, (function (e) {
                              e.setSiblingIndex(0), //! 不起作用
                                  e.on(p.EventType.TOUCH_START, t.onMaskMouseDown, t), e.on(p.EventType.TOUCH_MOVE, t.onMaskMouseDown, t), e.on(p.EventType.TOUCH_END, t.onMaskMouseDown, t)
                          }))
                      }, s.removeMask = function () {
                          this.node.getChildByName(this.maskName) && (this.node.active = !1)
                      }, s.onMaskMouseDown = function (t) {
                          t.propagationStopped = !0
                      }, s.hideForm = function (t) {
                          d.hideUIFormByNode(this.node)
                      }, s.hideAnim = function (t) {
                          t()
                      }, e
                  }(f))
                  .prototype, "isPopEffect", [b], {
                      configurable: !0
                      , enumerable: !0
                      , writable: !0
                      , initializer: function () {
                          return !1
                      }
                  }), M = e(m.prototype, "isMask", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return !1
                  }
              }), E = e(m.prototype, "maskOpacity", [b], {
                  configurable: !0
                  , enumerable: !0
                  , writable: !0
                  , initializer: function () {
                      return 1
                  }
              }), y = m)) || y);
              s._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/uiManager.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./formModel.ts", "./toastForm.ts", "./uiForm.ts", "./poolComponent.ts", "./poolManager.ts", "./resourceUtil.ts"], (function (e) {
      "use strict";
      var o, t, n, r, i, u, a, s, c, m, l, f, d, h;
      return {
          setters: [function (e) {
              o = e.createClass
          }, function (e) {
              t = e.cclegacy, n = e._decorator, r = e.director, i = e.Vec3, u = e.tween
          }, function (e) {
              a = e.FormConst, s = e.BundlesConst
          }, function (e) {
              c = e.formModel
          }, function (e) {
              m = e.default
          }, function (e) {
              l = e.UiForm
          }, function (e) {
              f = e.poolComponent
          }, function (e) {
              d = e.poolManager
          }, function (e) {
              h = e.resourceUtil
          }]
          , execute: function () {
              var g, F;
              t._RF.push({}, "92bf6+M/DhF/popYSLMYczn", "uiManager", void 0);
              var p = n.ccclass;
              n.property, e("uiManager", p("uiManager")(((F = function () {
                      function e() {}
                      return e.showToast = function (e, o) {
                          var t = this;
                          void 0 === o && (o = !1), null == this.mToastForm ? this.pushUIForm(a.toastForm, (function (n) {
                              t.mToastForm = n.getComponent(m), n.setSiblingIndex(t.uiRoot.children.length - 1), t.mToastForm && t.mToastForm.show(e, o)
                          })) : (this.mToastForm.node.setSiblingIndex(this.uiRoot.children.length - 1), this.mToastForm.show(e, o))
                      }, e.addFormQueue = function (e, o, t) {
                          void 0 === t && (t = s.form), this.singleFormQueue.find((function (o) {
                              return o.formPathOrName == e
                          })) || this.singleFormQueue.push(new c(e, o, t))
                      }, e.hasFormQueue = function (e) {
                          return !!this.singleFormQueue.find((function (o) {
                              return o.formName == e
                          }))
                      }, e.removeFormQueue = function (e) {
                          this.singleFormQueue = this.singleFormQueue.filter((function (o) {
                              return o.formName != e
                          }))
                      }, e.pushUIForm = function (e, o, t) {
                          var n = this;
                          void 0 === t && (t = s.form);
                          var r = e.split("/")
                              , i = r[r.length - 1];
                          this.hasFormQueue(i) || (this.addFormQueue(e, o, t), null != d.getPrefab(i) ? this.loadFormPrefabCompleteCall(e, o) : h.loadBundleRes(t, e, (function (t, r) {
                              t ? console.error(t) : (d.addPrefab(r), n.loadFormPrefabCompleteCall(e, o))
                          })))
                      }, e.loadFormPrefabCompleteCall = function (e, o) {
                          var t = e.split("/")
                              , n = t[t.length - 1]
                              , r = d.getPrefab(n)
                              , i = d.getNode(r, this.uiRoot);
                          (i.getComponent(f) || i.addComponent(f))
                          .tag = n, this.addFormTag(i, n), i.active = !0, o && o(i)
                      }, e.addFormTag = function (e, o) {
                          var t = e.getComponent(l);
                          null == t && (t = e.addComponent(l)), e.active = !0, t.formName = o, t.showEffect(), t.node.setSiblingIndex(t.node.parent.children.length - 1)
                      }, e.getUIForm = function (e) {
                          var o = d.getStack(e);
                          return o && o.length > 0 ? o[0] : null
                      }, e.getUIForms = function (e) {
                          return d.getStack(e)
                      }, e.hideUIForm = function (e, o) {
                          var t = this.getUIForm(e);
                          t && this.hideUIFormByNode(t, o)
                      }, e.hideAllUIForm = function (e) {
                          var o = this
                              , t = this.getUIForms(e);
                          t && t.forEach((function (e) {
                              o.hideUIFormByNode(e)
                          }))
                      }, e.hideUIFormByNode = function (e, o) {
                          var t = e.getComponent(l);
                          t ? (t.isPopEffect ? t.closeEffect((function () {
                              e.active = !1, d.putNode(e), o && o()
                          })) : t.hideAnim((function () {
                              e.active = !1, d.putNode(e), o && o()
                          })), this.removeFormQueue(t.formName)) : (e.active = !1, this.removeFormQueue(e.name), d.putNode(e))
                      }, e.destroyUIForm = function (e) {
                          d.removeStack(e), e.active = !1, e.removeFromParent(), e.destroy()
                      }, e.popOpenAnim = function (e) {
                          return new Promise((function (o) {
                              e.scale = new i(1, 1, 1), u(e)
                                  .to(.1, {
                                      scale: new i(1.2, 1.2, 1.2)
                                  }, {
                                      easing: "bounceInOut"
                                  })
                                  .to(.1, {
                                      scale: new i(1, 1, 1)
                                  }, {
                                      easing: "bounceInOut"
                                  })
                                  .call((function () {
                                      o(null)
                                  }))
                                  .start()
                          }))
                      }, e.popCloseAnim = function (e) {
                          return new Promise((function (o) {
                              e.scale = new i(1, 1, 1), u(e)
                                  .to(.1, {
                                      scale: new i(0, 0, 0)
                                  }, {
                                      easing: "bounceInOut"
                                  })
                                  .call((function () {
                                      o(null)
                                  }))
                                  .start()
                          }))
                      }, o(e, null, [{
                          key: "uiRoot"
                          , get: function () {
                              return r.getScene()
                                  .getChildByName("Canvas")
                          }
                      }]), e
                  }())
                  .layerIndex = 1, F.uiRootPath = "", F.mToastForm = null, F.singleFormQueue = [], g = F)) || g);
              t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/unlockModel.ts", ["cc", "./Const.ts"], (function (t) {
      "use strict";
      var e, o;
      return {
          setters: [function (t) {
              e = t.cclegacy
          }, function (t) {
              o = t.CategoryConst
          }]
          , execute: function () {
              e._RF.push({}, "a72ecrioiNO6I1lkY6Mk0GA", "unlockModel", void 0);
              t("unlockModel", (function () {
                  this.category = o.NONE, this.detailId = 0, this.num = 0, this.videoNum = 0, this.locked = !0, this.lockedTime = Date.now()
              }));
              e._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/Util.ts", ["cc"], (function (a) {
      "use strict";
      var r, n, t, e;
      return {
          setters: [function (a) {
              r = a.cclegacy, n = a.Vec3, t = a.math, e = a.Quat
          }]
          , execute: function () {
              function o(a, r) {
                  if (a.lengthSqr() > r * r) {
                      var t = new n;
                      return n.normalize(t, a), t.multiplyScalar(r), t
                  }
                  return a
              }

              function i(a, r) {
                  var e = t.toRadian(a);
                  return new n(r * Math.cos(e), r * Math.sin(e), 0)
              }
              a({
                  calcPunchData: function (a, r, e, i, c) {
                      t.clamp01(c);
                      var u = r.length()
                          , l = Math.round(i * e);
                      l < 2 && (l = 2);
                      for (var s = u / l, f = [], v = 0, d = 0; d < l; d++) {
                          var m = e * ((d + 1) / l);
                          v += m, f[d] = m
                      }
                      var g = e / v;
                      f = f.map((function (a) {
                          return a * g
                      }));
                      for (var h = [], p = 0; p < l; p++) {
                          if (p < l - 1)
                              if (0 === p) h[p] = n.add(new n, a, r);
                              else if (p % 2 != 0) {
                              var x = o(r, u * c);
                              x.negative(), h[p] = x.add(a)
                          } else {
                              var y = o(r, u);
                              h[p] = y.add(a)
                          } else h[p] = a;
                          u -= s
                      }
                      return {
                          tos: h
                          , durations: f
                      }
                  }
                  , calcShakeData: function (a, r, c, u, l, s, f, v) {
                      var d = f ? c.length() : c.x
                          , m = Math.floor(u * r);
                      m < 2 && (m = 2);
                      for (var g = d / m, h = [], p = 0, x = 0; x < m; x++) {
                          var y = (x + 1) / m
                              , R = v ? r * y : r / m;
                          p += R, h[x] = R
                      }
                      var z = r / p;
                      h = h.map((function (a) {
                          return a * z
                      }));
                      for (var M = t.randomRange(0, 360), S = [], w = 0; w < m; w++)
                          if (w < m - 1) {
                              var Q = new e;
                              if (w > 0 && (M = M - 180 + t.randomRange(-l, l)), f) {
                                  var A = i(M, d);
                                  n.transformQuat(A, A, Q), A.x = o(A, c.x)
                                      .x, A.y = o(A, c.y)
                                      .y, A.z = o(A, c.z)
                                      .z, A.normalize()
                                      .multiplyScalar(d), S[w] = A.add(a), v && (d -= g), c = o(c, d)
                              } else {
                                  if (s) S[w] = i(M, d)
                                      .add(a);
                                  else {
                                      e.fromAxisAngle(Q, n.UP, t.randomRange(-l, l));
                                      var D = i(M, d);
                                      n.transformQuat(D, D, Q), S[w] = D.add(a)
                                  }
                                  v && (d -= g)
                              }
                          } else S[w] = a;
                      return {
                          tos: S
                          , durations: h
                      }
                  }
                  , clampLength: o
                  , vec3FromAngle: i
              }), r._RF.push({}, "c427cVKhMtD6bQgnjxsaj+g", "Util", void 0), r._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/VideoExchange.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Sheets.ts", "./sheetManager.ts"], (function (e) {
      "use strict";
      var t, n, i, r;
      return {
          setters: [function (e) {
              t = e.inheritsLoose
          }, function (e) {
              n = e.cclegacy
          }, function (e) {
              i = e.VideoExchangeBase
          }, function (e) {
              r = e.SheetManager
          }]
          , execute: function () {
              n._RF.push({}, "b0690wGTx5NIJK95MpkX7fX", "VideoExchange", void 0);
              e("VideoExchange", function (e) {
                  function n() {
                      return e.apply(this, arguments) || this
                  }
                  return t(n, e), n.get = function (e) {
                      return this[e] ? this[e] : r.get("VideoExchange", e, n)
                  }, n.getAll = function () {
                      return r.getAllSheets("VideoExchange", n)
                  }, n.getExchangeDollar = function (e) {
                      var t = this.get(e);
                      t || (t = this.getAll()
                          .sort((function (e, t) {
                              return t.id - e.id
                          }))[0]);
                      return t.dollar
                  }, n
              }(i));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/VIVOModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./Const.ts", "./MSG.ts", "./eventUtil.ts", "./httpUtil.ts", "./Common.ts", "./Debug.ts", "./NativeSize.ts", "./platformConf.ts", "./PlatformModule.ts"], (function (t) {
      "use strict";
      var i, e, n, o, a, s, h, r, d, l, c, m, u;
      return {
          setters: [function (t) {
              i = t.inheritsLoose, e = t.extends
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              o = t.EventConst
          }, function (t) {
              a = t.MSG, s = t.VIDEO_STATUS
          }, function (t) {
              h = t.default
          }, function (t) {
              r = t.httpUtil
          }, function (t) {
              d = t.default
          }, function (t) {
              l = t.Debug
          }, function (t) {
              c = t.NativeSize
          }, function (t) {
              m = t.platformConf
          }, function (t) {
              u = t.default
          }]
          , execute: function () {
              n._RF.push({}, "eaa74VQRJ5EDb1MtzmiGKPd", "VIVOModule", void 0), t("default", function (t) {
                      function n() {
                          var i;
                          return (i = t.call(this) || this)
                              .platformName = "qg", i.appSid = "", i.mBannerWidth = 1080, i.mBannerHeight = 96, i.interLoadedShow = !1, i.mShowTime = null, i.mMinInterval = 10, i.mHideTime = null, i.mMinHideInterval = 5, i.mVideoTime = null, i.mCustomOnClose = void 0, i.mClickedNativeCallback = null, i.mIsClickedNative = !1, i.onCloseGamePortalAd = null, i.onShowGamePortalAd = null, i._regisiterWXCallback(), i.initAdService(), i
                      }
                      i(n, t);
                      var u = n.prototype;
                      return u.initAdService = function () {
                          h.on(o.ON_PLATFORM_SHOW, this, this.onAppShow)
                      }, u.supportVersion = function (t) {
                          return this.getSystemInfoSync()
                              .platformVersionCode >= t
                      }, u.onBannerError = function (t) {
                          console.warn("banner___error:", t.errCode, " msg ", t.errMsg)
                      }, u._createBannerAd = function () {
                          if (this.checkWindow() && this.checkMethod("createBannerAd")) {
                              var t = this.getWindow()
                                  , i = Date.now();
                              if (this.mShowTime) {
                                  if (this.mShowTime && i - this.mShowTime <= 1e3 * this.mMinInterval) return void l.log("banner创建太频繁了 " + this.mMinInterval + "秒内只能显示一次")
                              } else this.mShowTime = i;
                              this.mShowTime = Date.now(), this.bannerOption.Width = this.mBannerWidth, this.bannerOption.Height = this.mBannerHeight;
                              var e = this.bannerOption.getBannerStyle(this.getSystemInfoSync())
                                  , n = t[this.platformName].createBannerAd({
                                      posId: this.getBannerId()
                                      , style: e
                                  });
                              return n.onSize(this._onBannerResize.bind(this)), n
                          }
                      }, u.getNotchHeight = function () {
                          var t = 0
                              , i = this.getWindow();
                          return i[this.platformName].getNotchHeightSync && (t = i[this.platformName].getNotchHeightSync()
                              .height), t
                      }, u._onBannerResize = function (t) {
                          this.mBannerHeight = t.realHeight, this.mBannerWidth = t.realWidth, l.log("onSize callback  ", t)
                      }, u._onBannerClose = function () {
                          l.log("banner 已关闭 ")
                      }, u._onBannerHide = function () {
                          l.log("banner 已隐藏 ")
                      }, u.showBanner = function (t) {
                          this.bannerOption = t, this.isBannerShow = !0, this.checkWindow() && this._showBanner()
                      }, u._showBanner = function () {
                          if (this.mBannerAd && this.mBannerAd.hide && (this.mBannerAd.hide(), this.mBannerAd.offSize(), this.mBannerAd.destroy(), this.mBannerAd = null), this.mBannerAd = this._createBannerAd(), this.mBannerAd && this.mBannerAd.show) {
                              var t = this.mBannerAd.show();
                              t && t.then((function () {
                                      l.log("banner广告展示成功")
                                  }))
                                  .catch((function (t) {
                                      switch (t.code) {
                                      case 30003:
                                          l.log("新用户1天内不能曝光Banner，请将手机时间调整为1天后，退出游戏重新进入");
                                          break;
                                      case 30009:
                                          l.log("10秒内调用广告次数超过1次，10秒后再调用");
                                          break;
                                      case 30002:
                                          l.log("加载广告失败，重新加载广告");
                                          break;
                                      default:
                                          l.log("banner广告展示失败"), l.log(JSON.stringify(t))
                                      }
                                  }))
                          }
                      }, u.hideBanner = function () {
                          if (l.log(a.HIDE_BANNER), this.checkWindow()) {
                              var t = Date.now();
                              if (this.mHideTime) {
                                  if (this.mHideTime && t - this.mHideTime <= 1e3 * this.mMinHideInterval) return void l.log("banner隐藏太频繁了 " + this.mMinHideInterval + "秒内只隐藏一次")
                              } else this.mHideTime = t;
                              this.mHideTime = t, this.mBannerAd && this.mBannerAd.hide && (l.log("隐藏和销毁banner"), this.mBannerAd.hide(), this.mBannerAd.offSize(), this.mBannerAd.destroy(), this.mBannerAd = null)
                          }
                      }, u.createRewardAD = function (t, i) {
                          if (void 0 === i && (i = 0), !this.videoLoading)
                              if (this.checkWindow()) {
                                  if (this.checkMethod("createRewardedVideoAd"))
                                      if (d.isEmpty(this.getVideoId())) console.warn(a.VIDEO_KEY_IS_NULL);
                                      else {
                                          if (this.mVideoTime) {
                                              if (Date.now() - this.mVideoTime < 1e4) return void(this.videoCb && this.videoCb(s.ERR));
                                              this.mVideoTime = Date.now()
                                          } else this.mVideoTime = Date.now();
                                          var e = this.getVideoId(i);
                                          if (this.mVideo) this.mVideo.load();
                                          else {
                                              var n = this.getWindow();
                                              this.videoLoading = !0, this.mVideo = n[this.platformName].createRewardedVideoAd({
                                                  posId: e
                                              }), this.mVideo.onError(this.onVideoError.bind(this)), this.mVideo.onClose(this.onVideoClose.bind(this)), this.mVideo.onLoad(this.onVideoLoad.bind(this))
                                          }
                                      }
                              } else this.videoCb(s.END)
                      }, u.onVideoLoad = function () {
                          var t = this;
                          l.log(a.VIDEO_LOAD_COMPLETED), this.videoLoading = !1, this.mVideo && this.mVideo.show()
                              .then((function () {
                                  t.videoPlaying = !0, h.sendEventImmediately(o.ON_PLATFORM_HIDE, {}), l.log("激励视频广告展示完成")
                              }))
                              .catch((function (i) {
                                  l.log("激励视频广告展示失败", JSON.stringify(i)), t.videoCb && t.videoCb(s.ERR)
                              }))
                      }, u.onVideoClose = function (t) {
                          if (l.log(a.VIDEO_CLOSE_COMPLETED, t.isEnded), this.videoLoading = !1, this.videoPlaying = !1, t.isEnded && r.clickVideo(), h.sendEventImmediately(o.ON_PLATFORM_SHOW, {}), this.videoCb) {
                              var i = t.isEnded ? s.END : s.NOTEND;
                              this.videoCb(i)
                          }
                      }, u.prepareInter = function () {
                          if (d.isEmpty(this.interId)) console.warn(a.INTER_KEY_IS_NULL);
                          else if (this.checkWindow() && this.checkMethod("createInterstitialAd")) {
                              var t = this.getWindow();
                              this.inter && (this.inter.offLoad(), this.inter.offClose(), this.inter.offError(), this.inter = null), l.log("创建插屏广告"), this.inter = t[this.platformName].createInterstitialAd({
                                  posId: this.interId
                              }), this.inter.onLoad(this._onInterLoad.bind(this)), this.inter.onClose(this._onInterClose.bind(this)), this.inter.onError(this._onInterError.bind(this)), this.inter.load()
                          }
                      }, u.showInter = function () {
                          this.prepareInter()
                      }, u._onInterLoad = function () {
                          if (this.inter) {
                              var t = this.inter.show();
                              t && t.then((function () {
                                      l.log("插屏广告展示完成")
                                  }))
                                  .catch((function (t) {
                                      l.log("插屏广告展示失败", t)
                                  }))
                          }
                      }, u._onInterOnShow = function () {
                          this.inter && this.inter.load()
                      }, u.showAutoBanner = function () {
                          l.log(" vivo 不支持自动")
                      }, u.reportMonitor = function (t, i) {
                          this.checkWindow() && (this.checkMethod("reportMonitor") && this.getWindow()[this.platformName].reportMonitor("game_scene", 0))
                      }, u.prepareNative = function (t, i) {
                          if (void 0 === t && (t = -1), void 0 === i && (i = !1), this.checkWindow() && this.checkMethod("createNativeAd")) {
                              var e = this.getWindow();
                              this.destroyNative();
                              var n = this.GetRandomNativeGroup(m.config.nativeList, c.LR, t)
                                  .Id.trim();
                              this.native = e[this.platformName].createNativeAd({
                                  posId: n
                              }), this.native.onLoad(this._onNativeLoad), this.native.onError(this._onNativeError), this.native.onClose(this._onNativeClose), this.nativeLoading = !0, i && this.native.load()
                          }
                      }, u._onNativeLoad = function (t) {
                          var i = this;
                          if (this.nativeLoading = !1, l.log(a.NATIVE_LOAD_COMPLETED, t), t && t.adList && t.adList.length > 0) {
                              var n = [];
                              t.adList.forEach((function (t, o) {
                                  n.push(e({}, t, {
                                      hasClick: !(o > i.nativeAdResultList.length - 1) && i.nativeAdResultList[o].hasClick
                                  }))
                              })), this.nativeAdResultList = n, this.nativeAdResult = this.nativeAdResultList[this.nativeAdResultList.length - 1], d.isEmpty(this.nativeAdResult.adId) || (l.log(a.NATIVE_REPORT), this.native.reportAdShow({
                                  adId: this.nativeAdResult.adId
                              })), d.isFunction(this.nativeCb) && this.nativeCb(d.deepCopy(this.nativeAdResult))
                          } else l.log(a.NATIVE_LIST_NULL), this.nativeOnLoadCallback()
                      }, u._onNativeError = function (t) {
                          this.nativeLoading = !1, 20003 == t.code ? this.nativeIdIndex < m.config.nativeList.length - 1 ? (l.log(a.NATIVE_ERROR, t), this.nativeIdIndex += 1, this.destroyNative()) : (l.log(a.NATIVE_NOT_ID_USE), this.nativeIdIndex = 0) : l.log(a.NATIVE_ERROR2, t), this.nativeOnLoadCallback()
                      }, u._onNativeClose = function () {}, u.nativeOnLoadCallback = function () {
                          if (this.nativeCb) {
                              var t = this.nativeAdResultList.filter((function (t) {
                                  return !t.hasClick
                              }));
                              t.length > 0 ? (l.log("选取第一个广告"), this.nativeCb(t[0])) : this.nativeAdResultList.length > 0 ? (l.log("随机选取一个广告"), this.nativeCb(this.nativeAdResultList[d.randomNumBoth(0, this.nativeAdResultList.length - 1)])) : this.nativeCb(null)
                          }
                      }, u.destroyNative = function () {
                          this.nativeLoading = !1, this.native && (this.native.offLoad(this._onNativeLoad), this.native.offError(this._onNativeError), this.native.destroy(), this.native = null), l.log(a.NATIVE_DESTROY)
                      }, u.showNativeAd = function (t) {
                          var i = this;
                          if (this.nativeCb = t, this.native) {
                              var e = this.native.load();
                              e && e.then((function () {
                                      l.log("原生广告加载完成")
                                  }))
                                  .catch((function (t) {
                                      l.log("原生广告加载失败"), i.nativeOnLoadCallback()
                                  }))
                          } else this.prepareNative(-1, !0)
                      }, u.showNativePicAd = function (t, i, e, n) {
                          var o = this;
                          void 0 === i && (i = -1), this.hideNativeLRAd(), this.hideNativePicAd();
                          var a = this.GetRandomNativeGroup(m.config.nativeList, c.PIC, i)
                              , s = this.getSystemInfoSync()
                              , h = t.GetStyle(s)
                              , r = this.getWindow();
                          this.nativePic = r[this.platformName].createCustomAd({
                                  posId: null == a ? void 0 : a.Id.trim()
                                  , style: h
                              }), this.nativePic.onError((function (t) {
                                  l.log("nativeLR 原生模板广告加载失败", t), o.hideNativeLRAd()
                              })), this.nativePic.show()
                              .then((function () {
                                  l.log("nativeLR 原生模板广告展示完成")
                              }))
                              .catch((function (t) {
                                  l.log("nativeLR 原生模板广告展示失败", JSON.stringify(t))
                              }))
                      }, u.hideNativePicAd = function () {
                          this.checkWindow() && (this.checkMethod("createCustomAd") && this.getWindow()[this.platformName].createCustomAd && this.nativePic && (l.log("nativePic destroy"), this.nativePic.destroy(), this.nativePic = null))
                      }, u.showNativeLRAd = function (t, i, e) {
                          var n = this;
                          void 0 === t && (t = null), void 0 === i && (i = null);
                          var o = t && i ? {
                              left: t
                              , top: i
                          } : null;
                          if (this.checkWindow() && this.checkMethod("createCustomAd")) {
                              var a = this.getWindow();
                              this.nativeLR = a[this.platformName].createCustomAd({
                                      posId: this.nativeLRId
                                      , style: o
                                  }), this.nativeLR.onError((function (t) {
                                      l.log("nativeLR 原生模板广告加载失败", t), n.hideNativeLRAd()
                                  })), this.nativeLR.show()
                                  .then((function () {
                                      l.log("nativeLR 原生模板广告展示完成")
                                  }))
                                  .catch((function (t) {
                                      l.log("nativeLR 原生模板广告展示失败", JSON.stringify(t))
                                  }))
                          }
                      }, u.hideNativeLRAd = function () {
                          this.checkWindow() && (this.checkMethod("createCustomAd") && this.getWindow()[this.platformName].createCustomAd && this.nativeLR && (l.log("nativeLR destroy"), this.nativeLR.destroy(), this.nativeLR = null))
                      }, u.clickNative = function (t) {
                          var i = this;
                          this.nativeAdResult && !d.isEmpty(this.nativeAdResult.adId) && (this.mClickedNativeCallback = t, this.mIsClickedNative = !0, l.log(a.NATIVE_CLICK, this.nativeAdResult.adId), this.native.reportAdClick({
                              adId: this.nativeAdResult.adId
                          }), this.nativeAdResultList.forEach((function (t) {
                              t == i.nativeAdResult && (t.hasClick = !0)
                          })))
                      }, u.onAppShow = function () {
                          this.mIsClickedNative && (this.mIsClickedNative = !1, d.isFunction(this.mClickedNativeCallback) && this.mClickedNativeCallback())
                      }, u.hasShortcutInstalled = function (t, i) {
                          this.checkWindow() && (this.checkMethod("hasShortcutInstalled") && this.getWindow()[this.platformName].hasShortcutInstalled({
                              success: function (t) {
                                  function i(i) {
                                      return t.apply(this, arguments)
                                  }
                                  return i.toString = function () {
                                      return t.toString()
                                  }, i
                              }((function (i) {
                                  t && t(!!i), i ? l.log("已创建") : l.log("未创建")
                              }))
                              , fail: function (t) {
                                  i && i(t)
                              }
                          }))
                      }, u.installShortcut = function (t, i, e) {
                          (void 0 === i && (i = "方便下次快速启动"), this.checkWindow()) && (this.checkMethod("installShortcut") && this.getWindow()[this.platformName].installShortcut({
                              message: i
                              , success: function (t) {
                                  function i(i) {
                                      return t.apply(this, arguments)
                                  }
                                  return i.toString = function () {
                                      return t.toString()
                                  }, i
                              }((function (i) {
                                  t && t(i), l.log("创建成功")
                              }))
                              , fail: function (t) {
                                  e && e(t)
                              }
                          }))
                      }, u.exitApplication = function () {
                          this.checkWindow() && (this.checkMethod("exitApplication") && this.getWindow()[this.platformName].exitApplication())
                      }, u.showBoxPortalAd = function (t, i, e, n) {
                          var o = this;
                          if (void 0 === i && (i = 200), this.checkWindow()) {
                              var a = this.getWindow();
                              if (a[this.platformName].createBoxPortalAd) {
                                  this.onCloseGamePortalAd = e, this.onShowGamePortalAd = n;
                                  var s = this;
                                  this.gamePortalId ? this.gamePortalAd ? this.gamePortalAd.show()
                                      .then((function () {
                                          l.log("load success")
                                      }))
                                      .catch((function (t) {
                                          s.onShowGamePortalAd && d.isFunction(s.onShowGamePortalAd) && s.onShowGamePortalAd(!1), l.log("load fail with:" + t.errCode + "," + t.errMsg)
                                      })) : (l.log("showGamePortalAd adUnitId :", this.gamePortalId), this.gamePortalAd = a[this.platformName].createBoxPortalAd({
                                              posId: this.gamePortalId
                                              , image: t
                                              , marginTop: i
                                          }), this.gamePortalAd.onClose((function () {
                                              l.log("close"), o.gamePortalAd.isDestroyed || (o.gamePortalAd.show(), s.onCloseGamePortalAd && d.isFunction(s.onCloseGamePortalAd) && s.onCloseGamePortalAd(), l.log("互推盒子九宫格广告关闭"))
                                          })), this.gamePortalAd.onError((function (t) {
                                              l.log("showGamePortalAd err", t), s.onShowGamePortalAd && d.isFunction(s.onShowGamePortalAd) && s.onShowGamePortalAd(!1)
                                          })), this.gamePortalAd.onLoad((function () {
                                              l.log("互推盒子九宫格广告加载成功")
                                          })), this.gamePortalAd.onShow((function () {
                                              l.log("showGamePortalAd onShow success"), s.onShowGamePortalAd && d.isFunction(s.onShowGamePortalAd) && s.onShowGamePortalAd(!0)
                                          })), this.gamePortalAd.show()
                                          .then((function () {
                                              s.onShowGamePortalAd && d.isFunction(s.onShowGamePortalAd) && s.onShowGamePortalAd(!0), l.log("showGamePortalAd success")
                                          }))
                                          .catch((function (t) {
                                              s.onShowGamePortalAd && d.isFunction(s.onShowGamePortalAd) && s.onShowGamePortalAd(!1), l.log("showGamePortalAd fail with:" + t.errCode + "," + t.errMsg)
                                          }))) : console.warn("showGamePortalAd adUnitId 为空")
                              } else n && n(!1)
                          } else n && n(!1)
                      }, u.hideBoxPortalAd = function () {
                          null != this.gamePortalAd && (this.gamePortalAd.hide(), this.gamePortalAd.isDestroyed = !0, this.gamePortalAd.destroy(), this.gamePortalAd = null)
                      }, n
                  }(u))
                  .lstCustomAd = {}, n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/WebModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./MSG.ts", "./PlatformModule.ts"], (function (t) {
      "use strict";
      var e, o, n, u, c;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              o = t.cclegacy, n = t._decorator
          }, function (t) {
              u = t.VIDEO_STATUS
          }, function (t) {
              c = t.default
          }]
          , execute: function () {
              o._RF.push({}, "ab28elI07xJCZxLaQY9/o7S", "WebModule", void 0);
              n.ccclass, n.property, t("WebModule", function (t) {
                  function o() {
                      return t.apply(this, arguments) || this
                  }
                  return e(o, t), o.prototype.showVideo = function (t, e) {
                      t && t(u.END)
                  }, o
              }(c));
              o._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/workman.ts", ["./rollupPluginModLoBabelHelpers.js", "cc"], (function (r) {
      "use strict";
      var n, t, e, o;
      return {
          setters: [function (r) {
              n = r.inheritsLoose
          }, function (r) {
              t = r.cclegacy, e = r._decorator, o = r.Component
          }]
          , execute: function () {
              var c;
              t._RF.push({}, "ecd61Mkw8ZCJq9wIIhJJTwg", "workman", void 0);
              var s = e.ccclass;
              e.property, r("workman", s("workman")(c = function (r) {
                  function t() {
                      return r.apply(this, arguments) || this
                  }
                  return n(t, r), t
              }(o)) || c);
              t._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/WXModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./PlatformModule.ts"], (function (t) {
      "use strict";
      var e, n, r;
      return {
          setters: [function (t) {
              e = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              r = t.default
          }]
          , execute: function () {
              n._RF.push({}, "d3a81SYOtNIfbffmr0FtbpV", "WXModule", void 0);
              t("default", function (t) {
                  function n() {
                      for (var e, n = arguments.length, r = new Array(n), u = 0; u < n; u++) r[u] = arguments[u];
                      return (e = t.call.apply(t, [this].concat(r)) || this)
                          .platformName = "wx", e
                  }
                  return e(n, t), n
              }(r));
              n._RF.pop()
          }
      }
  }));

  System.register("chunks:///_virtual/ZSOPPOModule.ts", ["./rollupPluginModLoBabelHelpers.js", "cc", "./dataUtil.ts", "./httpUtil.ts", "./Debug.ts", "./OPPOModule.ts", "./platformConf.ts"], (function (t) {
      "use strict";
      var o, n, i, e, c, a, l;
      return {
          setters: [function (t) {
              o = t.inheritsLoose
          }, function (t) {
              n = t.cclegacy
          }, function (t) {
              i = t.default
          }, function (t) {
              e = t.httpUtil
          }, function (t) {
              c = t.Debug
          }, function (t) {
              a = t.default
          }, function (t) {
              l = t.platformConf
          }]
          , execute: function () {
              n._RF.push({}, "9fbc90vSVlGSq75QqZOXF7W", "ZSOPPOModule", void 0);
              t("default", function (t) {
                  function n() {
                      return t.apply(this, arguments) || this
                  }
                  o(n, t);
                  var a = n.prototype;
                  return a.checkVersion = function (o, n) {
                      var i = this;
                      e.loadCfg((function (o) {
                          var e = t.prototype.checkLog.call(i, o.zs_version);
                          n(e)
                      }))
                  }, a.login = function (t, o) {
                      this.checkWindow() ? this.getWindow()[this.platformName].login({
                          success: function (o) {
                              e.request("https://platform.qwpo2018.com/api/oppo_login/index", {
                                  apk_id: l.config.appId
                                  , code: o.data.token
                              }, "POST", (function (o) {
                                  i.setToken(o.data.user_id), t && t(o.data), c.log("platformLogin success ", o)
                              }), (function (o) {
                                  t && t(null), c.log("platformLogin fail ", o)
                              }))
                          }
                          , fail: function (t) {
                              o && o(t)
                          }
                      }) : t && t()
                  }, a.navigateCallback = function (t) {
                      var o = {
                          user_id: i.getToken()
                          , apk_id: l.config.appId
                          , appid: t
                          , link_id: t
                      };
                      c.log("跳转数据上报", o), e.request("https://platform.qwpo2018.com/api/apk_ad/click_log", o, "POST", (function (t) {
                          c.log("跳转数据上报成功", t)
                      }), (function (t) {
                          c.log("跳转数据上报失败", t)
                      }), (function () {
                          c.log("upload navigate complete")
                      }))
                  }, n
              }(a));
              n._RF.pop()
          }
      }
  }));

  (function (r) {
      r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main');
  })(function (mid, cid) {
      System.register(mid, [cid], function (_export, _context) {
          return {
              setters: [function (_m) {
                  var _exportObj = {};

                  for (var _key in _m) {
                      if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
                  }

                  _export(_exportObj);
      }]
              , execute: function () {}
          };
      });
  });
});
require("subpackages/main/game.js");
