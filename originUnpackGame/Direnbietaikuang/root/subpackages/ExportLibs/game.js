
	var global = (function () { return this })();	if (!global && typeof GameGlobal !== 'undefined') global = GameGlobal;	var pluginInfoMap = {};	;	global.requirePlugin = global.requirePlugin || function(path) {		    var position = path.indexOf('/');    		var alias = '';    		var pagePath = '';    		if (position !== -1) {    		    alias = path.substr(0, position);    		    pagePath = path.substr(position + 1, path.length);    		}    		else {    		    alias = path;    		}    		if (pluginInfoMap.hasOwnProperty(alias)) {    		    var realPath = '';    		    if (pagePath.length === 0) {    		        realPath =  '__plugin__/' + pluginInfoMap[alias].appid;    		        return require(realPath);    		    } else {    		        realPath = '__plugin__/' + pluginInfoMap[alias].appid + '/' + pagePath;    		        return require(realPath);    		    }    		}    		else {    		    console.error('not found alias: ', alias);    		    throw new Error('Plugin ' + alias + ' is not defined.')    		}	};	define("subpackages/ExportLibs/game.js", function(require, module, exports){ 			
"use strict";var n,t;System.register("chunks:///_virtual/AppConfig.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){var e;n("AppIDs",void 0),t._RF.push({},"0d20aYuKMNOaLpLCja1ucLs","AppConfig",void 0),function(n){n.drbtk="wx4aa8c32ea63cfa62",n.dbldj="wx1277ab5585622219",n.xbtck="wx2ded19c9f7816649",n.ldqbdj="wxb5e0a5e37b7e7ae7",n.drtjl="wx7d739a7633e7c1d8"}(e||(e=n("AppIDs",{}))),n("default",{wechat:{appid:"wx4aa8c32ea63cfa62",videoAdUnitId:["adunit-2688dbf59daebe66"],interstitialAdUnitId:["adunit-7f2514b73649840e"],customAd:["adunit-ac004741e080beaf","adunit-94bbb7b817d4690f"],finishCustomAd:["adunit-316006fed70d6fd5"],gridAd:["adunit-f2630691b0c12529","adunit-05d2d8f503d643bb"],bottomGridAd:["adunit-16205c782100f10c"]}}),t._RF.pop()}}})),System.register("chunks:///_virtual/AutoScroll.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,o,r,a,s,c,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.ScrollView,c=n.v2,u=n.Component}],execute:function(){var d,h,l,f;r._RF.push({},"a75d1uQdLhKfJU99KUbdLWv","AutoScroll",void 0);var g=a.ccclass,p=a.property;n("default",g("AutoScroll")((l=t((h=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"scrollSpeed",l,o(t)),i(t,"isVertical",f,o(t)),t.scroll=null,t.isReady=!1,t.isDown=!0,t}e(t,n);var r=t.prototype;return r.onLoad=function(){this.scroll=this.node.getComponent(s)},r.start=function(){var n=this;this.scheduleOnce((function(){n.isReady=!0}),1)},r.onEnable=function(){var n=this;this.scheduleOnce((function(){n.isReady=!0}),1)},r.onDisable=function(){this.isReady=!1},r.update=function(n){var t=this;if(this.isReady&&!this.scroll.isScrolling()){var e=this.isVertical?this.scroll.getScrollOffset().y:-this.scroll.getScrollOffset().x,i=this.isVertical?this.scroll.getMaxScrollOffset().y:this.scroll.getMaxScrollOffset().x;this.isDown?(e+=this.scrollSpeed)<i?this.isVertical?this.scroll.scrollToOffset(c(0,e)):this.scroll.scrollToOffset(c(e,0)):(this.isDown=!1,this.isReady=!1,this.scheduleOnce((function(){t.isReady=!0}),1)):(e-=this.scrollSpeed)>0?this.isVertical?this.scroll.scrollToOffset(c(0,e)):this.scroll.scrollToOffset(c(e,0)):(this.isDown=!0,this.isReady=!1,this.scheduleOnce((function(){t.isReady=!0}),1))}},t}(u)).prototype,"scrollSpeed",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),f=t(h.prototype,"isVertical",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=h))||d),r._RF.pop()}}})),System.register("chunks:///_virtual/BasePlatform.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){var e;n("PlatformType",void 0),t._RF.push({},"d1550qjUB1Ax5sikt2CoDP0","BasePlatform",void 0),function(n){n[n.WeiXin=0]="WeiXin",n[n.Qq=1]="Qq",n[n.Vivo=2]="Vivo",n[n.Oppo=3]="Oppo",n[n.ZiJieTiaoDong=4]="ZiJieTiaoDong",n[n.Mgc=5]="Mgc",n[n.Swan=6]="Swan",n[n.Android=7]="Android",n[n.Ios=8]="Ios"}(e||(e=n("PlatformType",{}))),n("default",function(){function n(){this.bannerId="",this.videoId="",this.interId="",this.gridId=[],this.existBannerAd=!1,this.existVideoAd=!1,this.existInterAd=!1,this.existGridAd=!1,this.init()}return n.prototype.init=function(){console.error("初始化平台失败")},n}()),t._RF.pop()}}})),System.register("chunks:///_virtual/BottomGridAdMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppConfig.ts","./JJMgr.ts"],(function(n){var t,e,i,o;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){i=n.default},function(n){o=n.default}],execute:function(){e._RF.push({},"975b9avfD9ND6RPEwNHkLII","BottomGridAdMgr",void 0),n("default",function(){function n(){this.gridIdArr=[],this.gridAdArr=[],this.totalCount=1,this.createIndex=0}var e=n.prototype;return e.initCustomAd=function(){this.gridIdArr=i.wechat.bottomGridAd,this.createIndex=0,this.createCustomAd()},e.getCustomAd=function(n,t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=window.wx.createCustomAd({adUnitId:n,adIntervals:o.instance.dataConfig.front_more_gezi_time/1e3,style:t});return r.onError((function(n){console.log("BottomGridAdMgr结算格子加载失败",r),i&&i(),r.offError(),r.offLoad()})),r.onLoad((function(){console.log("BottomGridAdMgr结算格子加载成功"),e&&e(),r.offError(),r.offLoad()})),r},e.createCustomAd=function(){var n=this;if(!(this.createIndex>=this.gridIdArr.length||this.gridAdArr.length>=this.totalCount))var t={left:18,top:this.sysInfo.screenHeight-110,width:this.sysInfo.screenWidth},e=this.getCustomAd(this.gridIdArr[this.createIndex],t,(function(){n.gridAdArr.push(e),n.createIndex++,n.createCustomAd()}),(function(){n.createIndex++,n.createCustomAd()}))},e.showGrid=function(){if(this.getIsError())return this.initCustomAd(),void console.log("BottomGridAdMgr重新创建结算页格子");this.gridAdArr.length>0&&this.gridAdArr[0].show()},e.hideGrid=function(){this.gridAdArr.length>0&&this.gridAdArr[0].hide()},e.getIsError=function(){return this.gridAdArr.length<=0},t(n,[{key:"sysInfo",get:function(){return window.wx.getSystemInfoSync()}}],[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,e._RF.pop()}}})),System.register("chunks:///_virtual/CustomAdMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJMgr.ts"],(function(n){var t,e,i;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){i=n.default}],execute:function(){e._RF.push({},"ec419s347BAg5UnCauMm6Br","CustomAdMgr",void 0),n("default",function(){function n(){this.gridIdArr=[],this.gridAdArr=[],this.totalCount=1,this.createIndex=0,this.showTimes=0,this.currentIndex=0}var e=n.prototype;return e.initCustomAd=function(){this.gridIdArr=i.instance.dataConfig.front_more_gezi_list,this.gridIdArr&&(this.showTimes=0,this.currentIndex=0,this.createIndex=0,this.gridIdArr=i.instance.shuffleArr(this.gridIdArr),this.totalCount=this.gridIdArr.length,this.createCustomAd())},e.getCustomAd=function(n,t,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var r=window.wx.createCustomAd({adUnitId:n,adIntervals:i.instance.dataConfig.front_more_gezi_time/1e3,style:t});return r.onError((function(n){console.log("全屏格子加载失败"),o&&o(),r.offError(),r.offLoad()})),r.onLoad((function(){console.log("全屏格子加载成功"),e&&e(),r.offError(),r.offLoad()})),r},e.createCustomAd=function(){var n=this;if(!(this.createIndex>=this.gridIdArr.length||this.gridAdArr.length>=this.totalCount))var t=this.getCustomAd(this.gridIdArr[this.createIndex],{left:0,top:70},(function(){n.gridAdArr.push(t),n.createIndex++,n.createCustomAd()}),(function(){n.createIndex++,n.createCustomAd()}))},e.showGrid=function(){if(this.getIsError())return console.log("重新创建全屏格子"),void this.initCustomAd();this.gridAdArr.length>0&&(this.gridAdArr[this.currentIndex].show(),this.showTimes++)},e.hideGrid=function(){this.gridAdArr.length>0&&(this.gridAdArr[this.currentIndex].hide(),this.showTimes>=i.instance.dataConfig.front_more_gezi_refresh_num&&(this.showTimes=0,this.currentIndex++,this.currentIndex>=this.gridAdArr.length&&(this.currentIndex=0)))},e.getIsError=function(){return this.gridAdArr.length<=0},e.getIsShow=function(){return!(this.gridAdArr.length<=0)&&this.gridAdArr[this.currentIndex].isShow()},t(n,[{key:"sysInfo",get:function(){return window.wx.getSystemInfoSync()}}],[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,e._RF.pop()}}})),System.register("chunks:///_virtual/DuilianAdMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJMgr.ts","./JJWxTrap.ts"],(function(n){var t,e,i,o;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){i=n.default},function(n){o=n.default}],execute:function(){e._RF.push({},"27e8fERAPBE+IR0ROUK6P70","DuilianAdMgr",void 0),n("default",function(){function n(){this.gridIdArr=[],this.gridAdArr=[],this.hadHide=!1,this.totalCount=2,this.createIndex=0,this.showTimes=0}var e=n.prototype;return e.initCustomAd=function(){i.instance.dataConfig.front_duilian_gezi_switch&&o.Instance.NewWuchu2&&(this.gridIdArr=i.instance.dataConfig.front_duilian_gezi_list,this.gridIdArr&&(this.totalCount=2,this.createIndex=0,this.createCustomAd()))},e.getCustomAd=function(n,t,e,o){var r=this;void 0===e&&(e=null),void 0===o&&(o=null);var a=window.wx.createCustomAd({adUnitId:n,adIntervals:i.instance.dataConfig.front_more_gezi_time/1e3,style:t});return a.onError((function(n){console.log("对联格子加载失败"),o&&o(),a.offError(),a.offLoad()})),a.onLoad((function(){r.hadHide||a.show(),console.log("对联格子加载成功"),e&&e(),a.offError(),a.offLoad()})),a},e.createCustomAd=function(){var n=this;if(!(this.createIndex>=this.gridIdArr.length||this.gridAdArr.length>=this.totalCount))var t={left:0==this.gridAdArr.length?0:this.sysInfo.screenWidth-65,top:120},e=this.getCustomAd(this.gridIdArr[this.createIndex],t,(function(){n.gridAdArr.push(e),n.createIndex++,n.createCustomAd()}),(function(){n.createIndex++,n.createCustomAd()}))},e.showGrid=function(){if(this.getIsError()&&this.showTimes>0)return this.initCustomAd(),void console.log("重新创建对联格子");if(this.gridAdArr.length>0)for(var n=0;n<this.gridAdArr.length;n++)this.gridAdArr[n].show();this.showTimes++},e.hideGrid=function(){if(this.hadHide=!0,this.gridAdArr.length>0)for(var n=0;n<this.gridAdArr.length;n++)this.gridAdArr[n].hide()},e.getIsError=function(){return this.gridAdArr.length<=0},t(n,[{key:"sysInfo",get:function(){return window.wx.getSystemInfoSync()}}],[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,e._RF.pop()}}})),System.register("chunks:///_virtual/DuilianGridAdMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppConfig.ts"],(function(n){var t,e,i;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){i=n.default}],execute:function(){e._RF.push({},"25bb3AzsTZENISdTWbr8TRJ","DuilianGridAdMgr",void 0),n("default",function(){function n(){this.gridIdArr=[],this.gridAdArr=[],this.hadHide=!1,this.totalCount=2,this.createIndex=0,this.showTimes=0}var e=n.prototype;return e.initCustomAd=function(){this.gridIdArr=i.wechat.gridAd,this.totalCount=2,this.createIndex=0,this.createCustomAd()},e.getCustomAd=function(n,t,e,i){var o=this;void 0===e&&(e=null),void 0===i&&(i=null);var r=window.wx.createCustomAd({adUnitId:n,adIntervals:30,style:t});return r.onError((function(n){console.log("DuilianGridAdMgr对联格子加载失败",r),i&&i(),r.offError(),r.offLoad()})),r.onLoad((function(){o.hadHide,console.log("DuilianGridAdMgr对联格子加载成功"),e&&e(),r.offError(),r.offLoad()})),r},e.createCustomAd=function(){var n=this;if(!(this.createIndex>=this.gridIdArr.length||this.gridAdArr.length>=this.totalCount))var t={left:0==this.gridAdArr.length?0:this.sysInfo.screenWidth-65,top:120},e=this.getCustomAd(this.gridIdArr[this.createIndex],t,(function(){n.gridAdArr.push(e),n.createIndex++,n.createCustomAd()}),(function(){n.createIndex++,n.createCustomAd()}))},e.showGrid=function(){if(this.getIsError()&&this.showTimes>0)return this.initCustomAd(),void console.log("重新创建对联格子");if(this.gridAdArr.length>0)for(var n=0;n<this.gridAdArr.length;n++)this.gridAdArr[n].show();this.showTimes++},e.hideGrid=function(){if(this.hadHide=!0,this.gridAdArr.length>0)for(var n=0;n<this.gridAdArr.length;n++)this.gridAdArr[n].hide()},e.getIsError=function(){return this.gridAdArr.length<=0},t(n,[{key:"sysInfo",get:function(){return window.wx.getSystemInfoSync()}}],[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,e._RF.pop()}}})),System.register("chunks:///_virtual/EndBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJMgr.ts","./JJWxTrap.ts","./WxPlatform.ts","./WxPlatformBannerAd.ts"],(function(n){var t,e,i,o,r,a,s,c,u,d,h,l,f,g,p,m;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Node,c=n.ProgressBar,u=n.Quat,d=n.Tween,h=n.tween,l=n.Component},function(n){f=n.default},function(n){g=n.default},function(n){p=n.default},function(n){m=n.default}],execute:function(){var w,v,I,A,_,C,x;r._RF.push({},"df4e76W/H9O8J2rmiwm9eC/","EndBoxUI",void 0);var b=a.ccclass,y=a.property;n("default",(w=b("EndBoxUI"),v=y(s),I=y(c),w((C=t((_=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"box",C,o(t)),i(t,"pBar",x,o(t)),t.ccb=null,t.showCallback=null,t.hadShowBanner=!1,t.preTime=0,t.rateTime=0,t.minclicknum=void 0,t.maxclicknum=void 0,t.needClick=void 0,t.isforce=!1,t.addProgerss=void 0,t.repeatCount=0,t.clickCount=0,t.lianxu_num=void 0,t.quat1=new u,t.quat2=new u,t.quat3=new u,t}e(t,n);var r=t.prototype;return r.onDisable=function(){var n=this;window.wx.offShow(this.showCallback),this.unscheduleAllCallbacks(),m.Instance.hideBannerFun(!0),this.repeatCount>0?g.Instance.com.scheduleOnce((function(){n.showUI(n.lianxu_num,n.ccb),n.repeatCount--}),.1):this.ccb&&this.ccb()},r.showUI=function(n,t){var e=this;this.lianxu_num=n,this.clickCount=0,this.repeatCount<=0&&(this.repeatCount=n),this.minclicknum=Number(f.instance.dataConfig.front_box_clicks[0]),this.maxclicknum=Number(f.instance.dataConfig.front_box_clicks[1]),this.needClick=f.instance.GetRandom(this.minclicknum,this.maxclicknum-f.instance.dataConfig.front_progress_bar_reduce),this.isforce=f.instance.dataConfig.front_is_box_force,this.addProgerss=1/this.maxclicknum,console.log("this.needClick:",this.needClick),console.log("this.addProgerss:",this.addProgerss),m.Instance.hideBannerFun(!0),this.ccb=t,this.node.active=!0,this.hadShowBanner=!1,this.pBar.progress=0,this.rateTime=0,this.preTime=0,this.schedule(this.DecBar),this.showCallback=function(){e.node.active=!1},window.wx.onShow(this.showCallback)},r.closeCB=function(){this.node.active=!1},r.clickCB=function(){var n=this;if(this.clickCount++,this.pBar.progress+=this.addProgerss,this.pBar.progress>1&&(this.pBar.progress=1),this.shakeBox(),!this.hadShowBanner){this.isforce=f.instance.dataConfig.front_is_box_force;var t=f.instance.dataConfig.front_box_hide_time/1e3,e=function(){n.hadShowBanner=!0,n.scheduleOnce((function(){m.Instance.hideBannerFun(!0),n.isforce?(m.Instance.getIsAllError()&&n.closeCB(),n.hadShowBanner=!1):n.closeCB()}),t),p.instance.showBanner()},i=this.rateTime-this.preTime,o=f.instance.dataConfig.front_box_sulv_qujian,r=this.getRandomItemInArr(o).split("|"),a=r[0],s=r[1];if(100*this.pBar.progress>=f.instance.dataConfig.front_box_sulv_start&&parseFloat(a)<=i&&i<=parseFloat(s))return console.log("宝箱触发频率：",i),f.instance.dataConfig.front_sulv_wuchu_switch&&(this.isforce=!0,t=f.instance.dataConfig.front_fbox_hide_time/1e3),void e();if(this.preTime=this.rateTime,this.pBar.progress>=this.needClick*this.addProgerss&&!this.hadShowBanner)return console.log("宝箱触发进度"),void e();this.clickCount>=f.instance.dataConfig.front_box_click_count&&(console.log("点击次数",this.clickCount),this.clickCount=0,e())}},r.shakeBox=function(){d.stopAllByTarget(this.box),u.fromEuler(this.quat1,0,0,-10),u.fromEuler(this.quat2,0,0,10),u.fromEuler(this.quat3,0,0,0),h(this.box).to(.1,{rotation:this.quat1}).to(.2,{rotation:this.quat2}).to(.1,{rotation:this.quat3}).start()},r.DecBar=function(){this.pBar.progress-=f.instance.dataConfig.front_progress_bar_return,this.pBar.progress<0&&(this.pBar.progress=0)},r.update=function(n){this.rateTime+=n},r.GetRandom=function(n,t,e){void 0===e&&(e=!0);var i=t-n,o=Math.random()*i;return o+=n,e?Math.floor(o):o},r.getRandomItemInArr=function(n){return n[Math.floor(Math.random()*n.length)]},t}(l)).prototype,"box",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(_.prototype,"pBar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=_))||A)),r._RF.pop()}}})),System.register("chunks:///_virtual/ExportCrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,o,r,a,s,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.game,r=n.UITransform,a=n.view,s=n.v3,c=n.Component}],execute:function(){var u;e._RF.push({},"7de57dSE4tEJaZ954yYkzmB","ExportCrl",void 0);var d=i.ccclass;i.property,n("default",d("ExportCrl")(u=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var i=e.prototype;return i.onLoad=function(){o.addPersistRootNode(this.node),this.node.getComponent(r).setContentSize(a.getVisibleSize()),this.node.setPosition(s(this.node.getComponent(r).contentSize.width/2,this.node.getComponent(r).contentSize.height/2,0))},i.start=function(){},i.loopTime=function(){this.node.setSiblingIndex(999)},i.showJJUI=function(n,t,e){for(var i=0;i<this.node.children.length;i++)this.node.children[i].setSiblingIndex(0);this.node.getChildByName(n).getComponent(n).showUI(e,t);for(var o=0;o<this.node.children.length;o++)if(this.node.children[o].name==n){this.node.children[o].setSiblingIndex(this.node.children.length);break}},i.closeJJUI=function(n){this.node.getChildByName(n).active=!1},i.closeAllJJUI=function(){for(var n=0;n<this.node.children.length;n++)this.node.children[n].active=!1,this.node.children[n].getComponent(this.node.children[n].name).unscheduleAllCallbacks()},e}(c))||u),e._RF.pop()}}})),System.register("chunks:///_virtual/ExportLibs",["./AppConfig.ts","./AutoScroll.ts","./BasePlatform.ts","./BottomGridAdMgr.ts","./CustomAdMgr.ts","./DuilianAdMgr.ts","./DuilianGridAdMgr.ts","./ExportCrl.ts","./FinishCustomAdMgr.ts","./JJMgr.ts","./jiujiu_pull_sdk.min.mjs_cjs=&original=.js","./jiujiu_sdk.min.mjs_cjs=&original=.js","./jiujiu_sdk_conf.mjs_cjs=&original=.js","./JJWxTrap.ts","./RotateLoop.ts","./ScaleLoop.ts","./UMTrack.ts","./EndBoxUI.ts","./FinishGameUI.ts","./GridUI.ts","./GridUI2.ts","./GridUI3.ts","./GridUI4.ts","./InterstitialAdUI.ts","./RunUI.ts","./ScrollUI.ts","./StartBoxUI.ts","./WxPlatform.ts","./WxPlatformBannerAd.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}})),System.register("chunks:///_virtual/FinishCustomAdMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppConfig.ts","./JJMgr.ts"],(function(n){var t,e,i,o;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){i=n.default},function(n){o=n.default}],execute:function(){e._RF.push({},"7436bmanHxL7pIkGCGrdE3+","FinishCustomAdMgr",void 0),n("default",function(){function n(){this.gridIdArr=[],this.gridAdArr=[],this.totalCount=1,this.createIndex=0}var e=n.prototype;return e.initCustomAd=function(){this.gridIdArr=i.wechat.finishCustomAd,this.createIndex=0,this.createCustomAd()},e.getCustomAd=function(n,t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=window.wx.createCustomAd({adUnitId:n,adIntervals:o.instance.dataConfig.front_more_gezi_time/1e3,style:t});return r.onError((function(n){console.log("结算格子加载失败",r),i&&i(),r.offError(),r.offLoad()})),r.onLoad((function(){console.log("结算格子加载成功"),e&&e(),r.offError(),r.offLoad()})),r},e.createCustomAd=function(){var n=this;if(!(this.createIndex>=this.gridIdArr.length||this.gridAdArr.length>=this.totalCount))var t={left:0,top:this.sysInfo.screenHeight/2-220,width:this.sysInfo.screenWidth},e=this.getCustomAd(this.gridIdArr[this.createIndex],t,(function(){n.gridAdArr.push(e),n.createIndex++,n.createCustomAd()}),(function(){n.createIndex++,n.createCustomAd()}))},e.showGrid=function(){if(this.getIsError())return this.initCustomAd(),void console.log("重新创建结算页格子");this.gridAdArr.length>0&&this.gridAdArr[0].show()},e.hideGrid=function(){this.gridAdArr.length>0&&this.gridAdArr[0].hide()},e.getIsError=function(){return this.gridAdArr.length<=0},t(n,[{key:"sysInfo",get:function(){return window.wx.getSystemInfoSync()}}],[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,e._RF.pop()}}})),System.register("chunks:///_virtual/FinishGameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJMgr.ts","./JJWxTrap.ts"],(function(n){var t,e,i,o,r,a,s,c,u,d,h;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Node,c=n.Component,u=n.Sprite},function(n){d=n.default},function(n){h=n.default}],execute:function(){var l,f,g,p,m;r._RF.push({},"80640I/xFpMor6MfSekWPx9","FinishGameUI",void 0);var w=a.ccclass,v=a.property;n("default",(l=w("FinishGameUI"),f=v(s),l((m=t((p=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"rootNode",m,o(t)),t.navId=0,t.myNavArr=[],t}e(t,n);var r=t.prototype;return r.showUI=function(){this.node.active=!0},r.onEnable=function(){this._init(),this.initNav()},r.onDisable=function(){this.unscheduleAllCallbacks()},r._init=function(){this.navId=0},r.closeCB=function(){this.node.active=!1},r.navCB=function(n,t){console.log("click id:",t),d.instance.NavigateApp(t,(function(){h.Instance.NewWuchu&&d.instance.dataConfig.front_quxiao_switch&&h.Instance.clickFinishMoreGame()}),(function(){}))},r.initNav=function(){var n=this;this.myNavArr=d.instance.shuffleArr([].concat(d.instance.navDataArr));var t=[0,1,2,3,4,5];if(t=this.getRandomItemInArrWithoutSelf(-1,t,4),!(this.myNavArr.length<=0))for(var e=Math.floor(6*Math.random()),i=Math.floor(6*Math.random()),o=function(o){var r=n.rootNode.children[o],a=r.getChildByName("icon").getComponent(u),c=r.getChildByName("finger");r.getChildByName("hot").active=-1!=t.indexOf(o);var h=d.instance.navDataArr.indexOf(n.myNavArr[o]);d.instance.loadImgByUrl(a,n.myNavArr[o].icon),c.active=e==o,r.off(s.EventType.TOUCH_END),r.on(s.EventType.TOUCH_END,(function(t){n.navCB(t,h)}),n),i==o&&n.scheduleOnce((function(){n.rotateLoop(r,.05,14)}),.5)},r=0;r<6;r++)o(r)},r.rotateLoop=function(n,t,e){},r.shuffleArr=function(n){for(var t=n.length;t;){var e=Math.floor(Math.random()*t--),i=[n[t],n[e]];n[e]=i[0],n[t]=i[1]}return n},r.getRandomItemInArrWithoutSelf=function(n,t,e){void 0===e&&(e=1);var i=[].concat(t);return i.splice(i.indexOf(n),1),(i=this.shuffleArr(i)).slice(0,e)},t}(c)).prototype,"rootNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=p))||g)),r._RF.pop()}}})),System.register("chunks:///_virtual/GridUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomAdMgr.ts","./JJMgr.ts","./JJWxTrap.ts","./WxPlatform.ts","./WxPlatformBannerAd.ts"],(function(n){var t,e,i,o,r,a,s,c,u;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.Component},function(n){r=n.default},function(n){a=n.default},function(n){s=n.default},function(n){c=n.default},function(n){u=n.default}],execute:function(){var d;e._RF.push({},"0dfda1dSlxH5KlORPyKdl2Q","GridUI",void 0);var h=i.ccclass;i.property,n("default",h("GridUI")(d=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).ccb=null,t.hadClick=!1,t.isShowHide=!1,t}t(e,n);var i=e.prototype;return i.onDisable=function(){this.unscheduleAllCallbacks(),this.ccb&&this.ccb()},i.showUI=function(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.ccb=n,e||s.Instance.NewWuchu2&&a.instance.dataConfig.front_all_gezi_switch?(r.instance.showGrid(),t&&s.Instance.NewWuchu&&a.instance.dataConfig.front_wx_chaping_switch&&c.instance.showInterAd(),this.node.active=!0,this.hadClick=!1,this.isShowHide=!1,this.isShowHide=100*Math.random()<a.instance.dataConfig.front_hot_youxi,a.instance.dataConfig.is_allow_area&&s.Instance.allowScene()&&this.isShowHide&&u.Instance.showHideBanner()):this.ccb&&this.ccb()},i.continueBtnCB=function(){s.Instance.NewWuchu&&this.isShowHide&&!this.hadClick?this.hadClick=!0:(u.Instance.clearShowHideBanner(),r.instance.hideGrid(),this.node.active=!1)},e}(o))||d),e._RF.pop()}}})),System.register("chunks:///_virtual/GridUI2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomAdMgr.ts","./JJMgr.ts","./JJWxTrap.ts","./WxPlatformBannerAd.ts"],(function(n){var t,e,i,o,r,a,s,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.Component},function(n){r=n.default},function(n){a=n.default},function(n){s=n.default},function(n){c=n.default}],execute:function(){var u;e._RF.push({},"cdc62eeIYZLe5xXGUsb477K","GridUI2",void 0);var d=i.ccclass;i.property,n("default",d("GridUI2")(u=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).ccb=null,t.hadClick=!1,t.isShowHide=!1,t}t(e,n);var i=e.prototype;return i.onDisable=function(){this.unscheduleAllCallbacks(),this.ccb&&this.ccb()},i.showUI=function(n,t){this.ccb=n,s.Instance.NewWuchu2&&a.instance.dataConfig.front_gezi_two_switch?(r.instance.showGrid(),this.node.active=!0,this.hadClick=!1,this.isShowHide=!1,this.isShowHide=100*Math.random()<a.instance.dataConfig.front_hot_tuijian,a.instance.dataConfig.is_allow_area&&s.Instance.allowScene()&&this.isShowHide&&c.Instance.showHideBanner()):this.ccb&&this.ccb()},i.continueBtnCB=function(){s.Instance.NewWuchu&&this.isShowHide&&!this.hadClick?this.hadClick=!0:(c.Instance.clearShowHideBanner(),r.instance.hideGrid(),this.node.active=!1)},i.adBtnCB=function(){this.continueBtnCB()},e}(o))||u),e._RF.pop()}}})),System.register("chunks:///_virtual/GridUI3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomAdMgr.ts","./JJMgr.ts","./JJWxTrap.ts","./WxPlatformBannerAd.ts"],(function(n){var t,e,i,o,r,a,s,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.Component},function(n){r=n.default},function(n){a=n.default},function(n){s=n.default},function(n){c=n.default}],execute:function(){var u;e._RF.push({},"f4d32yLQ4hFGJDz6cNmp51R","GridUI3",void 0);var d=i.ccclass;i.property,n("default",d("GridUI3")(u=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).ccb=null,t.hadClick=!1,t.isShowHide=!1,t}t(e,n);var i=e.prototype;return i.onDisable=function(){this.unscheduleAllCallbacks(),this.ccb&&this.ccb()},i.showUI=function(n){this.ccb=n,s.Instance.NewWuchu2&&a.instance.dataConfig.front_play_gezi_switch?(r.instance.showGrid(),this.node.active=!0,this.hadClick=!1,this.isShowHide=!1,this.isShowHide=100*Math.random()<a.instance.dataConfig.front_hot_xiaochengxu,a.instance.dataConfig.is_allow_area&&s.Instance.allowScene()&&this.isShowHide&&c.Instance.showHideBanner()):this.ccb&&this.ccb()},i.continueBtnCB=function(){s.Instance.NewWuchu&&this.isShowHide&&!this.hadClick?this.hadClick=!0:(c.Instance.clearShowHideBanner(),r.instance.hideGrid(),this.node.active=!1)},i.adBtnCB=function(){this.continueBtnCB()},e}(o))||u),e._RF.pop()}}})),System.register("chunks:///_virtual/GridUI4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomAdMgr.ts","./JJMgr.ts","./JJWxTrap.ts","./WxPlatformBannerAd.ts"],(function(n){var t,e,i,o,r,a,s,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.Component},function(n){r=n.default},function(n){a=n.default},function(n){s=n.default},function(n){c=n.default}],execute:function(){var u;e._RF.push({},"aa08aVYJXpArovnELS81Mhd","GridUI4",void 0);var d=i.ccclass;i.property,n("default",d("GridUI4")(u=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).ccb=null,t.hadClick=!1,t.isShowHide=!1,t.hadShow=void 0,t}t(e,n);var i=e.prototype;return i.onDisable=function(){this.unscheduleAllCallbacks(),this.ccb&&this.ccb()},i.showUI=function(n,t){this.ccb=n,s.Instance.NewWuchu2&&a.instance.dataConfig.front_gezi_two_switch?(this.node.active=!0,this.schedule(this.testGrid,1),this.hadClick=!1,c.Instance.showHideBanner()):this.ccb&&this.ccb()},i.testGrid=function(){r.instance.gridAdArr.length>0&&!this.hadShow&&(this.hadShow=!0,r.instance.showGrid())},i.continueBtnCB=function(){!s.Instance.NewWuchu||this.hadClick?(c.Instance.clearShowHideBanner(),r.instance.hideGrid(),this.unschedule(this.testGrid),this.node.active=!1):this.hadClick=!0},i.adBtnCB=function(){this.continueBtnCB()},e}(o))||u),e._RF.pop()}}})),System.register("chunks:///_virtual/InterstitialAdUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomAdMgr.ts","./JJMgr.ts","./JJWxTrap.ts","./WxPlatform.ts","./WxPlatformBannerAd.ts"],(function(n){var t,e,i,o,r,a,s,c,u,d,h,l,f,g,p,m,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Node,c=n.ProgressBar,u=n.Quat,d=n.Tween,h=n.tween,l=n.Component},function(n){f=n.default},function(n){g=n.default},function(n){p=n.default},function(n){m=n.default},function(n){w=n.default}],execute:function(){var v,I,A,_,C,x,b;r._RF.push({},"f8a21SuRo5ISan4Crrw3Ks3","InterstitialAdUI",void 0);var y=a.ccclass,B=a.property;n("default",(v=y("InterstitialAdUI"),I=B(s),A=B(c),v((x=t((C=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"box",x,o(t)),i(t,"pBar",b,o(t)),t.ccb=null,t.showCallback=null,t.hadShowBanner=!1,t.preTime=0,t.rateTime=0,t.minclicknum=void 0,t.maxclicknum=void 0,t.needClick=void 0,t.isforce=!1,t.addProgerss=void 0,t.repeatCount=0,t.isRepeat=void 0,t.lianxu_num=void 0,t.quat1=new u,t.quat2=new u,t.quat3=new u,t}e(t,n);var r=t.prototype;return r.onDisable=function(){var n=this;window.wx.offShow(this.showCallback),this.unscheduleAllCallbacks(),w.Instance.hideBannerFun(!0),this.repeatCount>0?p.Instance.com.scheduleOnce((function(){n.showUI(n.isRepeat,n.lianxu_num,n.ccb),n.repeatCount--}),.1):this.ccb&&this.ccb()},r.showUI=function(n,t,e){var i=this;this.lianxu_num=t,this.isRepeat=n,n&&this.repeatCount<=0&&(this.repeatCount=t),this.minclicknum=Number(g.instance.dataConfig.front_box_clicks[0]),this.maxclicknum=Number(g.instance.dataConfig.front_box_clicks[1]),this.needClick=g.instance.GetRandom(this.minclicknum,this.maxclicknum-g.instance.dataConfig.front_progress_bar_reduce),this.isforce=g.instance.dataConfig.front_is_box_force,this.addProgerss=1/this.maxclicknum,console.log("this.needClick:",this.needClick),console.log("this.addProgerss:",this.addProgerss),this.ccb=e,this.node.active=!0,this.hadShowBanner=!1,this.pBar.progress=0,this.rateTime=0,this.preTime=0,this.schedule(this.DecBar),this.showCallback=function(){i.node.active=!1},window.wx.onShow(this.showCallback),m.instance.showBanner()},r.closeCB=function(){this.node.active=!1},r.onCloseInter=function(){},r.clickCB=function(){var n=this;if(this.pBar.progress+=this.addProgerss,this.pBar.progress>1&&(this.pBar.progress=1),this.shakeBox(),!this.hadShowBanner){this.isforce=g.instance.dataConfig.front_is_box_force;var t=g.instance.dataConfig.front_box_hide_time/1e3,e=function(){n.hadShowBanner=!0,n.scheduleOnce((function(){f.instance.getIsShow()||(n.repeatCount=0),n.isforce?(f.instance.getIsError()&&n.closeCB(),n.hadShowBanner=!1):n.closeCB()}),t),m.instance.showInterAd()},i=this.rateTime-this.preTime,o=g.instance.dataConfig.front_box_sulv_qujian,r=this.getRandomItemInArr(o).split("|"),a=r[0],s=r[1];if(100*this.pBar.progress>=g.instance.dataConfig.front_box_sulv_start&&parseFloat(a)<=i&&i<=parseFloat(s))return console.log("宝箱触发频率：",i),g.instance.dataConfig.front_sulv_wuchu_switch&&(this.isforce=!0,t=g.instance.dataConfig.front_fbox_hide_time/1e3),void e();this.preTime=this.rateTime,this.pBar.progress>=this.needClick*this.addProgerss&&!this.hadShowBanner&&(console.log("宝箱触发进度"),e())}},r.shakeBox=function(){d.stopAllByTarget(this.box),u.fromEuler(this.quat1,0,0,-10),u.fromEuler(this.quat2,0,0,10),u.fromEuler(this.quat3,0,0,0),h(this.box).to(.1,{rotation:this.quat1}).to(.2,{rotation:this.quat2}).to(.1,{rotation:this.quat3}).start()},r.DecBar=function(){this.pBar.progress-=g.instance.dataConfig.front_progress_bar_return,this.pBar.progress<0&&(this.pBar.progress=0)},r.update=function(n){this.rateTime+=n},r.GetRandom=function(n,t,e){void 0===e&&(e=!0);var i=t-n,o=Math.random()*i;return o+=n,e?Math.floor(o):o},r.getRandomItemInArr=function(n){return n[Math.floor(Math.random()*n.length)]},t}(l)).prototype,"box",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(C.prototype,"pBar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=C))||_)),r._RF.pop()}}})),System.register("chunks:///_virtual/JJMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./jiujiu_sdk_conf.mjs_cjs=&original=.js","./jiujiu_sdk.min.mjs_cjs=&original=.js","./jiujiu_pull_sdk.min.mjs_cjs=&original=.js","./CustomAdMgr.ts","./DuilianAdMgr.ts","./FinishCustomAdMgr.ts","./JJWxTrap.ts","./WxPlatform.ts","./WxPlatformBannerAd.ts","./UMTrack.ts","./DuilianGridAdMgr.ts","./BottomGridAdMgr.ts"],(function(n){var t,e,i,o,r,a,s,c,u,d,h,l,f,g;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,i=n._decorator,o=n.loader,r=n.SpriteFrame},null,null,null,function(n){a=n.default},function(n){s=n.default},function(n){c=n.default},function(n){u=n.default},function(n){d=n.default},function(n){h=n.default},function(n){l=n.UMTrack},function(n){f=n.default},function(n){g=n.default}],execute:function(){var p,m;n("SceneDir",void 0),e._RF.push({},"38cb7OqDnxCvLb5ThetVf7F","JJMgr",void 0);var w,v=i.ccclass;i.property,function(n){n.SCENE_FRIENDGAME="FriendGameUI",n.SCENE_SCROLLUI="ScrollUI",n.SCENE_RECOMMENDUI="RecommendUI",n.SCENE_FULLGAMEUI="FullGameUI",n.SCENE_FINISHGAMEUI="FinishGameUI",n.SCENE_DRAWUI="DrawUI",n.SCENE_PROGRAMUI="ProgramUI",n.SCENE_WECHATUI="WeChatUI",n.SCENE_STARTNAVUI="StartNavUI",n.SCENE_GAMENAVUI="GameNavUI",n.SCENE_MADUI1="MadUI1",n.SCENE_MADUI2="MadUI2",n.SCENE_HALLUI="HallUI"}(w||(w=n("SceneDir",{})));var I=function(){this.appid=void 0,this.icon=void 0,this.path=void 0,this.title=void 0,this.subtitle=void 0,this.id=void 0};n("default",v("JJMgr")(((m=function(){function n(){this.dataConfig={},this.navDataArr=[],this.isFinished=!1,this.shareConfig=void 0}var e=n.prototype;return e.initJJ=function(t){var e=this;l.instance.init();var i=window.wx.getEnterOptionsSync().scene;console.log(window.wx.getEnterOptionsSync()),console.log("本次场景值：",i),window.JJGetGameConfigAdShare().then((function(i){console.log(i),e.updateDataConfig(i.data.config),e.isFinished=e.dataConfig.front_all_export_switch,e.updateNavData(i.data.ad);var o=i.data.share[0];n.instance.dataConfig.front_share_config={title:o.share_content,image:o.share_img,id:o.id},e.shareContext=o,window.wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});var r=n.instance.dataConfig.front_share_config.image,l=n.instance.dataConfig.front_share_config.title;window.wx.JJOnShareAppMessage((function(){return{title:l,imageUrl:r}})),d.instance.init(),s.instance.initCustomAd(),f.instance.initCustomAd(),a.instance.initCustomAd(),d.instance.createGameCustomAd(),d.instance.createInterAd(),d.instance.loadVideoAd(),c.instance.initCustomAd(),g.instance.initCustomAd();var p=n.instance.dataConfig.front_banner_ids;h.Instance.initAd(p),u.Instance.NewWuchu&&n.instance.dataConfig.front_leave_return_switch&&window.wx.onShow((function(){d.instance.showInterAd()})),t&&t()}),(function(){e.dataConfig.front_all_export_switch=!1,e.dataConfig.is_allow_area=!1,e.dataConfig.front_share_config={title:"",image:"",id:-1},t&&t()}))},e.updateDataConfig=function(n){var t=n.data;for(var e in this.dataConfig.is_allow_area=n.is_allow_area,this.dataConfig.is_allow_export=n.is_allow_export,this.dataConfig.front_wuchu_scene=n.front_wuchu_scene,t)this.dataConfig[e]=t[e].config_val;console.log(this.dataConfig)},e.updateNavData=function(n){this.navDataArr=[];for(var t=0;t<n.length;t++){var e=n[t],i=new I;i.appid=e.channel_game_appid,i.title=e.channel_game_name,i.path=e.path,i.subtitle=e.originality.copywriting,i.icon=e.originality.material,i.id=e.originality.id,this.navDataArr.push(i)}},e.JJSendEvent=function(n,t){window.wx.JJSendEvent((function(){return{name:n,param:t}}))},e.NavigateApp=function(n,t,e,i){var o=this;void 0===i&&(i=!1),this.navDataArr.length>0&&window.wx.JJNavigateToMiniProgram((function(){return{appId:o.navDataArr[n].appid,path:o.navDataArr[n].path,id:o.navDataArr[n].id}})).then((function(n){console.log("success"),e&&e()}),(function(n){console.log("fail"),(-1!=n.errMsg.indexOf("cancel")||i)&&t&&t()}))},e.getSubtitle=function(n){return this.navDataArr[n].subtitle&&""!=this.navDataArr[n].subtitle?this.navDataArr[n].subtitle:this.navDataArr[n].title},e.loadImgByUrl=function(n,t,e,i){void 0===e&&(e="png"),o.load({url:t,type:e},(function(t,e){!t&&n&&e&&n.spriteFrame&&(n.spriteFrame=new r,n.spriteFrame.texture=e,i&&i())}))},e.loadSpriteFrame=function(n,t,e){o.loadRes(n,r,(function(n,i){t.spriteFrame=i,e&&e()}))},e.shuffleArr=function(n){for(var t=n.length;t;){var e=Math.floor(Math.random()*t--),i=[n[t],n[e]];n[e]=i[0],n[t]=i[1]}return n},e.GetRandom=function(n,t,e){void 0===e&&(e=!0);var i=t-n+1,o=Math.random()*i;return o+=n,e?Math.floor(o):o},t(n,[{key:"shareContext",get:function(){return this.shareConfig},set:function(n){this.shareConfig=n}}],[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,p=m))||p),e._RF.pop()}}})),System.register("chunks:///_virtual/JJWxTrap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DuilianAdMgr.ts","./ExportCrl.ts","./FinishCustomAdMgr.ts","./JJMgr.ts","./EndBoxUI.ts","./FinishGameUI.ts","./GridUI.ts","./GridUI2.ts","./GridUI3.ts","./GridUI4.ts","./RunUI.ts","./StartBoxUI.ts","./WxPlatform.ts","./WxPlatformBannerAd.ts"],(function(n){var t,e,i,o,r,a,s,c,u,d,h,l,f,g,p,m,w;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,i=n.find},function(n){o=n.default},function(n){r=n.default},function(n){a=n.default},function(n){s=n.default},function(n){c=n.default},function(n){u=n.default},function(n){d=n.default},function(n){h=n.default},function(n){l=n.default},function(n){f=n.default},function(n){g=n.default},function(n){p=n.default},function(n){m=n.default},function(n){w=n.default}],execute:function(){e._RF.push({},"0b7f71mekdODZV20fn3yQ+y","JJWxTrap",void 0),n("default",function(){function n(){this.isSplash=!1,this.gridInt=void 0,this.dataConfig=s.instance.dataConfig,this._levelObj=void 0,this._Level=0,this.moreGameBtn=void 0,this.drawBtn=void 0}var e=n.prototype;return e.allowScene=function(){if(!this.dataConfig.front_wuchu_scene)return!0;var n=window.wx.getEnterOptionsSync().scene,t=window.wx.getEnterOptionsSync().query,e=Number(localStorage.getItem("localScene"));e||(e=n,localStorage.setItem("localScene",e.toString()),t.wxgamecid&&localStorage.setItem("wxgamecid",t.wxgamecid.toString())),this.dataConfig.front_first_scv_swtich&&(n=e);var i=localStorage.getItem("wxgamecid");this.dataConfig.front_is_source||(i="true");var o=this.dataConfig.front_wuchu_scene.toString();if(-1==o.search("|"))return parseInt(o)!=n;for(var r=o.split("|"),a=0;a<r.length;a++)if(parseInt(r[a])==n&&i)return!0;return!1},e.inHomePage=function(t,e){var i=this;console.log("本地保存场景值：",localStorage.getItem("localScene")),console.log("本地保存路径值：",localStorage.getItem("wxgamecid")),console.log("allowScene:",this.allowScene()),this.moreGameBtn=t,this.drawBtn=e,t&&this.com.schedule(n.Instance.updateMoreGameBtn,.1),e&&this.com.schedule(n.Instance.updateDrawBtn,.1),o.instance.hideGrid(),new Promise((function(t,e){!i.isSplash&&n.Instance.NewWuchu2&&s.instance.dataConfig.front_home_hot_tuijian?i.showGridUI4((function(){t(0)}),!0):t(0)})).then((function(t){return new Promise((function(t,e){!i.isSplash&&n.Instance.NewWuchu2&&100*Math.random()<s.instance.dataConfig.front_home_vi_chance?(m.instance.showVideoAd(null,(function(){})),t(1)):t(1)}))})).then((function(t){return new Promise((function(t,e){!i.isSplash&&n.Instance.NewWuchu2&&100*Math.random()<s.instance.dataConfig.front_home_box_chance?i.showHomeBox((function(){t(2)})):t(2)}))})).then((function(n){return new Promise((function(n,t){i.gridInt=setInterval((function(){i.testGrid()}),1e3),n(3)}))})).then((function(n){i.isSplash=!0}))},e.testGrid=function(){o.instance.gridAdArr.length>0&&(o.instance.showGrid(),clearInterval(this.gridInt))},e.updateMoreGameBtn=function(){n.Instance.moreGameBtn.active=n.Instance.NewWuchu2&&s.instance.dataConfig.front_haowan_switch},e.updateDrawBtn=function(){n.Instance.drawBtn.active=n.Instance.NewWuchu2&&s.instance.dataConfig.front_chouti_switch},e.clickShop=function(){o.instance.hideGrid(),w.Instance.hideBannerFun(!0),this.com.unschedule(n.Instance.updateMoreGameBtn),this.com.unschedule(n.Instance.updateDrawBtn)},e.clickStartGame=function(t){var e=this;o.instance.hideGrid(),w.Instance.hideBannerFun(!0),this.com.unschedule(n.Instance.updateMoreGameBtn),this.com.unschedule(n.Instance.updateDrawBtn),n.Instance.NewWuchu2?new Promise((function(n,t){e.showGridUI3((function(){n(0)}))})).then((function(n){return new Promise((function(n,t){100*Math.random()<s.instance.dataConfig.front_start_vi_chance?(m.instance.showVideoAd(null,(function(n){})),n(1)):n(1)}))})).then((function(n){return new Promise((function(n,t){e.showStartBox((function(){n(2)}))}))})).then((function(n){m.instance.showGameGridAd(),t&&t()})):t&&t()},e.clickHomeMoreGame=function(){o.instance.hideGrid(),w.Instance.hideBannerFun(!0),this.showGridUI((function(){o.instance.showGrid()}),!1,!0)},e.clickDraw=function(){o.instance.hideGrid(),w.Instance.hideBannerFun(!0),this.showGridUI((function(){o.instance.showGrid()}),!1,!0)},e.clickFinishMoreGame=function(){var n=this;i("CanvasJJ/ExportNode/FinishGameUI").active=!1,i("CanvasJJ/ExportNode/ScrollUI").active=!1,a.instance.hideGrid(),m.instance.hideGameGridAd(),w.Instance.hideBannerFun(!0),this.showGridUI((function(){m.instance.showGameGridAd(),!m.instance.showBanner()&&n.NewWuchu&&s.instance.dataConfig.front_daochulan_switch&&n.showFinishScroll(),n.dataConfig.front_jiesuanye_switch&&n.NewWuchu&&(100*Math.random()<n.dataConfig.front_daochu_gezi_chance?n.showFinishExport():a.instance.showGrid())}),!1,!0)},e.showGameBanner=function(){this.NewWuchu&&s.instance.dataConfig.front_game_banner_switch&&w.Instance.showBannerFun2()},e.showGameOver=function(n){var t=this;m.instance.hideGameGridAd(),w.Instance.hideBannerFun(!0),this.showGridUI((function(){t.showEndBox(n)}),!0)},e.showFinishUI=function(t){w.Instance.hideBannerFun(!0),m.instance.showGameGridAd(),t&&(t.active=n.Instance.NewWuchu&&s.instance.dataConfig.front_chouti_switch),w.Instance.showBannerFun2(),this.NewWuchu&&s.instance.dataConfig.front_daochulan_switch&&this.showFinishScroll(),this.dataConfig.front_jiesuanye_switch&&this.NewWuchu&&(100*Math.random()<this.dataConfig.front_daochu_gezi_chance?this.showFinishExport():a.instance.showGrid()),n.Instance.NewWuchu&&s.instance.dataConfig.front_jiesaunye_chaping_switch&&m.instance.showInterAd()},e.closeFinishUI=function(n){var t=this;a.instance.hideGrid(),m.instance.hideGameGridAd(),w.Instance.hideBannerFun(!0),i("CanvasJJ/ExportNode/FinishGameUI").active=!1,i("CanvasJJ/ExportNode/ScrollUI").active=!1,new Promise((function(n,e){t.NewWuchu2&&100*Math.random()<s.instance.dataConfig.front_jiesuanye_vi_chance?m.instance.showVideoAd(null,(function(t){n(1)})):n(1)})).then((function(n){return new Promise((function(n,e){t.showGridUI2((function(){setTimeout((function(){n(2)}),100),t.dataConfig.front_wx_ad_switch&&t.NewWuchu&&m.instance.showInterAd()}),!0)}))})).then((function(t){n&&n()}))},e.showGridUI=function(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),i("CanvasJJ/ExportNode/GridUI").getComponent(d).showUI(n,t,e)},e.showGridUI2=function(n,t){void 0===t&&(t=!1),i("CanvasJJ/ExportNode/GridUI2").getComponent(h).showUI(n,t)},e.showGridUI3=function(n){i("CanvasJJ/ExportNode/GridUI3").getComponent(l).showUI(n)},e.showGridUI4=function(n,t){void 0===t&&(t=!1),i("CanvasJJ/ExportNode/GridUI4").getComponent(f).showUI(n,t)},e.showRunUI=function(n){i("CanvasJJ/ExportNode/RunUI").getComponent(g).showUI(n)},e.showFinishExport=function(){i("CanvasJJ/ExportNode/FinishGameUI").getComponent(u).showUI()},e.showFinishScroll=function(){i("CanvasJJ/ExportNode/ScrollUI").active=!0},e.showHomeBox=function(n){i("CanvasJJ/ExportNode/StartBoxUI").getComponent(p).showUI(!1,s.instance.dataConfig.front_fbox_lianxu_num,n)},e.showStartBox=function(t){console.log("开始按钮",s.instance.dataConfig.front_fbox_wuchu_change,s.instance.dataConfig.front_level_fbox_num,this.Level,n.Instance.NewWuchu2),this.getRandom0To100<s.instance.dataConfig.front_fbox_wuchu_change&&s.instance.dataConfig.front_level_fbox_num<=this.Level&&n.Instance.NewWuchu2?1==s.instance.dataConfig.front_fbox_status?i("CanvasJJ/ExportNode/EndBoxUI").getComponent(c).showUI(s.instance.dataConfig.front_fbox_lianxu_num,t):2==s.instance.dataConfig.front_fbox_status?i("CanvasJJ/ExportNode/StartBoxUI").getComponent(p).showUI(!0,s.instance.dataConfig.front_fbox_lianxu_num,t):t&&t():t&&t()},e.showEndBox=function(t){this.getRandom0To100<s.instance.dataConfig.front_tbox_wuchu_change&&s.instance.dataConfig.front_level_tbox_num<=this.Level&&n.Instance.NewWuchu2?1==s.instance.dataConfig.front_tbox_status?i("CanvasJJ/ExportNode/EndBoxUI").getComponent(c).showUI(s.instance.dataConfig.front_tbox_lianxu_num,t):2==s.instance.dataConfig.front_tbox_status?i("CanvasJJ/ExportNode/StartBoxUI").getComponent(p).showUI(!0,s.instance.dataConfig.front_tbox_lianxu_num,t):t&&t():t&&t()},e.getRandomIndex=function(){return Math.floor(Math.random()*s.instance.navDataArr.length)},e.inGame=function(t,e){t&&(t.active=n.Instance.NewWuchu&&s.instance.dataConfig.front_chouti_switch),e&&(e.active=n.Instance.NewWuchu&&s.instance.dataConfig.front_jingxi_gezi_switch)},t(n,[{key:"Level",get:function(){return this._Level},set:function(n){this._Level=n}},{key:"NewWuchu",get:function(){return!0}},{key:"NewWuchu2",get:function(){return s.instance.dataConfig.is_allow_area&&this.allowScene()}},{key:"com",get:function(){return i("CanvasJJ/ExportNode").getComponent(r)}},{key:"getRandom0To100",get:function(){return 100*Math.random()}}],[{key:"Instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}())._instance=void 0,e._RF.pop()}}})),System.register("chunks:///_virtual/RotateLoop.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,o,r,a,s,c;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Quat,c=n.Component}],execute:function(){var u,d,h,l;r._RF.push({},"0afa6Tmq7VA1b5TmLrh73qC","RotateLoop",void 0);var f=a.ccclass,g=a.property;n("default",f("RotateLoop")((h=t((d=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"duration",h,o(t)),i(t,"angle",l,o(t)),t.quat=new s,t}e(t,n);var r=t.prototype;return r.start=function(){},r.update=function(n){s.rotateZ(this.quat,this.node.getRotation(),-1/15),this.node.setRotation(this.quat)},t}(c)).prototype,"duration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),l=t(d.prototype,"angle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 360}}),u=d))||u),r._RF.pop()}}})),System.register("chunks:///_virtual/RunUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJMgr.ts","./JJWxTrap.ts","./WxPlatform.ts","./WxPlatformBannerAd.ts"],(function(n){var t,e,i,o,r,a,s,c,u,d,h,l,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Node,c=n.Animation,u=n.Component},function(n){d=n.default},function(n){h=n.default},function(n){l=n.default},function(n){f=n.default}],execute:function(){var g,p,m,w,v;r._RF.push({},"f6d82FFNM9AN4CbUkKi1ko1","RunUI",void 0);var I=a.ccclass,A=a.property;n("default",(g=I("RunUI"),p=A(s),g((v=t((w=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"Man",v,o(t)),t.ccb=null,t.hadClick=!1,t}e(t,n);var r=t.prototype;return r.onDisable=function(){this.unscheduleAllCallbacks(),this.ccb&&this.ccb()},r.showUI=function(n){this.ccb=n,h.Instance.NewWuchu&&d.instance.dataConfig.front_run_switch?(this.Man.getComponent(c).getState("RenRun").speed=.4,this.Man.getComponent(c).play("RenIdle"),this.Man.children[0].getComponent(c).play("Ren"),this.hadClick=!1,l.instance.showBanner(),this.node.active=!0):this.ccb&&this.ccb()},r.continueBtnCB=function(){var n=this;this.hadClick||(this.hadClick=!0,f.Instance.hideBannerFun(!0),this.Man.getComponent(c).play("RenRun"),this.scheduleOnce((function(){n.node.active=!1}),1.5))},r.adBtnCB=function(){var n=this;this.hadClick||l.instance.showVideoAd((function(){n.Man.children[0].getComponent(c).play("Ren1"),n.Man.getComponent(c).getState("RenRun").speed=.4,n.continueBtnCB()}),(function(){n.hadClick=!1}))},t}(u)).prototype,"Man",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m)),r._RF.pop()}}})),System.register("chunks:///_virtual/ScaleLoop.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,o,r,a,s,c,u,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Tween,c=n.tween,u=n.v3,d=n.Component}],execute:function(){var h,l,f,g,p;r._RF.push({},"246fenS1MtHwp4bZ/jx74nP","ScaleLoop",void 0);var m=a.ccclass,w=a.property;n("default",m("ScaleLoop")((f=t((l=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"originScale",f,o(t)),i(t,"targetScale",g,o(t)),i(t,"scaleDuration",p,o(t)),t}return e(t,n),t.prototype.start=function(){s.stopAllByTarget(this.node),c(this.node).to(this.scaleDuration,{scale:u(this.targetScale,this.targetScale,0)}).to(.2,{scale:u(this.originScale,this.originScale,0)}).union().repeatForever().start()},t}(d)).prototype,"originScale",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=t(l.prototype,"targetScale",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.1}}),p=t(l.prototype,"scaleDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),h=l))||h),r._RF.pop()}}})),System.register("chunks:///_virtual/ScrollUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJMgr.ts","./JJWxTrap.ts"],(function(n){var t,e,i,o,r,a,s,c,u,d,h,l,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Node,c=n.Component,u=n.instantiate,d=n.v3,h=n.Sprite},function(n){l=n.default},function(n){f=n.default}],execute:function(){var g,p,m,w,v,I,A;r._RF.push({},"031b7VcdSJJzpl/U/4pTZPt","ScrollUI",void 0);var _=a.ccclass,C=a.property;n("default",(g=_("ScrollUI"),p=C(s),m=C(s),g((I=t((v=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"item",I,o(t)),i(t,"content",A,o(t)),t.myNavArr=[],t.fingerArr=[],t.hotArr=[],t}e(t,n);var r=t.prototype;return r.onEnable=function(){this.myNavArr=[].concat(l.instance.navDataArr);for(var n=[],t=[],e=0;e<l.instance.navDataArr.length;e++)n.push(e),t.push(e);this.hotArr=this.getRandomItemInArrWithoutSelf(-1,n,6),this.fingerArr=this.getRandomItemInArrWithoutSelf(-1,t,6),this._init()},r.onDisable=function(){this.unscheduleAllCallbacks(),this.content.destroyAllChildren()},r._init=function(){for(var n=this,t=function(t){var e=u(n.item);e.active=!0,e.setPosition(d(0,0,0)),n.content.addChild(e);var i=e.getChildByName("icon").getComponent(h),o=e.getChildByName("finger"),r=e.getChildByName("hot");o.active=-1!=n.fingerArr.indexOf(t),r.active=-1!=n.hotArr.indexOf(t),l.instance.loadImgByUrl(i,n.myNavArr[t].icon),e.on(s.EventType.TOUCH_END,(function(e){n.navCB(t)}),n)},e=0;e<this.myNavArr.length;e++)t(e)},r.navCB=function(n){console.log("click id:",n),l.instance.NavigateApp(n,(function(){f.Instance.NewWuchu&&l.instance.dataConfig.front_quxiao_switch&&f.Instance.clickFinishMoreGame()}),(function(){}))},r.shuffleArr=function(n){for(var t=n.length;t;){var e=Math.floor(Math.random()*t--),i=[n[t],n[e]];n[e]=i[0],n[t]=i[1]}return n},r.getRandomItemInArrWithoutSelf=function(n,t,e){void 0===e&&(e=1);var i=[].concat(t);return i.splice(i.indexOf(n),1),(i=this.shuffleArr(i)).slice(0,e)},t}(c)).prototype,"item",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(v.prototype,"content",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=v))||w)),r._RF.pop()}}})),System.register("chunks:///_virtual/StartBoxUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CustomAdMgr.ts","./JJMgr.ts","./JJWxTrap.ts","./WxPlatform.ts","./WxPlatformBannerAd.ts"],(function(n){var t,e,i,o,r,a,s,c,u,d,h,l,f,g,p,m,w;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Node,c=n.ProgressBar,u=n.Quat,d=n.Tween,h=n.tween,l=n.Component},function(n){f=n.default},function(n){g=n.default},function(n){p=n.default},function(n){m=n.default},function(n){w=n.default}],execute:function(){var v,I,A,_,C,x,b;r._RF.push({},"b0157ssWNtAxaIU6RwO1Rvo","StartBoxUI",void 0);var y=a.ccclass,B=a.property;n("default",(v=y("StartBoxUI"),I=B(s),A=B(c),v((x=t((C=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"box",x,o(t)),i(t,"pBar",b,o(t)),t.ccb=null,t.showCallback=null,t.hadShowBanner=!1,t.preTime=0,t.rateTime=0,t.minclicknum=void 0,t.maxclicknum=void 0,t.needClick=void 0,t.isforce=!1,t.addProgerss=void 0,t.repeatCount=0,t.isRepeat=void 0,t.clickCount=0,t.lianxu_num=void 0,t.quat1=new u,t.quat2=new u,t.quat3=new u,t}e(t,n);var r=t.prototype;return r.onDisable=function(){var n=this;window.wx.offShow(this.showCallback),this.unscheduleAllCallbacks(),f.instance.hideGrid(),w.Instance.hideBannerFun(!0),this.repeatCount>0?p.Instance.com.scheduleOnce((function(){n.showUI(n.isRepeat,n.lianxu_num,n.ccb),n.repeatCount--}),.1):this.ccb&&this.ccb()},r.showUI=function(n,t,e){var i=this;this.clickCount=0,this.lianxu_num=t,this.isRepeat=n,n&&this.repeatCount<=0&&(this.repeatCount=t),this.minclicknum=Number(g.instance.dataConfig.front_box_clicks[0]),this.maxclicknum=Number(g.instance.dataConfig.front_box_clicks[1]),this.needClick=g.instance.GetRandom(this.minclicknum,this.maxclicknum-g.instance.dataConfig.front_progress_bar_reduce),this.isforce=g.instance.dataConfig.front_is_box_force,this.addProgerss=1/this.maxclicknum,console.log("this.needClick:",this.needClick),console.log("this.addProgerss:",this.addProgerss),this.ccb=e,this.node.active=!0,this.hadShowBanner=!1,this.pBar.progress=0,this.rateTime=0,this.preTime=0,this.schedule(this.DecBar),this.showCallback=function(){i.node.active=!1},window.wx.onShow(this.showCallback),m.instance.showBanner()},r.closeCB=function(){this.node.active=!1},r.clickCB=function(){var n=this;if(this.clickCount++,this.pBar.progress+=this.addProgerss,this.pBar.progress>1&&(this.pBar.progress=1),this.shakeBox(),!this.hadShowBanner){this.isforce=g.instance.dataConfig.front_is_box_force;var t=g.instance.dataConfig.front_box_hide_time/1e3,e=function(){n.hadShowBanner=!0,n.scheduleOnce((function(){f.instance.getIsShow()||(n.repeatCount=0),f.instance.hideGrid(),n.isforce?(f.instance.getIsError()&&n.closeCB(),n.hadShowBanner=!1):n.closeCB()}),t),f.instance.showGrid()},i=this.rateTime-this.preTime,o=g.instance.dataConfig.front_box_sulv_qujian,r=this.getRandomItemInArr(o).split("|"),a=r[0],s=r[1];if(100*this.pBar.progress>=g.instance.dataConfig.front_box_sulv_start&&parseFloat(a)<=i&&i<=parseFloat(s))return console.log("宝箱触发频率：",i),g.instance.dataConfig.front_sulv_wuchu_switch&&(this.isforce=!0,t=g.instance.dataConfig.front_fbox_hide_time/1e3),void e();if(this.preTime=this.rateTime,this.pBar.progress>=this.needClick*this.addProgerss&&!this.hadShowBanner)return console.log("宝箱触发进度"),void e();this.clickCount>=g.instance.dataConfig.front_box_click_count&&(console.log("点击次数",this.clickCount),this.clickCount=0,e())}},r.shakeBox=function(){d.stopAllByTarget(this.box),u.fromEuler(this.quat1,0,0,-10),u.fromEuler(this.quat2,0,0,10),u.fromEuler(this.quat3,0,0,0),h(this.box).to(.1,{rotation:this.quat1}).to(.2,{rotation:this.quat2}).to(.1,{rotation:this.quat3}).start()},r.DecBar=function(){this.pBar.progress-=g.instance.dataConfig.front_progress_bar_return,this.pBar.progress<0&&(this.pBar.progress=0)},r.update=function(n){this.rateTime+=n},r.GetRandom=function(n,t,e){void 0===e&&(e=!0);var i=t-n,o=Math.random()*i;return o+=n,e?Math.floor(o):o},r.getRandomItemInArr=function(n){return n[Math.floor(Math.random()*n.length)]},t}(l)).prototype,"box",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(C.prototype,"pBar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=C))||_)),r._RF.pop()}}})),System.register("chunks:///_virtual/UMTrack.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,i=n._decorator}],execute:function(){var o,r;e._RF.push({},"66481x39YFPPLMhufOD40BX","UMTrack",void 0);var a=i.ccclass;i.property,n("UMTrack",a("UMTrack")(((r=function(){function n(){}var e=n.prototype;return e.init=function(){console.log("初始化友盟"),window.wx.uma.init({appKey:"62d10c9b05844627b5ec003a",useOpenid:!0,autoGetOpenid:!0,debug:!1,uploadUserInfo:!0})},e.trackEvent=function(n,t){console.log("上报事件",n),t?window.wx.uma.trackEvent(n,t):window.wx.uma.trackEvent(n)},e.onStart=function(n,t){window.wx.uma.stage.onStart({stageId:n,stageName:t})},e.onEnd=function(n,t){window.wx.uma.stage.onEnd({stageId:n,stageName:t,event:"complete"})},e.onInitLevel=function(n,t){window.wx.uma.level.onInitLevel({levelId:n,levelName:t})},e.onSetLevel=function(n,t){window.wx.uma.level.onSetLevel({levelId:n,levelName:t})},t(n,null,[{key:"instance",get:function(){return null===n._instance&&(n._instance=new n),n._instance},set:function(t){n._instance=t}}]),n}())._instance=null,o=r))||o),e._RF.pop()}}})),System.register("chunks:///_virtual/WxPlatform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./AppConfig.ts","./BasePlatform.ts","./JJMgr.ts","./WxPlatformBannerAd.ts"],(function(n){var t,e,i,o,r,a,s,c,u;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){i=n.cclegacy,o=n.director},function(n){r=n.WECHAT},function(n){a=n.default},function(n){s=n.default},function(n){c=n.default},function(n){u=n.default}],execute:function(){i._RF.push({},"94a82hcI5VDmJQGpuTAXQQQ","WxPlatform",void 0),n("default",function(n){function i(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this).shareCallBack=void 0,t.sysInfo=void 0,t.bannerSize=void 0,t.bannerTopFactor=0,t.videoAd=void 0,t.isForceShowVideo=void 0,t.videoEndCallback=void 0,t.videoCloseCallback=void 0,t.interAd=void 0,t.interAdOnClose=null,t.homeGridAds=void 0,t.gameGridAd=void 0,t.singleGridAd=void 0,t}t(i,n);var s=i.prototype;return s.init=function(){this.getSystemInfoSync(),this.videoId=a.wechat.videoAdUnitId[0],this.interId=a.wechat.interstitialAdUnitId[0],this.gridId=a.wechat.customAd,this.initAd();var n=window.wx.getLaunchOptionsSync().query;console.log("init query:",n)},s.initAd=function(){},s.setBannerTop=function(n){u.Instance.setBannerTop(n)},s.showBanner=function(){return u.Instance.showBanner()},s.hideBanner=function(){u.Instance.hideBanner()},s.loadVideoAd=function(){var n,t=this;function e(){console.log("video 加载成功")}function i(n){console.error("video 加载错误",n),o.resume()}function r(n){var e=!!(n&&n.isEnded||void 0===n);e&&(t.videoEndCallback&&t.videoEndCallback(),t.videoEndCallback=null),t.videoCloseCallback&&t.videoCloseCallback(e),t.videoCloseCallback=null,o.resume()}null!=(n=this.videoAd)&&(n.offLoad(e),n.offError(i),n.offClose(r)),(n=window.wx.createRewardedVideoAd({adUnitId:t.videoId})).onLoad(e),n.onError(i),n.onClose(r),this.videoAd=n},s.showVideoAd=function(n,t,e){var i=this;this.videoEndCallback=n,this.videoCloseCallback=t,null==this.videoAd&&this.loadVideoAd(),window.wx.showLoading({title:"视频广告加载中"}),o.pause();var r=this.videoAd;r.show().then((function(){window.wx.hideLoading()})).catch((function(n){window.wx.hideLoading(),r.load().then((function(){return r.show()})).catch((function(n){i.videoEndCallback&&i.videoEndCallback(),i.videoEndCallback=null,i.videoCloseCallback&&i.videoCloseCallback(),i.videoCloseCallback=null}))}))},s.createInterAd=function(){var n=this;this.interAd?this.interAd.show():(this.interAd=window.wx.createInterstitialAd({adUnitId:this.interId}),this.interAd.onLoad((function(){console.log("插屏广告加载成功")})),this.interAd.onError((function(){n.interAd=null})))},s.showInterAd=function(n){this.interAd&&this.interAd.show()},s.createHomeCustomAd=function(n){},s.createGameCustomAd=function(){if(c.instance.dataConfig.front_dangezi_switch&&!this.gameGridAd){this.gameGridAd=[];for(var n=0;n<2;n++){var t=this.getGridPos(n,80*(Math.floor(n/2)+1)),e=window.wx.createCustomAd({adUnitId:this.gridId[n],adIntervals:30,style:t});this.gameGridAd.push(e),e.onLoad((function(){}))}}},s.createSingleCustomAd=function(){},s.showHomeGridAd=function(){},s.hideHomeGridAd=function(){},s.showGameGridAd=function(){if(this.gameGridAd&&c.instance.dataConfig.front_dangezi_switch)for(var n=0;n<this.gameGridAd.length;n++)this.gameGridAd[n].show()},s.hideGameGridAd=function(){if(this.gameGridAd)for(var n=0;n<this.gameGridAd.length;n++)this.gameGridAd[n].hide()},s.showSingleGridAd=function(){},s.hideSingleGridAd=function(){},s.getGridPos=function(n,t){void 0===t&&(t=120);var e={width:20,height:20};return n%2==0?(e.left=20,e.top=t):(e.left=this.sysInfo.windowWidth-90,e.top=t),e},s.getSystemInfoSync=function(){this.sysInfo=window.wx.getSystemInfoSync()},s.showShareMenuWithTicket=function(n){window.wx.showShareMenu({withShareTicket:n,success:function(){},fail:function(){},complete:function(){}})},s.regisiterWXShareCallback=function(){var n=c.instance.shareContext;window.wx.onShareAppMessage((function(){return console.log("用户点击了转发按钮"),{title:n.title,imageUrl:n.image,query:"share_id=1",success:function(n){},fail:function(){}}}))},s.showToast=function(n,t){window.wx.showToast({title:n,duration:t,icon:"none",success:function(){},fail:function(){},complete:function(){},image:"",mask:!1})},s.shareGame=function(n){console.log("分享游戏");var t=c.instance.shareContext;this.JJShareAppMessage(t,n)},s.playVibrateShort=function(){window.wx.vibrateShort({success:function(){},fail:function(){},complete:function(){}})},s.playVibrateLong=function(){window.wx.vibrateLong({success:function(){},fail:function(){},complete:function(){}})},s.showModal=function(n){var t=this;window.wx.showModal({title:"提示",content:n,showCancel:!0,confirmText:"重新分享",success:function(n){n.confirm?(console.log("点击确定"),t.shareGame(t.shareCallBack)):n.cancel&&console.log("点击取消")}})},s.WxOnHide=function(n){window.wx.onHide(n)},s.WxOffHide=function(n){n&&r&&window.wx.offHide(n)},s.WxOnShow=function(n){window.wx.onShow(n)},s.WxOffShow=function(n){n&&r&&window.wx.offShow(n)},s.aldSendEvent=function(n,t){console.log("埋点：",n),window.wx.JJSendEvent((function(){return{name:n,param:t}}))},s.aldSendTest=function(n,t){window.wx.aldSendEvent(n,t)},s.aldSendOpenid=function(n){},s.JJBannerAdShowCount=function(){window.wx.JJBannerAdShowCount((function(){return{adUnitId:"",adUnitName:"banner",pageName:"all"}}))},s.JJSendVideoAdCount=function(n,t){var e=this;window.wx.JJSendVideoAdCount((function(){return{adUnitId:e.videoId,adUnitName:t,isEnded:n}}))},s.JJShareAppMessage=function(n,t){window.wx.JJShareAppMessage((function(){return{title:n.title,imageUrl:n.imageUrl,id:n.id}})).then((function(n){t(n)}))},s.JJOnShareAppMessage=function(n){window.wx.JJOnShareAppMessage((function(){return{title:n.title,imageUrl:n.imageUrl,id:n.id}}))},e(i,[{key:"bannerLoadError",get:function(){return u.Instance.isLoadBannerError},set:function(n){}}],[{key:"instance",get:function(){return this._instance||(this._instance=new i),this._instance}}]),i}(s))._instance=void 0,i._RF.pop()}}})),System.register("chunks:///_virtual/WxPlatformBannerAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJMgr.ts","./JJWxTrap.ts"],(function(n){var t,e,i,o;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy},function(n){i=n.default},function(n){o=n.default}],execute:function(){e._RF.push({},"51a2ft6sXpGUbTT7jXb3RY+","WxPlatformBannerAd",void 0),n("default",function(){function n(){this._sysInfo=void 0,this.isLoadBannerError=!1,this.bannerIds=void 0,this.bannerAdArr=[],this.bannerTimeArr=[],this.bannerErrorArr=[],this.bannerCountArr=[],this.currentIndex=0,this.indexTime=0,this.showBanner=void 0,this.hideBanner=void 0}var e=n.prototype;return e.initAd=function(n){void 0===n&&(n=[]),this.bannerIds=[],this.bannerIds=this.bannerIds.concat(i.instance.shuffleArr(n)),this.showBanner=this.showBannerFun,this.hideBanner=this.hideBannerFun,this.createBannerAd()},e.createBannerAd=function(){this.bannerAdArr=[],this.bannerTimeArr=[],this.bannerErrorArr=[],this.currentIndex=0;for(var n=0;n<this.bannerIds.length;n++){this.bannerErrorArr.push(!1),this.bannerTimeArr.push(0),this.bannerCountArr.push(0);var t=this.getBannerAd(n);this.bannerAdArr.push(t)}},e.getBannerAd=function(n,t){var e=this;void 0===t&&(t=!1),console.log("创建banner：",n);var o=window.wx.createBannerAd({adUnitId:t?this.getRandomItemInArr(this.bannerIds):this.bannerIds[n],style:{top:.8*this.sysInfo.screenHeight,width:.8*this.sysInfo.screenWidth,left:this.sysInfo.screenWidth/2-150},adIntervals:i.instance.dataConfig.front_banner_auto_refresh_time/1e3});return o.onError((function(){console.log("banner加载失败：",n),e.bannerErrorArr[n]=!0})),o.onLoad((function(){console.log("banner加载成功:",n),e.bannerErrorArr[n]=!1})),o.onResize((function(){o.style.top=e.sysInfo.screenHeight-o.style.realHeight,o.style.left=e.sysInfo.screenWidth/2-o.style.realWidth/2})),o},e.getIsAllError=function(){for(var n=!0,t=0;t<this.bannerErrorArr.length;t++)if(!this.bannerErrorArr[t]){n=!1;break}return n},e.showBannerFun=function(){this.currentIndex>=this.bannerAdArr.length&&(this.currentIndex=0),this.bannerCountArr[this.currentIndex]>=i.instance.dataConfig.front_banner_refresh_num&&(this.bannerCountArr[this.currentIndex]=0,this.currentIndex++,this.currentIndex>=this.bannerAdArr.length&&(this.currentIndex=0));for(var t=0;t<this.bannerErrorArr.length&&0!=this.bannerErrorArr[t];t++);for(var e=0;e<this.bannerErrorArr.length&&this.bannerErrorArr[this.currentIndex];e++)this.bannerTimeArr[this.currentIndex]=0,this.bannerCountArr[this.currentIndex]=0,this.bannerAdArr[this.currentIndex]=this.getBannerAd(this.currentIndex),this.currentIndex++,this.currentIndex>=this.bannerAdArr.length&&(this.currentIndex=0);return this.hideBannerFun(),console.log("当前展示的bannerId：",this.currentIndex),this.bannerAdArr[this.currentIndex]&&(this.bannerAdArr[this.currentIndex].show(),this.bannerCountArr[this.currentIndex]++),o.Instance.com.unschedule(n.Instance.updateBannerTime),o.Instance.com.schedule(n.Instance.updateBannerTime,.1),!0},e.showBannerFun2=function(){this.hideBannerFun(),this.showBannerFun()},e.showBannerFun2Fun=function(){this.showBannerFun()},e.hideBannerFun=function(t){o.Instance.com.unschedule(n.Instance.updateBannerTime);for(var e=0;e<this.bannerAdArr.length;e++)this.bannerAdArr[e]&&this.bannerAdArr[e].hide();t&&this.hideBannerFun2()},e.hideBannerFun2=function(){},e.checkBannerTimeOut=function(){var t=i.instance.dataConfig.front_banner_refresh_time;o.Instance.NewWuchu2||(t=3e4),this.bannerTimeArr[this.currentIndex]>=t/1e3&&(o.Instance.com.unschedule(n.Instance.updateBannerTime),this.hideBannerFun(),this.bannerAdArr[this.currentIndex].destroy(),this.bannerTimeArr[this.currentIndex]=0,this.bannerErrorArr[this.currentIndex]=!0,this.bannerAdArr[this.currentIndex]=this.getBannerAd(this.currentIndex),this.bannerAdArr[this.currentIndex].show(),o.Instance.com.schedule(n.Instance.updateBannerTime,.1))},e.updateBannerTime=function(){var t=n.Instance;t.bannerTimeArr[t.currentIndex]+=.1,t.checkBannerTimeOut()},e.countIndexTime=function(){o.Instance.com.schedule(n.Instance.updateIndexTime,.1)},e.updateIndexTime=function(){var t=n.Instance;t.indexTime+=.1,t.indexTime>=i.instance.dataConfig.front_assign_banner_time/1e3&&(t.hideBannerFun(),t.currentIndex++,t.showBannerFun(),t.indexTime=0)},e.stopCountIndexTime=function(){o.Instance.com.unschedule(n.Instance.updateIndexTime)},e.showHideBanner=function(){o.Instance.com.scheduleOnce(n.Instance.showHideBannerShow,i.instance.dataConfig.front_gezi_time/1e3)},e.showHideBannerShow=function(){n.Instance.showBannerFun(),o.Instance.com.scheduleOnce(n.Instance.showHideBannerHide,1)},e.showHideBannerHide=function(){n.Instance.hideBannerFun(),o.Instance.com.scheduleOnce(n.Instance.showHideBannerShow,i.instance.dataConfig.front_gezi_time/1e3)},e.clearShowHideBanner=function(){o.Instance.com.unschedule(n.Instance.showHideBannerHide),o.Instance.com.unschedule(n.Instance.showHideBannerShow),n.Instance.hideBannerFun()},e.getRandomIndex=function(n){for(var t=[],e=0;e<this.bannerIds.length;e++)t.push(e);return this.getRandomItemInArrWithoutSelf(n,t)[0]},e.setBannerTop=function(n){},e.shuffleArr=function(n){for(var t=n.length;t;){var e=Math.floor(Math.random()*t--),i=[n[t],n[e]];n[e]=i[0],n[t]=i[1]}return n},e.getRandomItemInArrWithoutSelf=function(n,t,e){void 0===e&&(e=1);var i=[].concat(t);return i.splice(i.indexOf(n),1),(i=this.shuffleArr(i)).slice(0,e)},e.getRandomItemInArr=function(n){return n[Math.floor(Math.random()*n.length)]},t(n,[{key:"sysInfo",get:function(){return this._sysInfo||(this._sysInfo=window.wx.getSystemInfoSync()),this._sysInfo}}],[{key:"Instance",get:function(){return n._instance||(n._instance=new n),n._instance}}]),n}())._instance=void 0,e._RF.pop()}}})),n="virtual:///prerequisite-imports/ExportLibs",t="chunks:///_virtual/ExportLibs",System.register(n,[t],(function(n,t){return{setters:[function(t){var e={};for(var i in t)"default"!==i&&"__esModule"!==i&&(e[i]=t[i]);n(e)}],execute:function(){}}})); 
 			}); 	require("game.js");
 	